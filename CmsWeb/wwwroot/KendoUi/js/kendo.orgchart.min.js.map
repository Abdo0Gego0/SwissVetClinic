{"version":3,"sources":["kendo.orgchart.js"],"names":["f","define","$","undefined","OrgChartDataSource","extend","proxy","data","kendo","Query","DataSource","TreeListDataSource","Model","ObservableArray","OrgChartModel","id","parentId","fields","type","editable","nullable","name","validation","required","title","avatar","init","value","fn","call","this","_loaded","parentIdField","nameField","titleField","avatarField","get","accept","set","field","initiator","loaded","shouldSerialize","base","options","model","schema","modelBase","groupedItemsTree","map","_childrenMap","view","defaultParentId","_defaultParentId","currentChildren","grouped","group","toArray","_innerGroupedItemsTree","itemChildren","item","fromView","itemId","filter","operator","order","_sort","length","sort","itemsTree","current","children","i","items","push","prospectParents","skippedItem","concat","read","then","_loadExpanded","toggleChildren","expand","defaultPromise","Deferred","resolve","promise","_error","expanded","load","j","innerGrouped","hasChildren","_byParentId","create","isArray","toJSON","Error","window","jQuery","amd","a1","a2","a3","keys","NS","BLUR","CLICK","COLLAPSE","EXPAND","FOCUS","KEYDOWN","MENU","SELECT","DOT","SPACE","COMMA","HASH","STRING","TABINDEX","ID","UID","PX","PLUS","MINUS","ARIA_OWNS","ARIA_SELECTED","ORGCHART_STYLES","wrapper","container","line","lineVertical","lineHorizontal","lineVerticalTop","groupVertical","groupHorizontal","nodesGroup","nodesGroupContainer","nodeContainer","node","card","cardMenu","button","focused","plusIcon","menuItem","avatarPreview","update","cancel","vstack","hstack","ROOT_TEMPLATE","GROUP_TEMPLATE","NODE_GROUP_CONTAINER","NODE_CONTAINER","NODE_CONTAINER_GROUPED","ITEM_TEMPLATE","BUTTON_TEMPLATE","CARD_TEMPLATE","CARD_WRAPPER","GROUPED_CARD_WRAPPER","View","Observable","element","_attachEvents","events","destroy","ui","Widget","off","collapse","jqueryGroupElement","jQueryElement","_processItem","hasClass","closest","jqueryItemElement","refresh","_cacheFocused","_clearContent","_generateItemsTree","_calculateLevels","_render","select","$item","_getToSelect","previousSelection","find","removeAttr","removeClass","attr","addClass","trigger","itemsSelector","on","_onKeyDown","_onSelect","_onButtonClick","_onFocus","_onBlur","focusableItem","focusableDataItem","_dataItems","_idTabIndex","_shouldRestoreSelection","_calculateDimensions","itemElement","_selector","first","_buttonHeight","outerHeight","_spacing","_itemWidth","_calculateItemWidth","_itemHeight","_calculateLevel","empty","_dataItem","dataSource","getByUid","_groupIsVertical","_keyCollapse","_keyExpand","_keyNext","_keyPrev","_keyEnter","_keyEscape","_keyEnd","target","last","previous","dataItems","_keyHome","e","groupIsVertical","key","keyCode","isRtl","support","nextKey","LEFT","RIGHT","prevKey","expandKey","DOWN","collapseKey","UP","HOME","END","indexOf","preventDefault","stopPropagation","ENTER","ESC","that","currentTarget","shouldExpand","el","siblings","_orientation","isElement","totalWidth","_itemsTree","root","template","label","messages","wrapperContainer","total","_total","widgetPadding","css","append","_renderGroup","width","split","_setHeight","_restoreSelection","_renderNode","cardWrapperTemplate","contentTemplate","level","guid","content","cardWrapper","borderColors","cardsColors","getSeriesColors","menuLabel","color","attributes","JSON","parse","stringify","toFocusItem","toFocus","_getToFocus","_preventTriggerSelect","buttonHeight","selector","elements","min","Number","MAX_VALUE","max","height","each","top","offset","bottom","SingleView","outerWidth","previousMax","itemsLength","maxColumnsPerLevel","_maxColumnsPerLevel","nestedChildren","shouldReset","itemGroup","parentUid","parentItem","dataItem","childItem","ownedGroup","next","parent","prev","menuButtonTarget","vertical","vLine","before","clone","parentColumns","parentLeft","_renderInner","innerGroup","itemWidth","spacing","buttonTemplate","numberOfColumns","hLine","buttonSign","_renderInnerGroup","after","margin-top","left","groupTemplate","offsetDirection","GroupedView","$group","ds","_groupFocused","getAttribute","cardWidth","padding","border","groups","currentLength","groupsLength","maxColumns","_maxGroups","currentTotal","maxGroups","groupField","some","toSelect","ownedGroupId","_renderChildren","index","nodesGroupWidth","currentVertical","_renderNodesContainer","_renderItems","groupHeaderTemplate","nodeGroupContainerTemplate","nodeGroup","nodeGroupContainer","orgChart","DataBoundWidget","ContextMenu","Array","CANCEL","CHANGE","CREATE","DATABINDING","DATABOUND","DELETE","DESTROY","EDIT","ERROR","KENDOKEYDOWN","PROGRESS","SAVE","REQUEST_START","ACTION","closeButton","MENU_ITEMS","edit","GROUP_HEADER_TEMPLATE","AVATAR_PREVIEW_TEMPLATE","EDITOR_BUTTONS_TEMPLATE","OrgChart","_events","_wrapper","_view","_dataSource","_contextMenu","autoBind","fetch","notify","form","buttonsTemplate","orientation","destroyContent","destroyTitle","save","uploadAvatar","none","_menu","_editWindow","_confirmDestroy","setDataSource","setOptions","$parent","add","sync","cancelChanges","hasChanges","delete","remove","_edit","getCollapsedNodes","saveChanges","_avatarPreview","fileName","formWrapper","_form","avatarRemove","pop","prepend","menuElement","menuOptions","_onMenuItemClick","bind","activate","_onMenuOpen","deactivate","_onMenuClose","showOn","animation","dsOptions","unbind","_dataSourceChangeHandler","_errorHandler","_progressHandler","_requestStartHandler","_onDataSourceChange","_onDataSourceError","_progress","_onDataSourceRequestStart","_destroyItem","restoreFocus","confirm","Confirm","okText","show","setTimeout","open","result","done","fail","formElement","windowElement","formOptions","_formOptions","Form","Window","modal","close","center","validate","parentsDs","optionsItems","optionsForm","editor","editorOptions","dataValueField","dataTextField","valuePrimitive","_uploadEditor","formData","action","document","activeElement","newItem","targetItem","_openMenu","toggle","progress","_triggerCollapse","_triggerExpand","_triggerSelect","appendTo","kendoUpload","async","multiple","fileInfo","files","raw","rawFile","reader","FileReader","validationErrors","onloadend","readAsDataURL","allowedExtensions","maxFileSize","plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;CAwBC,SAAUA,EAAGC,QACVA,OAAO,iBACH,aACA,kBACDD,IACL,WA0QE,MAzQC,UAAUE,EAAGC,GAAb,GAsHOC,GArHAC,EAASH,EAAEG,OAAQC,EAAQJ,EAAEI,MAAOC,EAAOC,MAAMD,KAAME,EAAQF,EAAKE,MAAOC,EAAaH,EAAKG,WAAYC,EAAqBJ,EAAKI,mBAAoBC,EAAQL,EAAKK,MAAOC,EAAkBN,EAAKM,gBAClMC,EAAgBF,EAAMX,QACtBc,GAAI,KACJC,SAAU,WACVC,QACIF,IACIG,KAAM,SACNC,UAAU,GAEdH,UACIE,KAAM,SACNE,UAAU,GAEdC,MACIH,KAAM,SACNI,YAAcC,UAAU,IAE5BC,OAASN,KAAM,UACfO,QAAUP,KAAM,WAEpBQ,KAAM,SAAUC,GACZf,EAAMgB,GAAGF,KAAKG,KAAKC,KAAMH,GACzBG,KAAKC,SAAU,EACVD,KAAKE,gBACNF,KAAKE,cAAgB,YAEpBF,KAAKG,YACNH,KAAKG,UAAY,QAEhBH,KAAKI,aACNJ,KAAKI,WAAa,SAEjBJ,KAAKK,cACNL,KAAKK,YAAc,UAEvBL,KAAKd,SAAWc,KAAKM,IAAIN,KAAKE,eAC9BF,KAAKT,KAAOS,KAAKM,IAAIN,KAAKG,WAC1BH,KAAKN,MAAQM,KAAKM,IAAIN,KAAKI,YAC3BJ,KAAKL,OAASK,KAAKM,IAAIN,KAAKK,cAEhCE,OAAQ,SAAU9B,GACdK,EAAMgB,GAAGS,OAAOR,KAAKC,KAAMvB,GAC3BuB,KAAKd,SAAWc,KAAKM,IAAIN,KAAKE,eAC9BF,KAAKT,KAAOS,KAAKM,IAAIN,KAAKG,WAC1BH,KAAKN,MAAQM,KAAKM,IAAIN,KAAKI,YAC3BJ,KAAKL,OAASK,KAAKM,IAAIN,KAAKK,cAEhCG,IAAK,SAAUC,EAAOZ,EAAOa,GACZ,YAATD,GAAyC,YAAlBT,KAAKG,YAC5BH,KAAKA,KAAKE,eAAiBL,GAElB,QAATY,GAAqC,QAAlBT,KAAKG,YACxBH,KAAKA,KAAKG,WAAaN,GAEd,SAATY,GAAuC,SAAnBT,KAAKI,aACzBJ,KAAKA,KAAKI,YAAcP,GAEf,UAATY,GAAyC,UAApBT,KAAKK,cAC1BL,KAAKA,KAAKK,aAAeR,GAE7Bf,EAAMgB,GAAGU,IAAIT,KAAKC,KAAMS,EAAOZ,EAAOa,GAClCD,GAAST,KAAKE,gBACdF,KAAKd,SAAWc,KAAKM,IAAIN,KAAKE,gBAE9BO,GAAST,KAAKG,YACdH,KAAKT,KAAOS,KAAKM,IAAIN,KAAKG,YAE1BM,GAAST,KAAKI,aACdJ,KAAKN,MAAQM,KAAKM,IAAIN,KAAKI,aAE3BK,GAAST,KAAKK,cACdL,KAAKL,OAASK,KAAKM,IAAIN,KAAKK,eAGpCM,OAAQ,SAAUd,GACd,MAAIA,KAAUxB,EAGH2B,KAAKC,SAFZD,KAAKC,QAAUJ,EAAfG,IAKRY,gBAAiB,SAAUH,GACvB,MAAO3B,GAAMgB,GAAGc,gBAAgBb,KAAKC,KAAMS,IAAoB,YAAVA,GAAgC,UAATA,GAA8B,SAATA,KAA6C,aAAvBT,KAAKE,eAA0C,aAAVO,KAGpKzB,GAAckB,cAAgB,WAC9BlB,EAAcmB,UAAY,OAC1BnB,EAAcoB,WAAa,QAC3BpB,EAAcqB,YAAc,SAC5BrB,EAAcb,OAAS,SAAU0C,EAAMC,GAAhB,GAKf5B,GACAK,EACAG,EACAC,EAKAoB,CAaJ,OAzBID,KAAYzC,IACZyC,EAAUD,EACVA,EAAO7B,GAEPE,EAAW4B,EAAQ5B,UAAY,WAC/BK,EAAOuB,EAAQvB,MAAQ,OACvBG,EAAQoB,EAAQpB,OAAS,QACzBC,EAASmB,EAAQnB,QAAU,SAC/BmB,EAAQZ,cAAgBhB,EACxB4B,EAAQX,UAAYZ,EACpBuB,EAAQV,WAAaV,EACrBoB,EAAQT,YAAcV,EAClBoB,EAAQjC,EAAMX,OAAO0C,EAAMC,GAC3B5B,IACA6B,EAAMb,cAAgBhB,GAEtBK,IACAwB,EAAMZ,UAAYZ,GAElBG,IACAqB,EAAMX,WAAaV,GAEnBC,IACAoB,EAAMV,YAAcV,GAEjBoB,GAEPzC,EAAqBO,EAAmBN,QACxCqB,KAAM,SAAUkB,GACZjC,EAAmBiB,GAAGF,KAAKG,KAAKC,KAAMzB,GAAO,MACzCyC,QACIC,UAAWjC,EACX+B,MAAO/B,IAEZ8B,KAEPI,iBAAkB,SAAUT,GACxB,GAAIU,GAAMnB,KAAKoB,aAAapB,KAAKqB,QAASC,EAAkBtB,KAAKuB,mBAAoBC,EAAkBL,EAAIG,OAAwBG,EAAU,GAAI9C,GAAM6C,GAAiBE,OAAQjB,MAAOA,IAASkB,SAChM,OAAO3B,MAAK4B,uBAAuBnB,EAAOgB,EAASN,IAEvDU,aAAc,SAAUC,EAAMC,GAAhB,GAONC,GAAQvD,EANRwD,GACAxB,MAAO,WACPyB,SAAU,KACVrC,MAAO,MAEPsC,EAAQnC,KAAKoC,OAASpC,KAAKoC,MAAMC,OAASrC,KAAKoC,QAOnD,IAJI3D,EADAsD,EACO/B,KAAKqB,OAELrB,KAAKvB,OAEVqD,EAAM,CAER,GADAE,EAASF,EAAKxB,IAAI,MACd0B,IAAW3D,GAAwB,OAAX2D,GAA8B,KAAXA,EAC3C,QAEJC,GAAOpC,MAAQmC,EAGnB,MADAvD,GAAO,GAAIE,GAAMF,GAAMwD,OAAOA,GAAQK,KAAKH,GAAOR,WAGtDY,UAAW,SAAUT,EAAMrB,GACvB,GAAe+B,GAAgDC,EAAUC,EAArEjE,KAAoBkE,EAAQ3C,KAAK6B,aAAaC,GAAM,EACxD,KAAKY,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BF,EAAUG,EAAMD,GACZF,EAAQlC,IAAI,cACZmC,EAAWzC,KAAKuC,UAAUC,EAAS/B,GACnC+B,EAAUjE,GAAO,KAAUiE,GAC3BA,EAAQC,SAAWA,GAEvBD,EAAUjE,GAAO,KAAUiE,GAC3B/D,EAAKmE,KAAKJ,EAKd,OAHc,QAAV/B,GAAkBA,IAAUpC,IAC5BI,EAAO,GAAIE,GAAMF,GAAMiD,OAAQjB,MAAOA,IAASkB,WAE5ClD,GAEXoE,gBAAiB,SAAUC,EAAahB,GACpC,GAAeU,GAAiDC,EAAUC,EAAtEjE,KAAoBkE,EAAQ3C,KAAK6B,aAAaC,GAAM,EACxD,KAAKY,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BF,EAAUG,EAAMD,GACZF,EAAQlC,IAAI,QAAUwC,EAAYxC,IAAI,QAG1C7B,EAAKmE,KAAKJ,GACNA,EAAQlC,IAAI,iBACZmC,EAAWzC,KAAK6C,gBAAgBC,EAAaN,GAC7C/D,EAAOA,EAAKsE,OAAON,IAG3B,OAAOhE,IAEXuE,KAAM,SAAUvE,GACZ,MAAOG,GAAWkB,GAAGkD,KAAKjD,KAAKC,KAAMvB,GAAMwE,KAAKzE,EAAMwB,KAAKkD,cAAelD,KAAMvB,KAEpF0E,eAAgB,SAAUrB,EAAMsB,GAC5B,GAAIC,GAAiBjF,EAAEkF,WAAWC,UAAUC,UAAW7C,EAASmB,EAAKnB,QAYrE,OAXImB,GAAK2B,SACL3B,EAAK4B,UAAW,EAChB5B,EAAK2B,OAASpF,GAEG,IAAV+E,IACPA,GAAUtB,EAAK4B,UAEnB5B,EAAK4B,SAAWN,EACXzC,IACD0C,EAAiBrD,KAAK2D,KAAK7B,IAExBuB,GAEXzB,uBAAwB,SAAUnB,EAAOgB,EAASN,GAC9C,GAAIO,GAAOgB,EAAGkB,EAAG5B,EAAQ6B,EAAcpB,EAAUD,EAASsB,CAC1D,KAAKpB,EAAI,EAAGA,EAAIjB,EAAQY,OAAQK,IAAK,CAIjC,IAHAhB,EAAQD,EAAQiB,GAChBD,KACAqB,GAAc,EACTF,EAAI,EAAGA,EAAIlC,EAAMiB,MAAMN,OAAQuB,IAChCpB,EAAUd,EAAMiB,MAAMiB,IACjBlC,EAAMoC,aAAetB,EAAQsB,cAC9BpC,EAAMoC,aAAc,GAEpBtB,EAAQkB,WACRhC,EAAMgC,UAAW,GAErB1B,EAASN,EAAMiB,MAAMiB,GAAGtD,IAAI,MAC5BmC,EAAWA,EAASM,OAAO5B,EAAIa,GAE/BN,GAAMgC,WACNG,EAAe,GAAIlF,GAAM8D,GAAUf,OAAQjB,MAAOA,IAASkB,UAC3DD,EAAMe,SAAWzC,KAAK4B,uBAAuBnB,EAAOoD,EAAc1C,KAEjEO,EAAMoC,aAAerB,EAASJ,OAAS,IACxCX,EAAMoC,aAAc,GAG5B,MAAOrC,IAEXyB,cAAe,SAAUzE,GACrB,GAAIkE,GAAOD,EAAGF,CACd,IAAK/D,EAQL,IAJIkE,EAAQ3C,KAAK+D,YADD,OAAZtF,EAAKQ,IAAeR,EAAKQ,KAAOZ,EACPI,EAAKQ,GAELe,KAAKuB,oBAE7BmB,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BF,EAAUG,EAAMD,GACZF,EAAQkB,WAAalB,EAAQ7B,UAC7BX,KAAKmD,eAAeX,GAAS,MAK7ClE,EAAmB0F,OAAS,SAAUlD,GAMlC,GALI1C,EAAE6F,QAAQnD,GACVA,GAAYrC,KAAMqC,GACXA,YAAmB/B,KAC1B+B,GAAYrC,KAAMqC,EAAQoD,aAExBpD,YAAmBxC,KAAuBwC,YAAmBlC,GAC/D,KAAUuF,OAAM,6EAEpB,OAAOrD,aAAmBxC,GAAqBwC,EAAU,GAAIxC,GAAmBwC,IAEpFvC,GAAO,EAAMG,MAAMD,MACfO,cAAeA,EACfV,mBAAoBA,KAE1B8F,OAAO1F,MAAM2F,QACRD,OAAO1F,OACE,kBAAVP,SAAwBA,OAAOmG,IAAMnG,OAAS,SAAUoG,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUtG,EAAGC,QACVA,OAAO,iBAAkB,cAAeD,IAC1C,WA8+BE,MA7+BC,UAAUE,EAAGC,GAAb,GACOK,GAAQ0F,OAAO1F,MAAOgG,EAAOhG,EAAMgG,KAAMnG,EAASH,EAAEG,OAAQC,EAAQJ,EAAEI,MAAOmG,EAAK,qBAAsBC,EAAO,OAAQC,EAAQ,QAASC,EAAW,WAAYC,EAAS,SAAUC,EAAQ,QAASC,EAAU,UAAWC,EAAO,OAAQC,EAAS,SAAUC,EAAM,IAAKC,EAAQ,IAAKC,EAAQ,IAAKC,EAAO,IAAKC,EAAS,SAAUC,EAAW,WAAYC,EAAK,KAAMC,EAAM,MAAOC,EAAK,KAAMC,EAAO,OAAQC,EAAQ,QAASC,EAAY,YAAaC,EAAgB,gBACjcC,GACAC,QAAS,aACTC,UAAW,uBACXC,KAAM,kBACNC,aAAc,oBACdC,eAAgB,oBAChBC,gBAAiB,wBACjB7E,MAAO,mBACP8E,cAAe,qBACfC,gBAAiB,qBACjBC,WAAY,wBACZC,oBAAqB,kCACrBC,cAAe,4BACfC,KAAM,kBACNC,KAAM,kBACNC,SAAU,uBACVC,OAAQ,oBACRC,QAAS,gBACTC,SAAU,WACVC,SAAU,SACVC,cAAe,4BACfC,OAAQ,oBACRC,OAAQ,oBACRC,OAAQ,WACRC,OAAQ,YAERC,EAAgB,6KAChBC,EAAiB,uIACjBC,EAAuB,+RACvBC,EAAiB,4FACjBC,EAAyB,kHACzBC,EAAgB,oEAChBC,EAAkB,qOAClBC,EAAgB,yzBAChBC,EAAe,iWACfC,EAAuB,0MACvBC,EAAOzJ,EAAM0J,WAAW7J,QACxBqB,KAAM,SAAUyI,EAASvH,GACrBd,KAAKqI,QAAUA,EACfrI,KAAKc,QAAUA,MACfpC,EAAM0J,WAAWtI,GAAGF,KAAKG,KAAKC,MAC9BA,KAAKsI,iBAETC,QACIzD,EACAC,EACAI,EACAD,GAEJsD,QAAS,WACL9J,EAAM+J,GAAGC,OAAO5I,GAAG0I,QAAQzI,KAAKC,MAChCA,KAAKqI,QAAQM,IAAIhE,IAErBiE,SAAU,WACN,OAAO,GAEXxF,OAAQ,WACJ,OAAO,GAEXyF,mBAAoB,SAAUnH,GAC1B,GAAKA,EAAL,CAGA,GAAIoH,GAAgB9I,KAAK+I,aAAarH,EAItC,OAHKoH,GAAcE,SAAS/C,EAAgBU,uBACxCmC,EAAgBA,EAAcG,QAAQ7D,EAAMa,EAAgBU,sBAEzDmC,GAAiBA,EAAczG,OAASyG,EAAgB,OAEnEI,kBAAmB,SAAUpH,GACzB,GAAKA,EAAL,CAGA,GAAIgH,GAAgB9I,KAAK+I,aAAajH,EAItC,OAHKgH,GAAcE,SAAS/C,EAAgBa,QACxCgC,EAAgBA,EAAcG,QAAQ7D,EAAMa,EAAgBa,OAEzDgC,GAAiBA,EAAczG,OAASyG,EAAgB,OAEnEK,QAAS,WACLnJ,KAAKoJ,gBACLpJ,KAAKqJ,gBACLrJ,KAAKsJ,qBACLtJ,KAAKuJ,mBACLvJ,KAAKwJ,WAETC,OAAQ,SAAU3H,GACd,GAAI4H,GAAQ1J,KAAK2J,aAAa7H,GAAO8H,EAAoB5J,KAAKqI,QAAQwB,KAAK,eACtEH,KAGLE,EAAkBE,WAAWrE,GAAUsE,YAAY9D,EAAgBgB,SAAS+C,KAAKhE,GAAe,GAChG0D,EAAMM,KAAKvE,EAAU,KAAKwE,SAAShE,EAAgBgB,SAASiD,QAAQ,SAASF,KAAKhE,GAAe,KAErGsC,cAAe,WACX,GAAI6B,GAAgB/E,EAAMa,EAAgBa,KAAOxB,EAAQF,EAAMa,EAAgBU,mBAC/E3G,MAAKqI,QAAQ+B,GAAGnF,EAAUN,EAAIwF,EAAe3L,EAAMwB,KAAKqK,WAAYrK,OAAOoK,GAAGvF,EAAQF,EAAIwF,EAAe3L,EAAMwB,KAAKsK,UAAWtK,OAAOoK,GAAGvF,EAAQF,EAAIS,EAAMa,EAAgBe,OAAQxI,EAAMwB,KAAKuK,eAAgBvK,OAAOoK,GAAGpF,EAAQL,EAAIwF,EAAe3L,EAAMwB,KAAKwK,SAAUxK,OAAOoK,GAAGxF,EAAOD,EAAIS,EAAMa,EAAgBgB,QAASzI,EAAMwB,KAAKyK,QAASzK,QAEpVoJ,cAAe,WACX,GAAIsB,GAAgB1K,KAAKqI,QAAQwB,KAAK,kBAAqBc,EAAoB3K,KAAK4K,WAAWF,EAC1FA,GAAcrI,QAAWsI,GAAsBA,EAAkBtI,SAAYrC,KAAK6K,cAGvF7K,KAAK6K,YAAcF,EAAkB,GAAGrK,IAAIoF,GAExC1F,KAAK8K,0BADLJ,EAAc1B,SAAS/C,EAAgBgB,WAM/C8D,qBAAsB,WAClB,GAAIC,GAAchL,KAAKqI,QAAQwB,KAAKzE,EAAMpF,KAAKiL,WAAWC,OACrDlL,MAAKmL,gBACNnL,KAAKmL,cAAgBnL,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBe,QAAQkE,QAAQE,eAE5EpL,KAAKqL,WACNrL,KAAKqL,SAAWrL,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBI,cAAc6E,QAAQE,eAE7EpL,KAAKsL,aACNtL,KAAKsL,WAAatL,KAAKuL,uBAEtBvL,KAAKwL,cACNxL,KAAKwL,YAAcR,EAAYI,aAAY,KAGnDG,oBAAqB,WACjB,OAAO,GAEXE,gBAAiB,WACb,OAAO,GAEXlC,iBAAkB,WACd,OAAO,GAEXF,cAAe,WACXrJ,KAAKqI,QAAQqD,SAEjBC,UAAW,SAAU7J,GACjB,GAAI4H,GAAQ1J,KAAKkJ,kBAAkBpH,EACnC,IAAK4H,GAAUA,EAAMjL,KAAKkH,GAG1B,MAAO3F,MAAK4L,WAAWC,SAASnC,EAAMjL,KAAKkH,KAE/CiF,WAAY,WACR,OAAO,GAEXtB,mBAAoB,WAChB,OAAO,GAEXK,aAAc,WACV,OAAO,GAEXmC,iBAAkB,WACd,OAAO,GAEXC,aAAc,WACV,OAAO,GAEXC,WAAY,WACR,OAAO,GAEXC,SAAU,WACN,OAAO,GAEXC,SAAU,WACN,OAAO,GAEXC,UAAW,WACP,OAAO,GAEXC,WAAY,WACR,OAAO,GAEXC,QAAS,WACL,GAAIC,GAAStM,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBa,MAAMyF,OAAQC,EAAWxM,KAAKqI,QAAQwB,KAAK,eAC5F2C,GAAS,KAAOF,EAAO,IAG3BtM,KAAKkK,QAAQ/E,GACTrD,KAAMwK,EACNG,WAAYzM,KAAK2L,UAAUW,OAGnCI,SAAU,WACN,GAAIJ,GAAStM,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBa,MAAMoE,QAASsB,EAAWxM,KAAKqI,QAAQwB,KAAK,eAC7F2C,GAAS,KAAOF,EAAO,IAG3BtM,KAAKkK,QAAQ/E,GACTrD,KAAMwK,EACNG,WAAYzM,KAAK2L,UAAUW,OAGnC7B,QAAS,WACLzK,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBgB,SAAS8C,YAAY9D,EAAgBgB,UAEjFoD,WAAY,SAAUsC,GAClB,GAAuPC,GAAnPC,EAAMF,EAAEG,QAAS7F,EAAUjH,KAAKqI,QAAQwB,KAAK,gBAAiBkD,EAAQrO,EAAMsO,QAAQD,MAAM/M,KAAKqI,SAAU4E,EAAUF,GAASrI,EAAKwI,OAASxI,EAAKyI,OAAQC,EAAUL,GAASrI,EAAKyI,QAAUzI,EAAKwI,MAAOG,EAAY3I,EAAK4I,KAAMC,EAAc7I,EAAK8I,EAC9OvG,KAGL2F,EAAkB5M,KAAK8L,iBAAiB7E,GACpC2F,IACAK,EAAQrK,KAAK8B,EAAK4I,MAClBF,EAAQxK,KAAK8B,EAAK8I,KAElBX,IAAQnI,EAAK+I,KACbzN,KAAK0M,WACEG,IAAQnI,EAAKgJ,IACpB1N,KAAKqM,UACEY,EAAQU,QAAQd,OACvBF,EAAEiB,iBACFjB,EAAEkB,kBACF7N,KAAKiM,SAAShF,IACPmG,EAAQO,QAAQd,OACvBF,EAAEiB,iBACFjB,EAAEkB,kBACF7N,KAAKkM,SAASjF,IACP4F,IAAQQ,GACfV,EAAEiB,iBACFjB,EAAEkB,kBACF7N,KAAKgM,WAAW/E,IACT4F,IAAQU,GACfZ,EAAEiB,iBACFjB,EAAEkB,kBACF7N,KAAK+L,aAAa9E,IACX4F,IAAQnI,EAAKoJ,MACpB9N,KAAKmM,UAAUlF,GACR4F,IAAQnI,EAAKqJ,KACpB/N,KAAKoM,WAAWnF,KAGxBsD,eAAgB,SAAUoC,GACtB,GAA6MjK,GAAzMsL,EAAOhO,KAAMsM,EAASlO,EAAEuO,EAAEsB,eAAgBC,EAAe5B,EAAOzC,KAAKzE,EAAMa,EAAgBiB,UAAU7E,OAAS,EAAkB8L,EAAK7B,EAAO8B,SAAShJ,EAAMpF,KAAKiL,WAAYtI,EAAQ3C,KAAK4K,WAAWuD,EACxM,IAAID,GACA,GAAIF,EAAK9D,QAAQnF,GACTjD,KAAMqM,EACN1B,UAAW9J,IAEf,WAGJ,IAAIqL,EAAK9D,QAAQpF,GACThD,KAAMqM,EACN1B,UAAW9J,IAEf,MAGR,KAAKD,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BsL,EAAKpC,WAAWzI,eAAeR,EAAMD,GAAIwL,GAAcjL,KAAKzE,EAAMwB,KAAKmJ,QAASnJ,QAGxFwK,SAAU,WACN,OAAO,GAEXF,UAAW,WACP,OAAO,GAEX+D,aAAc,WACV,OAAO,GAEXtF,aAAc,SAAUoF,GACpB,GAAIrF,EAQJ,OAPI1K,GAAEgB,KAAK+O,KAAQ3I,EACfsD,EAAgB9I,KAAKqI,QAAQwB,KAAKsE,GAC3BzP,EAAM4P,UAAUH,GACvBrF,EAAgB1K,EAAE+P,GACXA,YAAc9J,UACrByE,EAAgBqF,GAEbrF,GAEXU,QAAS,WACL,GAAiQ+E,GAA7P5L,EAAQ3C,KAAKwO,WAAYC,EAAOrQ,EAAEM,EAAMgQ,SAASjH,IAAiBkH,MAAO3O,KAAKc,QAAQ8N,SAASD,SAAWE,EAAmB7O,KAAKqI,QAASyG,EAAQ9O,KAAK+O,OAAQC,EAAgBH,EAAiB5F,QAAQ7D,EAAMa,EAAgBC,SAAS+I,IAAI,eAChPJ,GAAiBK,OAAOT,GACxBzO,KAAKmP,aAAaV,EAAM9L,EAAO,EAAG3C,KAAK+O,OAAQ,GAC/CR,EAAaO,EAAQ9O,KAAKsL,YAAcwD,EAAQ,GAAK9O,KAAKqL,SAC1DoD,EAAKW,MAAMb,GACXM,EAAiBO,MAAMb,IAAoBS,EAAcK,MAAMzJ,GAAI,IACnE5F,KAAKsP,aACLtP,KAAKuP,qBAETC,YAAa,SAAUC,EAAqBC,EAAiB5N,EAAM6N,EAAOC,GACtE,GAAmIC,GAASC,EAAxIlB,EAAW5O,KAAKc,QAAQ8N,SAAUmB,EAAe/P,KAAKc,QAAQkP,aAAetR,EAAMuR,kBAAmBpJ,EAAOzI,EAAE0J,EAoBnH,OAnBAgI,GAAc1R,EAAEqR,EAAoBlR,GAAO,KAAUuD,GACjDoO,UAAWtB,EAASsB,UACpBP,MAAOA,EACPC,KAAMA,EACNvQ,WAAYW,KAAKc,QAAQzB,SACzB8Q,MAAOJ,EAAaJ,EAAQ,IAAMI,EAAa,OAE/CjO,EAAKsO,YACLN,EAAY9F,KAAKqG,KAAKC,MAAMD,KAAKE,UAAUzO,EAAKsO,cAEpDP,EAAUzR,EAAEsR,EAAgBnR,GAAO,KAAUuD,GACzCoO,UAAWtB,EAASsB,UACpBP,MAAOA,EACPC,KAAMA,EACNvQ,WAAYW,KAAKc,QAAQzB,SACzB8Q,MAAOJ,EAAaJ,EAAQ,IAAMI,EAAa,OAEnDD,EAAYZ,OAAOW,GACnBhJ,EAAKqI,OAAOY,GACLjJ,GAEXsI,aAAc,WACV,OAAO,GAEXI,kBAAmB,WACf,GAAIiB,GAAaC,CACZzQ,MAAK6K,aAIN2F,EAAcxQ,KAAK4L,WAAWtL,IAAIN,KAAK6K,aACvC4F,EAAUD,EAAcxQ,KAAK0Q,YAAYF,GAAexQ,KAAKqI,QAAQwB,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAChGuF,EAAQzG,KAAKvE,EAAU,KACvBzF,KAAK6K,YAAc,OANnB4F,EAAUzQ,KAAKqI,QAAQwB,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAClDuF,EAAQzG,KAAKvE,EAAU,MAOvBzF,KAAK8K,0BACL9K,KAAK8K,yBAA0B,EAC/B9K,KAAK2Q,uBAAwB,EAC7BF,EAAQvG,QAAQ,SAChBuG,EAAQxG,SAAShE,EAAgBgB,WAGzCqI,WAAY,WACR,GAAqJsB,GAAjJC,EAAW7Q,KAAKiL,UAAW6F,EAAW9Q,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBe,OAAS1B,EAAQF,EAAMyL,GAAWE,EAAMC,OAAOC,UAAWC,EAAM,CAClJlR,MAAK+K,uBACL6F,EAAe5Q,KAAKmL,cACpBnL,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBM,iBAAiB4K,OAAOnR,KAAKqL,SAAWuF,EAAe,GAC/FE,EAASM,KAAK,SAAU1O,EAAGyL,GACvB,GAAIkD,GAAMjT,EAAE+P,GAAImD,SAASD,IAAKE,EAASF,EAAMjT,EAAE+P,GAAI/C,aAAY,EAC3DiG,GAAMN,IACNA,EAAMM,GAENE,EAASL,IACTA,EAAMK,KAGdvR,KAAKqI,QAAQ8I,OAAOD,EAAMH,MAG9BS,EAAarJ,EAAK5J,QAClBqB,KAAM,SAAUyI,EAASvH,GACrBqH,EAAKrI,GAAGF,KAAKG,KAAKC,KAAMqI,EAASvH,GACjCd,KAAKiL,UAAYhF,EAAgBa,MAErC8B,SAAU,SAAU9G,GAChB,GAAI4H,GAAQ1J,KAAKkJ,kBAAkBpH,EAC9B4H,IAGL1J,KAAK4L,WAAWzI,eAAenD,KAAK2L,UAAUjC,IAAQ,GAAOzG,KAAKzE,EAAMwB,KAAKmJ,QAASnJ,QAE1FoD,OAAQ,SAAUtB,GACd,GAAI4H,GAAQ1J,KAAKkJ,kBAAkBpH,EAC9B4H,IAGL1J,KAAK4L,WAAWzI,eAAenD,KAAK2L,UAAUjC,IAAQ,GAAMzG,KAAKzE,EAAMwB,KAAKmJ,QAASnJ,QAEzFuL,oBAAqB,WACjB,MAAOvL,MAAKqI,QAAQwB,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAAQuG,YAAW,IAEtEhG,gBAAiB,SAAU9I,EAAOgN,GAC9B,GAA4H+B,GAAahP,EAAGZ,EAAxI6P,EAAchP,EAAMN,OAAQuP,EAAqB5R,KAAK6R,oBAAqBC,GAAiB,EAAOC,GAAc,CAMrH,OALKH,EAAmBjC,IAAUiC,EAAmBjC,GAASgC,KAC1DD,EAAcE,EAAmBjC,GACjCoC,GAAc,EACdH,EAAmBjC,GAASgC,GAE3BjP,EAAI,EAAGA,EAAIiP,EAAajP,IACzBZ,EAAOa,EAAMD,GACTZ,EAAKgC,cACLgO,GAAiB,EACbhQ,EAAK4B,UACL1D,KAAKyL,gBAAgB3J,EAAKW,SAAUkN,EAAQ,KAInDmC,GAAkBC,GAAepC,EAAQ,IAC1CoC,GAAc,EACdH,EAAmBjC,GAAS+B,GAAe,IAGnDnI,iBAAkB,WACd,GAA4F7G,GAAxFC,EAAQ3C,KAAKwO,WAAYoD,EAAqB5R,KAAK6R,uBAA0B/C,EAAQ,CAEzF,KADA9O,KAAKyL,gBAAgB9I,EAAO,GACvBD,EAAI,EAAGA,EAAIkP,EAAmBvP,OAAQK,IACvCoM,GAAgB8C,EAAmBlP,EAEvC1C,MAAK+O,OAASD,GAElBlE,WAAY,SAAUzE,GAClB,GAAIrE,GAAO9B,KAAK4L,WAAWC,SAAS1F,EAAU1H,KAAKkH,GACnD,OAAI7D,IACQA,GAED,MAGfwH,mBAAoB,WAChBtJ,KAAKwO,WAAaxO,KAAK4L,WAAWrJ,aAEtCmO,YAAa,SAAU5O,GACnB,MAAO9B,MAAKqI,QAAQwB,KAAK,cAAiB/H,EAAKxB,IAAIqF,GAAO,OAE9DgE,aAAc,SAAUwE,GACpB,MAAOnO,MAAKkJ,kBAAkBiF,IAElCrC,iBAAkB,SAAU7E,GACxB,GAAI+K,GAAY/K,EAAQgC,QAAQ7D,EAAMa,EAAgBvE,MACtD,OAAOsQ,GAAUhJ,SAAS/C,EAAgBO,gBAE9CuF,aAAc,SAAU9E,GACpB,GAAwCgL,GAAWC,EAA/CC,EAAWnS,KAAK2L,UAAU1E,EAC1BkL,GAASzO,SACJ1D,KAAKkK,QAAQpF,GACVhD,KAAMmF,EACNwF,WAAY0F,MAEhBnS,KAAK4I,SAAS3B,GAEXkL,EAASjT,WAChB+S,EAAYjS,KAAK4L,WAAWtL,IAAI6R,EAASjT,UAAUoB,IAAIqF,GACvDuM,EAAalS,KAAKqI,QAAQwB,KAAK,cAAiBoI,EAAY,MAC5DjS,KAAKkK,QAAQ/E,GACTrD,KAAMoQ,EACNzF,WAAYzM,KAAK2L,UAAUuG,QAIvC/F,UAAW,SAAUlF,GACbA,EAAQ4C,KAAKzE,EAAMa,EAAgBc,UAAU1E,OAAS,GACtDrC,KAAKkK,QAAQhF,EAAM+B,IAG3B+E,WAAY,SAAU/E,GAClB,GAAwGmL,GAApGD,EAAWnS,KAAK2L,UAAU1E,GAAUoL,EAAarS,KAAKqI,QAAQwB,KAAKtE,EAAO0B,EAAQ+C,KAAKjE,GACtFoM,GAASrO,cAGTqO,EAASzO,UAQV0O,EAAYC,EAAWxI,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAClDlL,KAAKkK,QAAQ/E,GACTrD,KAAMsQ,EACN3F,WAAYzM,KAAK2L,UAAUyG,OAV1BpS,KAAKkK,QAAQnF,GACVjD,KAAMmF,EACNwF,WAAY0F,MAEhBnS,KAAKoD,OAAO6D,KAUxBgF,SAAU,SAAUhF,GAChB,GAAIkL,GAAWnS,KAAK2L,UAAU1E,GAAUqL,EAAOrL,EAAQsL,SAASD,KAAKlN,EAAMa,EAAgBY,MAAMgD,KAAKzE,EAAMa,EAAgBa,MAAOuL,EAAarS,KAAKqI,QAAQwB,KAAKtE,EAAO0B,EAAQ+C,KAAKjE,KACjLuM,EAAKjQ,QAAU8P,EAASrO,aAAeqO,EAASzO,WACjD4O,EAAOD,EAAWxI,KAAKzE,EAAMa,EAAgBa,MAAMoE,SAEnC,IAAhBoH,EAAKjQ,QAAgBiQ,EAAKtJ,SAAS/C,EAAgBgB,UAGvDjH,KAAKkK,QAAQ/E,GACTrD,KAAMwQ,EACN7F,WAAYzM,KAAK2L,UAAU2G,OAGnCpG,SAAU,SAAUjF,GAChB,GAAmIgL,GAA/HE,EAAWnS,KAAK2L,UAAU1E,GAAUuL,EAAOvL,EAAQsL,SAASC,KAAKpN,EAAMa,EAAgBY,MAAMgD,KAAKzE,EAAMa,EAAgBa,OACvH0L,EAAKnQ,QAAU8P,EAASjT,WACzB+S,EAAYjS,KAAK4L,WAAWtL,IAAI6R,EAASjT,UAAUoB,IAAIqF,GACvD6M,EAAOxS,KAAKqI,QAAQwB,KAAK,cAAiBoI,EAAY,OAEtC,IAAhBO,EAAKnQ,QAAgBmQ,EAAKxJ,SAAS/C,EAAgBgB,UAGvDjH,KAAKkK,QAAQ/E,GACTrD,KAAM0Q,EACN/F,WAAYzM,KAAK2L,UAAU6G,OAGnChI,SAAU,SAAUmC,GAChB,GAAIsB,GAAgB7P,EAAEuO,EAAEsB,eAAgB3B,EAASlO,EAAEuO,EAAEL,OACrD,IAAItM,KAAK2Q,sBAGL,MAFAhE,GAAEkB,kBACF7N,KAAK2Q,uBAAwB,EAC7B,CAEJ,IAAIrE,EAAOtD,SAAS/C,EAAgBc,UAAW,CAC3C,GAAIuF,EAAOrD,QAAQ,kBAAoB5G,OAAS,EAE5C,MADAsK,GAAEkB,kBACF,CAEA7N,MAAK2Q,uBAAwB,EAGhC1C,EAAcjF,SAAS/C,EAAgBa,QACxCmH,EAAgBA,EAAchF,QAAQ7D,EAAMa,EAAgBa,OAE3DmH,EAAcjF,SAAS/C,EAAgBgB,UACxCjH,KAAKkK,QAAQ/E,GACTrD,KAAMmM,EACNxB,WAAYzM,KAAK2L,UAAUsC,OAIvC3D,UAAW,SAAUqC,GACjB,GAAIL,GAASlO,EAAEuO,EAAEsB,eAAgBnM,EAAOwK,EAAOtD,SAAS/C,EAAgBa,MAAQwF,EAASA,EAAOrD,QAAQ7D,EAAMa,EAAgBa,MAAO2L,EAAmBrU,EAAEuO,EAAEL,QAAQtD,SAAS/C,EAAgBc,UAAY3I,EAAEuO,EAAEL,QAAUlO,EAAEuO,EAAEL,QAAQrD,QAAQ7D,EAAMa,EAAgBc,SAC7P0L,GAAiBpQ,OAAS,GAGzBiK,EAAOtD,SAAS/C,EAAgBgB,UACjCjH,KAAKkK,QAAQ/E,GACTrD,KAAMA,EACN2K,WAAYzM,KAAK2L,UAAU7J,OAIvCuM,aAAc,SAAU3M,EAAOiO,EAAO+C,GAClC,GAAIC,GAAQvU,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBI,aAC3EqM,IAAY/C,EAAQ,GACpBjO,EAAMuI,SAAShE,EAAgBO,cAAgBnB,EAAQY,EAAgBsB,QACvE7F,EAAMmI,KAAKzE,EAAMa,EAAgBW,eAAeqD,SAAShE,EAAgBsB,QACjB,IAApD7F,EAAMmI,KAAKzE,EAAMa,EAAgBe,QAAQ3E,QAAkE,IAAlDX,EAAMmI,KAAKzE,EAAMa,EAAgBa,MAAMzE,QAChGX,EAAMmI,KAAKzE,EAAMa,EAAgBa,MAAM8L,OAAOD,EAAME,SACpDnR,EAAMmI,KAAKzE,EAAMa,EAAgBY,MAAMqE,QAAQrB,KAAKzE,EAAMa,EAAgBI,cAAc4D,SAAShE,EAAgBM,kBAC1GoJ,EAAQ,GACfjO,EAAMmI,KAAKzE,EAAMa,EAAgBa,MAAMoE,QAAQ0H,OAAOD,EAAME,WAGhEnR,EAAMuI,SAAShE,EAAgBQ,gBAAkBpB,EAAQY,EAAgBuB,QACzE9F,EAAMmI,KAAKzE,EAAMa,EAAgBW,eAAeqD,SAAShE,EAAgBuB,QACrEmI,EAAQ,GACRjO,EAAMmI,KAAKzE,EAAMa,EAAgBa,MAAM8L,OAAOD,EAAME,QAAQ5I,SAAShE,EAAgBM,oBAIjG4I,aAAc,SAAUzN,EAAOiB,EAAOgN,EAAOmD,EAAeC,GACxD,GAAqBnM,GAAjB8L,GAAW,CACf9L,GAAgBxI,EAAEwJ,GAClBlG,EAAMwN,OAAOtI,GACb8L,EAAW1S,KAAKgT,aAAapM,EAAejE,EAAOgN,EAAOmD,EAAeC,GACzE/S,KAAKqO,aAAa3M,EAAOiO,EAAO+C,IAEpCM,aAAc,SAAUpM,EAAejE,EAAOgN,EAAOmD,EAAeC,GAChE,GAAmYrQ,GAAGZ,EAAM8N,EAAM/I,EAAMG,EAAQiM,EAAYC,EAAWC,EAASzD,EAA5b0D,EAAiB1U,EAAMgQ,SAAS3G,GAAkB0H,EAAsB/Q,EAAMgQ,SAASzG,GAAeoL,EAAkBP,EAAgBnQ,EAAMN,OAAQqQ,GAAW,EAAMC,EAAQvU,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBI,cAAeiN,EAAQlV,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBK,gBAAiBsI,EAAW5O,KAAKc,QAAQ8N,QAQzX,KAJIc,EAHC1P,KAAKc,QAAQ4N,SAE0B,kBAA1B1O,MAAKc,QAAQ4N,SACT1O,KAAKc,QAAQ4N,SAEbhQ,EAAMgQ,SAAS1O,KAAKc,QAAQ4N,UAJ5BhQ,EAAMgQ,SAAS1G,GAMhCtF,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BZ,EAAOa,EAAMD,GACbkN,EAAOlR,EAAMkR,OACb/I,EAAO7G,KAAKwP,YAAYC,EAAqBC,EAAiB5N,EAAM6N,EAAOC,GACvE9N,EAAKgC,cACL+C,EAAKqI,OAAOyD,EAAME,SAClB7L,EAAS5I,EAAEgV,GACPG,WAAYzR,EAAK4B,SAAWoC,EAAQD,EACpC8I,MAAO7M,EAAK4B,SAAWkL,EAAShG,SAAWgG,EAASxL,UAExDyD,EAAKqI,OAAOlI,IAEhBJ,EAAcsI,OAAOrI,GACrB7G,KAAK+K,uBACLmI,EAAYlT,KAAKsL,WACjB6H,EAAUnT,KAAKqL,SACXvJ,EAAKgC,cACL4O,GAAW,EACP5Q,EAAK4B,WACLuP,EAAajT,KAAKwT,kBAAkB1R,EAAMuR,EAAiBN,EAAYrQ,EAAGiN,EAAOC,KAGnFqD,GAAcA,EAAWjK,SAAS/C,EAAgBQ,kBAAoB3E,EAAK4B,UAAc5B,EAAKW,UAAYX,EAAKW,SAASJ,OAAS,GACnI2E,EAAOyM,MAAMH,EAAMT,QAAQ5D,KACvBG,OAAQiE,EAAkBA,EAAkBvR,EAAKW,SAASJ,SAAW6Q,EAAYC,GAAWvN,EAC5F8N,aAAc1T,KAAKmL,iBAAqBvF,IAOpD,OAHIyN,GAAkB,IAAMX,GACxB9L,EAAciD,KAAKzE,EAAMa,EAAgBY,MAAMuI,OAAOiE,EAAkB,IAAMF,EAAUD,IAErFR,GAEXc,kBAAmB,SAAU1R,EAAMuR,EAAiBN,EAAYrQ,EAAGiN,EAAOC,GACtE,GAAgaqD,GAA5ZC,EAAYlT,KAAKsL,WAAY6H,EAAUnT,KAAKqL,SAAU+D,EAAQiE,EAAkBH,GAAaG,EAAkB,GAAKF,EAASQ,EAAOjR,EAAI2Q,EAAkBH,EAAYH,EAAYa,EAAgBlV,EAAMgQ,SAAShH,GAAiBmM,EAAkBnV,EAAMsO,QAAQD,MAAM/M,KAAKqI,SAAW,QAAU,OAAQgJ,EAAM1B,GAAS3P,KAAKwL,YAAcxL,KAAKmL,cAAgBgI,GAAWA,GAAWxD,EAAQ,GAAK3P,KAAKmL,cAAgB,CAe7Z,OAdIzI,GAAI,IACJiR,GAAQjR,EAAI2Q,EAAkBF,GAElCF,EAAa7U,EAAEwV,GACXhE,KAAMA,EACND,MAAOA,EAAQ,KAEnBsD,EAAWhE,KACPG,MAAOA,EAAQxJ,EACfyL,IAAKA,EAAMzL,IAEfqN,EAAWhE,IAAI4E,EAAiBF,EAAO/N,GACvC5F,KAAKqI,QAAQ6G,OAAO+D,GACpBjT,KAAKmP,aAAa8D,EAAYnR,EAAKW,SAAUkN,EAAQ,EAAG0D,EAAiBM,GAClEV,KAGXa,EAAc3L,EAAK5J,QACnBqB,KAAM,SAAUyI,EAASvH,GACrBqH,EAAKrI,GAAGF,KAAKG,KAAKC,KAAMqI,EAASvH,GACjCd,KAAKiL,UAAYhF,EAAgBU,qBAErCiC,SAAU,SAAUlH,GAChB,GAA6C+K,GAAW/J,EAApDqR,EAAS/T,KAAK6I,mBAAmBnH,EACrC,IAAKqS,EAIL,IADAtH,EAAYzM,KAAK4K,WAAWmJ,GACvBrR,EAAI,EAAGA,EAAI+J,EAAUpK,OAAQK,IAC9B1C,KAAK4L,WAAWzI,eAAesJ,EAAU/J,IAAI,GAAOO,KAAKzE,EAAMwB,KAAKmJ,QAASnJ,QAGrFoD,OAAQ,SAAU1B,GACd,GAA6C+K,GAAW/J,EAApDqR,EAAS/T,KAAK6I,mBAAmBnH,EACrC,IAAKqS,EAIL,IADAtH,EAAYzM,KAAK4K,WAAWmJ,GACvBrR,EAAI,EAAGA,EAAI+J,EAAUpK,OAAQK,IAC9B1C,KAAK4L,WAAWzI,eAAesJ,EAAU/J,IAAI,GAAMO,KAAKzE,EAAMwB,KAAKmJ,QAASnJ,QAGpF4K,WAAY,SAAUzE,GAClB,GAA0CxD,GAAOb,EAAMU,EAAnDwR,EAAKhU,KAAK4L,WAAYa,IAgB1B,OAfItG,GAAU6C,SAAS/C,EAAgBa,OACnChF,EAAOkS,EAAGnI,SAAS1F,EAAU1H,KAAKkH,IAC9B7D,GACA2K,EAAU7J,KAAKd,IAEZqE,EAAU6C,SAAS/C,EAAgBU,uBAC1C3G,KAAKiU,eAAgB,EACrBtR,EAAQwD,EAAU0D,KAAKzE,EAAMa,EAAgBa,MAC7CnE,EAAMyO,KAAK,SAAU1O,EAAGZ,GACpBU,EAAUwR,EAAGnI,SAAS/J,EAAKoS,aAAa,aACpC1R,GACAiK,EAAU7J,KAAKJ,MAIpBiK,GAEXlB,oBAAqB,WACjB,GAAIP,GAAchL,KAAKqI,QAAQwB,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAASiJ,EAAYnU,KAAKqI,QAAQwB,KAAKzE,EAAMa,EAAgBa,MAAMoE,QAAQuG,YAAW,GAAO2C,GAAiBpJ,EAAYiE,IAAI,gBAAgBI,MAAMzJ,GAAI,GAAKyO,GAAgBrJ,EAAYiE,IAAI,eAAeI,MAAMzJ,GAAI,EAChR,OAAOuO,GAAY,EAAIC,EAAU,EAAIC,GAEzC5I,gBAAiB,SAAU6I,EAAQ3E,GAC/B,GAA0E4E,GAAe7R,EAAGhB,EAAxF8S,EAAeF,EAAOjS,OAAQyP,GAAiB,EAAO2C,EAAa,CAGvE,KAFAzU,KAAK6R,oBAAoBlC,GAAS3P,KAAK6R,oBAAoBlC,IAAU,EACrE3P,KAAK0U,WAAW/E,GAAS3P,KAAK0U,WAAW/E,IAAU,EAC9CjN,EAAI,EAAGA,EAAI8R,EAAc9R,IAC1BhB,EAAQ4S,EAAO5R,GACf6R,EAAgB7S,EAAMiB,MAAMN,OACxBkS,EAAgBE,IAChBA,EAAaF,GAEjB7S,EAAQ4S,EAAO5R,GACXhB,EAAMoC,cACNgO,GAAiB,EACbpQ,EAAMgC,UACN1D,KAAKyL,gBAAgB/J,EAAMe,SAAUkN,EAAQ,GAIrD6E,GAAexU,KAAK0U,WAAW/E,KAC/B3P,KAAK0U,WAAW/E,GAAS6E,GAExB1C,IACD2C,EAAa,GAEbA,EAAazU,KAAK6R,oBAAoBlC,KACtC3P,KAAK6R,oBAAoBlC,GAAS8E,IAG1ClL,iBAAkB,WACd,GAA8H7G,GAAGiS,EAA7HhS,EAAQ3C,KAAKwO,WAAYoD,EAAqB5R,KAAK6R,uBAA0B+C,EAAY5U,KAAK0U,cAAiB5F,EAAQ,CAE3H,KADA9O,KAAKyL,gBAAgB9I,EAAO,GACvBD,EAAIkP,EAAmBvP,OAAS,EAAGK,GAAK,EAAGA,IAC5CiS,EAAe/C,EAAmBlP,GAAKkS,EAAUlS,GAC7CoM,EAAQ8C,EAAmBlP,GAC3BoM,GAAgB8F,EAAUlS,GACnBoM,EAAQ6F,IACf7F,EAAQ6F,EAGhB3U,MAAK+O,OAASD,GAElBxF,mBAAoB,WAChBtJ,KAAKwO,WAAaxO,KAAK4L,WAAW1K,iBAAiBlB,KAAKc,QAAQ+T,aAEpEnE,YAAa,SAAU5O,GACnB,MAAK9B,MAAKiU,eAGNjU,KAAKiU,eAAgB,EACdjU,KAAKqI,QAAQwB,KAAK,cAAiB/H,EAAKxB,IAAIqF,GAAO,MAAOsD,QAAQ7D,EAAMa,EAAgBU,sBAHxF3G,KAAKqI,QAAQwB,KAAK,cAAiB/H,EAAKxB,IAAIqF,GAAO,OAMlEgE,aAAc,SAAUwE,GACpB,GAAIrM,GAAO9B,KAAKkJ,kBAAkBiF,EAClC,OAAOrM,IAAQ9B,KAAK6I,mBAAmBsF,IAE3CrC,iBAAkB,SAAU7E,GACxB,GAAI+K,GAAY/K,EAAQgC,QAAQ7D,EAAMa,EAAgBW,cACtD,OAAOoL,GAAUhJ,SAAS/C,EAAgBsB,SAE9CwE,aAAc,SAAU9E,GACpB,GAAoBgL,GAAWvO,EAA3B+I,IACJA,GAAYzM,KAAK4K,WAAW3D,GAC5BvD,EAAW+I,EAAUqI,KAAK,SAAUhT,GAChC,MAAOA,GAAK4B,WAEZA,GACIuD,EAAQ+B,SAAS/C,EAAgBa,QACjCG,EAAUA,EAAQgC,QAAQ7D,EAAMa,EAAgBU,qBAChD8F,EAAYzM,KAAK4K,WAAW3D,IAE3BjH,KAAKkK,QAAQpF,GACVhD,KAAMmF,EACNwF,UAAWA,KAEfzM,KAAK4I,SAAS3B,IAEXwF,EAAU,GAAGvN,WACpB+S,EAAYjS,KAAK4L,WAAWtL,IAAImM,EAAU,GAAGvN,UAAUoB,IAAIqF,GAC3D3F,KAAKkK,QAAQ/E,GACTrD,KAAM9B,KAAKqI,QAAQwB,KAAK,cAAiBoI,EAAY,MAAOhJ,QAAQ7D,EAAMpF,KAAKiL,WAC/EwB,UAAWA,MAIvBN,UAAW,SAAUlF,GACjB,GAAI8N,GAAUtI,IACVxF,GAAQ+B,SAAS/C,EAAgBa,OAASG,EAAQ4C,KAAKzE,EAAMa,EAAgBc,UAAU1E,OAAS,EAChGrC,KAAKkK,QAAQhF,EAAM+B,IAEnB8N,EAAW9N,EAAQ4C,KAAKzE,EAAMa,EAAgBa,MAAMoE,QACpDuB,EAAYzM,KAAK4K,WAAWmK,GAC5B/U,KAAKkK,QAAQ/E,GACTrD,KAAMiT,EACNtI,UAAWA,MAIvBL,WAAY,SAAUnF,GAClB,GAAKA,EAAQ+B,SAAS/C,EAAgBa,MAAtC,CAGA,GAAIpF,GAAQuF,EAAQgC,QAAQ7D,EAAMa,EAAgBU,qBAAsB8F,EAAYzM,KAAK4K,WAAWlJ,EACpG1B,MAAKkK,QAAQ/E,GACTrD,KAAMJ,EACN+K,UAAWA,MAGnBT,WAAY,SAAU/E,GAClB,GAAgMnD,GAAaJ,EAAU5B,EAAnNkT,EAAe/N,EAAQ+C,KAAKjE,IAAckB,EAAQgC,QAAQ7D,EAAMpF,KAAKiL,WAAWjB,KAAKjE,GAAYsM,EAAarS,KAAKqI,QAAQwB,KAAKtE,EAAOyP,GAAevI,EAAYzM,KAAK4K,WAAW3D,EACtLnD,GAAc2I,EAAUqI,KAAK,SAAUhT,GACnC,MAAOA,GAAKgC,cAEXA,IAGLJ,EAAW+I,EAAUqI,KAAK,SAAUhT,GAChC,MAAOA,GAAK4B,WAEXA,GAYD5B,EAAOuQ,EAAWxI,KAAKzE,EAAMpF,KAAKiL,WAAWC,QAC7ClL,KAAKkK,QAAQ/E,GACTrD,KAAMA,EACN2K,UAAWzM,KAAK4K,WAAW9I,OAd3BmF,EAAQ+B,SAAS/C,EAAgBa,QACjCG,EAAUA,EAAQgC,QAAQ7D,EAAMa,EAAgBU,qBAChD8F,EAAYzM,KAAK4K,WAAW3D,IAE3BjH,KAAKkK,QAAQnF,GACVjD,KAAMmF,EACNwF,UAAWA,KAEfzM,KAAKoD,OAAO6D,MAUxBgF,SAAU,SAAUhF,GAChB,GAIQqL,GAJJD,EAAarS,KAAKqI,QAAQwB,KAAKtE,EAAO0B,EAAQ+C,KAAKjE,IAAa0G,EAAYzM,KAAK4K,WAAW3D,GAAUnD,EAAc2I,EAAUqI,KAAK,SAAUhT,GACzI,MAAOA,GAAKgC,cACZJ,EAAW+I,EAAUqI,KAAK,SAAUhT,GACpC,MAAOA,GAAK4B,UAGhB4O,GADArL,EAAQ+B,SAAS/C,EAAgBa,MAC1BG,EAAQsL,SAASD,KAAKlN,EAAMa,EAAgBY,MAAMgD,KAAKzE,EAAMa,EAAgBa,MAE7EG,EAAQsL,SAASD,KAAKlN,EAAMa,EAAgBS,YAAYmD,KAAKzE,EAAMa,EAAgBU,sBAEzF2L,EAAKjQ,QAAUyB,GAAeJ,IAC/B4O,EAAOD,EAAWxI,KAAKzE,EAAMpF,KAAKiL,WAAWC,SAE7B,IAAhBoH,EAAKjQ,QAGTrC,KAAKkK,QAAQ/E,GACTrD,KAAMwQ,EACN7F,UAAWzM,KAAK4K,WAAW0H,MAGnCpG,SAAU,SAAUjF,GAChB,GAA0CgL,GAAWO,EAAjD/F,EAAYzM,KAAK4K,WAAW3D,EAE5BuL,GADAvL,EAAQ+B,SAAS/C,EAAgBa,MAC1BG,EAAQsL,SAASC,KAAKpN,EAAMa,EAAgBY,MAAMgD,KAAKzE,EAAMa,EAAgBa,MAE7EG,EAAQsL,SAASC,KAAKpN,EAAMa,EAAgBS,YAAYmD,KAAKzE,EAAMa,EAAgBU,sBAEzF6L,EAAKnQ,QAAUoK,EAAU,GAAGvN,WAC7B+S,EAAYjS,KAAK4L,WAAWtL,IAAImM,EAAU,GAAGvN,UAAUoB,IAAIqF,GAC3D6M,EAAOxS,KAAKqI,QAAQwB,KAAK,cAAiBoI,EAAY,MAAOhJ,QAAQ7D,EAAMpF,KAAKiL,YAEhE,IAAhBuH,EAAKnQ,QAGTrC,KAAKkK,QAAQ/E,GACTrD,KAAM0Q,EACN/F,UAAWzM,KAAK4K,WAAW4H,MAGnChI,SAAU,SAAUmC,GAChB,GAA0BhK,GAAOH,EAA7B8J,EAASlO,EAAEuO,EAAEL,OACjB,IAAItM,KAAK2Q,sBAGL,MAFAhE,GAAEkB,kBACF7N,KAAK2Q,uBAAwB,EAC7B,CAEJ,IAAIrE,EAAOtD,SAAS/C,EAAgBc,UAAW,CAC3C,GAAIuF,EAAOrD,QAAQ,kBAAoB5G,OAAS,EAE5C,MADAsK,GAAEkB,kBACF,CAEA7N,MAAK2Q,uBAAwB,EAGhCrE,EAAOtD,SAAS/C,EAAgBa,OAAUwF,EAAOtD,SAAS/C,EAAgBU,uBAC3EnE,EAAU8J,EAAOrD,QAAQ7D,EAAMa,EAAgBa,MAC1CtE,EAAQH,SACTG,EAAU8J,EAAOrD,QAAQ7D,EAAMa,EAAgBU,sBAEnD2F,EAAS9J,GAES,IAAlB8J,EAAOjK,SAGXM,EAAQ3C,KAAK4K,WAAW0B,GACnBA,EAAOtD,SAAS/C,EAAgBgB,WACjC0F,EAAEkB,kBACF7N,KAAKkK,QAAQ/E,GACTrD,KAAMwK,EACNG,UAAW9J,OAIvB2H,UAAW,SAAUqC,GACjB,GAAiFhK,GAAOH,EAApF8J,EAASlO,EAAEuO,EAAEL,QAAS1C,EAAoB5J,KAAKqI,QAAQwB,KAAK,eAC3DyC,GAAOtD,SAAS/C,EAAgBa,OAAUwF,EAAOtD,SAAS/C,EAAgBU,uBAC3EnE,EAAU8J,EAAOrD,QAAQ7D,EAAMa,EAAgBa,MAC1CtE,EAAQH,SACTG,EAAU8J,EAAOrD,QAAQ7D,EAAMa,EAAgBU,sBAEnD2F,EAAS9J,GAES,IAAlB8J,EAAOjK,QAAgBuH,EAAkB,KAAO0C,EAAO,KAG3D3J,EAAQ3C,KAAK4K,WAAW0B,GACxBtM,KAAKkK,QAAQ/E,GACTrD,KAAMwK,EACNG,UAAW9J,MAGnB0L,aAAc,SAAU3M,EAAOiO,EAAO+C,GAClC,GAAIC,GAAQvU,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBI,aAAehB,EAAQY,EAAgBM,gBACtH7E,GAAMuI,SAAShE,EAAgBuB,QAC3BmI,EAAQ,GACRjO,EAAMmI,KAAKzE,EAAMa,EAAgBU,qBAAqBiM,OAAOD,EAAME,SAEnEH,GAAY/C,EAAQ,GACpBjO,EAAMmI,KAAKzE,EAAMa,EAAgBW,eAAemD,YAAY9D,EAAgBuB,QAC5E9F,EAAMmI,KAAKzE,EAAMa,EAAgBW,eAAeqD,SAAShE,EAAgBsB,SAEzE7F,EAAMuI,SAAShE,EAAgBQ,kBAGvCwO,gBAAiB,SAAUnT,EAAMoT,EAAO7B,EAAiB1D,EAAOjJ,EAAYqM,EAAYnD,GACpF,GAAuZqD,GAAYjM,EAAQ2M,EAAMtC,EAAKjC,EAAO+F,EAAiBhC,EAA1cC,EAAiB1U,EAAMgQ,SAAS3G,GAAkB6L,EAAgBlV,EAAMgQ,SAAShH,GAAiBiL,EAAQvU,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBI,cAAeiN,EAAQlV,EAAE,SAAS6L,SAAShE,EAAgBG,KAAOf,EAAQY,EAAgBK,gBAAiBsI,EAAW5O,KAAKc,QAAQ8N,SAAU8D,GAAW,EAAMmB,EAAkBnV,EAAMsO,QAAQD,MAAM/M,KAAKqI,SAAW,QAAU,MAsC/Y,OArCIvG,GAAKgC,cACL4O,GAAW,EACXhM,EAAWwI,OAAOyD,EAAME,SACxB7L,EAAS5I,EAAEgV,GACPG,WAAYzR,EAAK4B,SAAWoC,EAAQD,EACpC8I,MAAO7M,EAAK4B,SAAWkL,EAAShG,SAAWgG,EAASxL,UAExDsD,EAAWwI,OAAOlI,GAClBhH,KAAK+K,uBACLoK,EAAkBnV,KAAKsL,WACvB6H,EAAUnT,KAAKqL,SACXvJ,EAAK4B,WACL0L,EAAQ+F,EAAkB9B,GAAmBA,EAAkB,GAAKF,EACpEQ,EAAOuB,EAAQ7B,EAAkB8B,EAAkBpC,EACnD1B,EAAM1B,GAAS3P,KAAKwL,YAAcxL,KAAKmL,cAAgBgI,GAAWA,GAAWxD,EAAQ,GAAK3P,KAAKmL,cAAgB,EAC3G+J,EAAQ,IACRvB,GAAQuB,EAAQ7B,EAAkBF,GAEtCF,EAAa7U,EAAEwV,GACXhE,KAAMA,EACND,MAAOA,EAAQ,KAEnBsD,EAAWhE,KACPG,MAAOA,EAAQxJ,EACfyL,IAAKA,EAAMzL,IAEfqN,EAAWhE,IAAI4E,EAAiBF,EAAO/N,GACvC5F,KAAKqI,QAAQ6G,OAAO+D,GACpBjT,KAAKmP,aAAa8D,EAAYnR,EAAKW,SAAUkN,EAAQ,EAAG0D,EAAiBM,KAG3EV,GAAcnR,EAAK4B,UAAc5B,EAAKW,UAAYX,EAAKW,SAASJ,OAAS,GAC3E2E,EAAOyM,MAAMH,EAAMT,QAAQ5D,KACvBG,OAAQiE,EAAkBA,EAAkBvR,EAAKW,SAASJ,SAAW8S,EAAkBhC,GAAWvN,EAClG8N,aAAc1T,KAAKmL,iBAAqBvF,KAGzC8M,GAEXvD,aAAc,SAAUzN,EAAOiB,EAAOgN,EAAOmD,EAAeC,GAA9C,GAC2DnM,GAAeF,EAAYhE,EAAGkN,EAAMwF,EAAiBtT,EAetHsN,EAfAsD,GAAW,EAAMW,EAAkBP,EAAgBnQ,EAAMN,MAC7D,KAAKK,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BkN,EAAOlR,EAAMkR,OACb9N,EAAOa,EAAMD,GACbkE,EAAgB5G,KAAKqV,sBAAsB3T,EAAOnD,GAAO,KAAUuD,GAC/D8N,KAAMA,EACND,MAAOA,KAEXjJ,EAAaE,EAAcqC,QAAQ7D,EAAMa,EAAgBS,YACzD1G,KAAKsV,aAAa1O,EAAe9E,EAAKa,MAAOgN,EAAOC,GACpDwF,EAAkBpV,KAAKiV,gBAAgBnT,EAAMY,EAAG2Q,EAAiB1D,EAAOjJ,EAAYqM,EAAYnD,GAC5F8C,IACAA,EAAW0C,EAGfhG,GAAQpP,KAAKsL,WAAa+H,GAAmBA,EAAkB,GAAKrT,KAAKqL,SAC7E3J,EAAMmI,KAAKzE,EAAMa,EAAgBS,YAAY0I,MAAMA,GACnDpP,KAAKqO,aAAa3M,EAAOiO,EAAO+C,IAEpC4C,aAAc,SAAU1O,EAAejE,EAAOgN,EAAOC,GACjD,GAAgElN,GAAGZ,EAAM+E,EAAM6I,EAA3ED,EAAsB/Q,EAAMgQ,SAASxG,EAQzC,KAJIwH,EAHC1P,KAAKc,QAAQ4N,SAE0B,kBAA1B1O,MAAKc,QAAQ4N,SACT1O,KAAKc,QAAQ4N,SAEbhQ,EAAMgQ,SAAS1O,KAAKc,QAAQ4N,UAJ5BhQ,EAAMgQ,SAAS1G,GAMhCtF,EAAI,EAAGA,EAAIC,EAAMN,OAAQK,IAC1BZ,EAAOa,EAAMD,GACbmE,EAAO7G,KAAKwP,YAAYC,EAAqBC,EAAiB5N,EAAM6N,EAAOC,GAC3EhJ,EAAcsI,OAAOrI,IAG7BwO,sBAAuB,SAAU3T,EAAOjD,GACpC,GAAgQ8W,GAA5PC,EAA6B9W,EAAMgQ,SAAS/G,GAAuB8N,EAAYrX,EAAE,qEAAsEwI,EAAgBxI,EAAEyJ,GAAyB6N,EAAqBtX,EAAEoX,EAA2B/W,GAaxP,OAXI8W,GAD4C,kBAArCvV,MAAKc,QAAQyU,oBACEvV,KAAKc,QAAQyU,oBAEb7W,EAAMgQ,SAAS1O,KAAKc,QAAQyU,qBAEtDG,EAAmBxG,OAAOqG,GACtB1V,MAAOpB,EAAKoB,MACZY,MAAOhC,EAAKgC,SAEhBiV,EAAmBxG,OAAOtI,GAC1B6O,EAAUvG,OAAOwG,GACjBhU,EAAMwN,OAAOuG,GACN7O,IAGflI,GAAMiX,UACFxN,KAAMA,EACNqJ,WAAYA,EACZsC,YAAaA,IAEnB1P,OAAO1F,MAAM2F,QACRD,OAAO1F,OACE,kBAAVP,SAAwBA,OAAOmG,IAAMnG,OAAS,SAAUoG,EAAIC,EAAIC,IACrEA,GAAMD,OAEV,SAAUtG,EAAGC,QACVA,OAAO,kBACH,gBACA,gBACA,aACA,eACA,aACA,eACA,gBACDD,IACL,WAyjBE,MA1iBC,UAAUE,EAAGC,GAAb,GACOK,GAAQ0F,OAAO1F,MAAOkX,EAAkBlX,EAAM+J,GAAGmN,gBAAiBtX,EAAqBI,EAAMD,KAAKH,mBAAoBuX,EAAcnX,EAAM+J,GAAGoN,YAAatX,EAASH,EAAEG,OAAQC,EAAQJ,EAAEI,MAAOyF,EAAU6R,MAAM7R,QAASU,EAAK,iBAAkBoR,EAAS,SAAUC,EAAS,SAAUnR,EAAQ,QAASC,EAAW,WAAYmR,EAAS,SAAUC,EAAc,cAAeC,EAAY,YAAaC,EAAS,SAAUC,EAAU,UAAWC,EAAO,OAAQC,EAAQ,QAASxR,EAAS,SAAUC,EAAQ,QAASwR,EAAe,eAAgBtR,EAAO,OAAQuR,EAAW,WAAYC,EAAO,OAAQvR,EAAS,SAAUwR,EAAgB,eAAgBvR,EAAM,IAAKC,EAAQ,IAAKC,EAAQ,IAAKI,EAAK,KAAMC,EAAM,MAAOiR,EAAS,SAC9rB3Q,GACAC,QAAS,aACTC,UAAW,uBACXC,KAAM,kBACNC,aAAc,oBACdC,eAAgB,oBAChBC,gBAAiB,wBACjB7E,MAAO,mBACP8E,cAAe,qBACfC,gBAAiB,qBACjBC,WAAY,wBACZC,oBAAqB,kCACrBC,cAAe,4BACfC,KAAM,kBACNC,KAAM,kBACNC,SAAU,uBACVC,OAAQ,oBACRC,QAAS,gBACTC,SAAU,WACVC,SAAU,SACVC,cAAe,4BACfC,OAAQ,oBACRC,OAAQ,oBACRC,OAAQ,WACRC,OAAQ,WACRqP,YAAa,aAEbC,GACAC,KAAM,wCACN/S,OAAQ,4CACRwE,QAAS,+CAETwO,EAAwB,mIACxBC,EAA0B,+dAC1BC,EAA0B,8XAC1BC,EAAWvB,EAAgBrX,QAC3BqB,KAAM,SAAUyI,EAASvH,EAASyH,GAC1BtE,EAAQnD,KACRA,GAAY8K,WAAY9K,IAE5BA,EAAUA,MACV8U,EAAgB9V,GAAGF,KAAKG,KAAKC,KAAMqI,EAASvH,GACxCyH,IACAvI,KAAKoX,QAAU7O,GAEnBvI,KAAKqX,WACLrX,KAAKsX,QACLtX,KAAKuX,cACLvX,KAAKwX,eACDxX,KAAKc,QAAQ2W,UACbzX,KAAK4L,WAAW8L,QAEpBhZ,EAAMiZ,OAAO3X,OAEjBc,SACIvB,KAAM,WACNkY,UAAU,EACVzH,YAAa,KACbpE,cACAvM,UACI2E,QAAQ,EACRwE,SAAS,EACTrJ,QAAQ,EACRyY,MACIC,gBAAiB,GACjBC,YAAa,YAEjBvF,QAAQ,GAEZsC,WAAY,KACZU,oBAAqByB,EACrBtI,SAAU,KACVE,UACID,MAAO,YACPoI,KAAM,OACN/S,OAAQ,SACRwE,QAAS,SACTuP,eAAgB,kEAChBC,aAAc,cACd1Q,OAAQ,SACR2Q,KAAM,OACN/H,UAAW,YACXgI,aAAc,oBACd3F,OAAQ,SACRhT,KAAM,OACNG,MAAO,QACPyY,KAAM,WACN/U,OAAQ,SACRwF,SAAU,aAGlBL,QACIwN,EACAC,EACAlR,EACAmR,EACAC,EACAC,EACAC,EACAE,EACAvR,EACAyR,EACAE,EACAvR,GAEJqD,QAAS,WACDxI,KAAKoY,OACLpY,KAAKoY,MAAM5P,UAEXxI,KAAKqY,aACLrY,KAAKqY,YAAY7P,UAEjBxI,KAAKsY,iBACLtY,KAAKsY,gBAAgB9P,UAEzBxI,KAAKqB,KAAKmH,UACVoN,EAAgB9V,GAAG0I,QAAQzI,KAAKC,MAChCA,KAAKkG,QAAQyC,IAAIhE,IAErB4T,cAAe,SAAU3M,GACrB5L,KAAKc,QAAQ8K,WAAaA,EAC1B5L,KAAKuX,cACDvX,KAAKc,QAAQ2W,UACb7L,EAAW8L,SAGnBc,WAAY,SAAU1X,GAClB,GAAIkN,GAAOhO,IACX4V,GAAgB9V,GAAG0Y,WAAWzY,KAAKiO,EAAMlN,IAE7CoO,OAAQ,SAAUpN,EAAMyQ,GACpB,GAAIvE,GAAOhO,KAAMyY,EAAUzK,EAAK3M,KAAK6H,kBAAkBqJ,GAASL,EAAalE,EAAKmE,SAASsG,EACtFA,IAAYvG,IAGZA,EAAWvR,UAMZqN,EAAKpC,WAAW8M,IAAIna,KAAWuD,GAAQ5C,SAAUgT,EAAWjT,MAC5D+O,EAAKpC,WAAW+M,QANhB3K,EAAKpC,WAAW5I,MAAO/D,GAAIiT,EAAWjT,KAAMgE,KAAK,WAC7C+K,EAAKpC,WAAW8M,IAAIna,KAAWuD,GAAQ5C,SAAUgT,EAAWjT,MAC5D+O,EAAKpC,WAAW+M,WAO5BC,cAAe,WACP5Y,KAAK4L,WAAWiN,cAChB7Y,KAAK4L,WAAWgN,iBAGxBhQ,SAAU,SAAU9G,GAChB,MAAO9B,MAAKqB,KAAKuH,SAAS9G,IAE9BqQ,SAAU,SAAUrQ,GAChB,GAAI4H,GAAQ1J,KAAKqB,KAAK6H,kBAAkBpH,EACxC,IAAK4H,GAAUA,EAAMjL,KAAKkH,GAG1B,MAAO3F,MAAK4L,WAAWC,SAASnC,EAAMjL,KAAKkH,KAE/CmT,SAAQ,SAAUhX,GACd,GAAI4H,GAAQ1J,KAAKqB,KAAK6H,kBAAkBpH,EACnC4H,KAGL1J,KAAK4L,WAAWmN,OAAO/Y,KAAKmS,SAASzI,IACrC1J,KAAK4L,WAAW+M,SAEpB5B,KAAM,SAAUjV,GACZ,GAAI4H,GAAQ1J,KAAKqB,KAAK6H,kBAAkBpH,GAAOqQ,EAAWnS,KAAKmS,SAASzI,EACnEA,IAAUyI,GAGfnS,KAAKgZ,MAAM7G,IAEf/O,OAAQ,SAAUtB,GACd,MAAO9B,MAAKqB,KAAK+B,OAAOtB,IAE5BmX,kBAAmB,WACf,MAAOjZ,MAAKkG,QAAQ2D,KAAK,4BAE7BlH,MAAO,WACH,MAAO3C,MAAKkG,QAAQ2D,KAAKzE,EAAMa,EAAgBa,OAEnDyL,OAAQ,SAAUzQ,GACd,GAA+C7C,GAA3CyK,EAAQ1J,KAAKqB,KAAK6H,kBAAkBpH,EACxC,IAAK4H,EAIL,MADAzK,GAAKyK,EAAMT,QAAQ7D,EAAMa,EAAgBvE,OAAOsI,KAAKtE,GAC9C1F,KAAKkG,QAAQ2D,KAAK,eAAkB5K,EAAK,OAEpDia,YAAa,WACTlZ,KAAK4L,WAAW+M,QAEpBlP,OAAQ,SAAU3H,GACd,GAAI4H,GAAQ1J,KAAKqB,KAAKsI,aAAa7H,EACnC,OAAK4H,GAGM1J,KAAKqB,KAAKoI,OAAOC,GAFxB,GAKRyP,eAAgB,SAAUrX,EAAMsX,GAC5B,GAGOC,GAAa5a,EAHhBmZ,EAAO5X,KAAKsZ,MAAO3Z,EAASmC,EAAKnC,OAAQ4Z,EAAe,WACpDF,EAAYxP,KAAKzE,EAAMa,EAAgBmB,eAAe2R,SACtDjX,EAAKtB,IAAI,SAAU,MAEtBoX,KAGAwB,IACDA,EAAWzZ,EAAO0P,MAAM,MAAMmK,MAAMnK,MAAM,KAAKmK,MAC1CJ,GAAYA,EAASzL,QAAQ,WAC9ByL,EAAWtX,EAAKvC,OAGxBd,GACIc,KAAMuC,EAAKvC,KACXI,OAAQA,EACRyZ,SAAUA,EACV5Q,QAASxI,KAAKc,QAAQ8N,SAASpG,SAEnC6Q,EAAczB,EAAK1R,QACnBmT,EAAYxP,KAAKzE,EAAMa,EAAgBmB,eAAe2R,SACtDM,EAAYxP,KAAK,iBAAiBZ,QAAQ7D,EAAM,gBAAgBqU,QAAQ/a,EAAMgQ,SAASuI,GAAyBxY,IAChH4a,EAAYxP,KAAKzE,EAAMa,EAAgBmB,cAAgB/B,EAAQD,EAAM,YAAYgF,GAAGvF,EAAO0U,KAE/F/B,aAAc,WACV,GAQOkC,GARH5Y,EAAUd,KAAKc,QAASzB,EAAWyB,EAAQzB,SAAUuP,EAAW9N,EAAQ8N,SAAU+K,GAC9ErN,OAAQtM,KAAKkG,QACbjE,OAAQmD,EAAMa,EAAgBc,SAC9B0C,OAAQzJ,KAAK4Z,iBAAiBC,KAAK7Z,MACnC8Z,SAAU9Z,KAAK+Z,YAAYF,KAAK7Z,MAChCga,WAAYha,KAAKia,aAAaJ,KAAK7Z,MACnCka,OAAQ,QACRC,WAAW,IAEf9a,KAAa,GAAQA,KAAa,IAAUA,EAAS2E,QAAU3E,EAASmJ,SAAWnJ,EAASF,QAAUE,EAASkT,WAC/GmH,EAAc,OACVra,KAAa,GACbqa,GAAe5C,EAAWC,KAC1B2C,GAAe5C,EAAW9S,OAC1B0V,GAAe5C,EAAWtO,WAEtBnJ,EAASF,QAAUE,EAASkT,UAC5BmH,GAAe5C,EAAWC,MAE1B1X,EAAS2E,SACT0V,GAAe5C,EAAW9S,QAE1B3E,EAASmJ,UACTkR,GAAe5C,EAAWtO,UAGlCkR,EAAchb,EAAMgQ,SAASgL,GAAa9K,GAC1C5O,KAAKoY,MAAQ,GAAIvC,GAAY6D,EAAaC,KAGlDpC,YAAa,WACT,GAAIvD,GAAKhU,KAAK4L,WAAYwO,EAAYpa,KAAKc,QAAQ8K,UAC/CoI,KACAA,EAAGqG,OAAOrE,EAAQhW,KAAKsa,0BACvBtG,EAAGqG,OAAO9D,EAAOvW,KAAKua,eACtBvG,EAAGqG,OAAO5D,EAAUzW,KAAKwa,kBACzBxG,EAAGqG,OAAO1D,EAAe3W,KAAKya;AAElCza,KAAKsa,yBAA2B9b,EAAMwB,KAAK0a,oBAAqB1a,MAChEA,KAAKua,cAAgB/b,EAAMwB,KAAK2a,mBAAoB3a,MACpDA,KAAKwa,iBAAmBhc,EAAMwB,KAAK4a,UAAW5a,MAC9CA,KAAKya,qBAAuBjc,EAAMwB,KAAK6a,0BAA2B7a,MAClEgU,EAAKhU,KAAK4L,WAAatN,EAAmB0F,OAAOoW,GACjDpG,EAAG6F,KAAK7D,EAAQhW,KAAKsa,0BACrBtG,EAAG6F,KAAKtD,EAAOvW,KAAKua,eACpBvG,EAAG6F,KAAKpD,EAAUzW,KAAKwa,kBACvBxG,EAAG6F,KAAKlD,EAAe3W,KAAKya,sBAC5Bza,KAAKqB,KAAKuK,WAAaoI,GAE3B8G,aAAc,SAAUhZ,GACpB,GAAIkM,GAAOhO,KAAMmO,EAAK/P,EAAE,eAAgBwQ,EAAWZ,EAAKlN,QAAQ8N,SAAUmM,EAAe,WACjF/M,EAAK9H,QAAQ2D,KAAKzE,EAAMa,EAAgBa,KAAO,eAAiBxB,EAAQF,EAAMa,EAAgBS,WAAa,gBAAgBuD,SAAShE,EAAgBgB,SAASiD,QAAQ,UACtK8Q,EAAUhb,KAAKsY,gBAAkB,GAAI5Z,GAAM+J,GAAGwS,QAAQ9M,GACrDzO,MAAOkP,EAASoJ,aAChBnI,QAASjB,EAASmJ,eAClBnJ,UACIsM,OAAQtM,EAASpG,QACjBlB,OAAQsH,EAAStH,QAErB6T,KAAM,WACFC,WAAW,WACPJ,EAAQ3S,QAAQ6B,QAAQ,aAIxC8Q,GAAQK,OACRL,EAAQM,OAAOC,KAAK,WACXvN,EAAK9D,QAAQkM,GAAUjE,SAAUrQ,MAClCkM,EAAKpC,WAAWmN,OAAOjX,GACvBkM,EAAKpC,WAAW+M,QAEpB3K,EAAK3M,KAAKyJ,yBAA0B,EACpCkD,EAAK3M,KAAKkO,sBAEdyL,EAAQM,OAAOE,KAAKT,IAExB/B,MAAO,SAAU7G,GACb,GAAoJ8F,GAAhJjK,EAAOhO,KAAMyb,EAAcrd,EAAE,SAAUsd,EAAgBtd,EAAE,SAAUwQ,EAAW5O,KAAKc,QAAQ8N,SAAU+M,EAAc3b,KAAK4b,aAAazJ,EACpIwJ,KAGL3N,EAAKsL,MAAQ,GAAI5a,GAAM+J,GAAGoT,KAAKJ,EAAaE,GACtCxJ,EAASxS,QACXqO,EAAKmL,eAAehH,GAExBuJ,EAAcxM,OAAOuM,GACrBzN,EAAKqK,YAAc,GAAI3Z,GAAM+J,GAAGqT,OAAOJ,GACnChc,MAAOkP,EAASmI,KAChB3H,MAAO,SACP2M,OAAO,EACPC,MAAO,SAAUrP,GACRsL,EAODA,GAAO,EANFjK,EAAK9D,QAAQ6L,GAAU5D,SAAUA,IAGlCxF,EAAEiB,iBAFFI,EAAK4K,iBAQjBoB,WAAY,WACR0B,EAAc/S,IAAI9D,GAClBmJ,EAAKqK,YAAY7P,UACjBwF,EAAKqK,YAAc,KACnBrK,EAAK3M,KAAKkO,uBAGlBmM,EAAcxM,OAAOxQ,EAAMgQ,SAASwI,IAChCe,KAAMrJ,EAASqJ,KACf3Q,OAAQsH,EAAStH,UAErB0G,EAAKqK,YAAY4D,SAASZ,OAC1BK,EAActR,GAAGvF,EAAOO,EAAMa,EAAgBoB,OAAQ,WAC9C2G,EAAKsL,MAAM4C,aACXjE,GAAO,EACFjK,EAAK9D,QAAQwM,GAAQvE,SAAUA,MAChCnE,EAAKqK,YAAY2D,QACjBhO,EAAKkL,kBAIjBwC,EAActR,GAAGvF,EAAOO,EAAMa,EAAgBqB,OAAQ,WAClD0G,EAAKqK,YAAY2D,YAGzBJ,aAAc,SAAU9Z,GACpB,GAA0Gqa,GAAWC,EAAjHtb,EAAUd,KAAKc,QAAS8N,EAAW9N,EAAQ8N,SAAUyN,EAAcvb,EAAQzB,SAASuY,KAAMjV,IA0C9F,OAzCI0Z,KACAD,EAAeC,EAAY1Z,OAEzByZ,GAAwC,IAAxBA,EAAa/Z,UAAkBvB,EAAQzB,YAAa,GAAQyB,EAAQzB,UAAYyB,EAAQzB,SAASkT,UACnH4J,IACQld,GAAI,KACJM,KAAMqP,EAASuJ,OAChBpV,OAAO/C,KAAK4L,WAAW/I,gBAAgBf,IAC9Ca,EAAMC,MACFnC,MAAO,WACP6b,OAAQ,eACR3N,MAAOC,EAAS2D,OAChBgK,eACI3Q,WAAYuQ,EACZK,eAAgB,KAChBC,cAAe,OACfC,gBAAgB,MAItBN,GAAwC,IAAxBA,EAAa/Z,UAAkBvB,EAAQzB,YAAa,GAAQyB,EAAQzB,UAAYyB,EAAQzB,SAASF,UACnHwD,EAAQA,EAAMI,SAENtC,MAAO,OACPkO,MAAOC,EAASrP,KAChBC,YAAcC,UAAU,KAGxBgB,MAAO,QACPkO,MAAOC,EAASlP,QAGhBe,MAAO,SACPkO,MAAOC,EAASsJ,aAChBoE,OAAQ9d,EAAMwB,KAAK2c,cAAe3c,KAAM8B,OAIhDua,SACOA,GAAYO,YAEnBja,EAAMN,OAAS,GAAK+Z,GAAgBA,EAAa/Z,OAAS,IACnD9D,GAAO,MACVqe,SAAU9a,EACVa,MAAOA,GACR0Z,IAKX3B,oBAAqB,SAAU/N,GAC3B,KAAiB,QAAbA,EAAEkQ,QAAiC,eAAblQ,EAAEkQ,QAA2B7c,KAAKqY,aAA5D,CAGA,KAAK1L,EAAEkQ,QAAuB,SAAblQ,EAAEkQ,SACX7c,KAAKkK,QAAQgM,EAAavJ,GAE1B,MADA3M,MAAK4a,WAAU,GACf,CAGR5a,MAAK4a,WAAU,GACf5a,KAAKqB,KAAK8H,UACLwD,EAAEkQ,QAAuB,SAAblQ,EAAEkQ,QACf7c,KAAKkK,QAAQiM,GAEjBnW,KAAK4a,WAAU,KAEnBD,mBAAoB,WAChB3a,KAAK4a,WAAU,IAEnBC,0BAA2B,WACvB7a,KAAKqB,KAAK+H,iBAEd6Q,aAAc,WACiE,IAAvE7b,EAAE0e,SAASC,eAAe9T,QAAQ,wBAA0B5G,QAC5DrC,KAAKkG,QAAQ2D,KAAK,kBAAoBI,SAAShE,EAAgBgB,SAASiD,QAAQ,UAGxF0P,iBAAkB,SAAUjN,GACxB,GAAuLqQ,GAAnLhP,EAAOhO,KAAMid,EAAa7e,EAAEuO,EAAEL,QAAQrD,QAAQ7D,EAAMa,EAAgBY,MAAMgD,KAAKzE,EAAMa,EAAgBa,MAAOqL,EAAWnE,EAAKmE,SAAS8K,GAAaJ,EAASze,EAAEuO,EAAE7K,MAAMrD,KAAKmY,EACzKzE,KAGD0K,IAAWvG,EACNtI,EAAK9D,QAAQoM,GAAQnE,SAAUA,KAChCnE,EAAKgL,MAAM7G,GAER0K,IAAW5G,EACbjI,EAAK9D,QAAQ+L,GAAU9D,SAAUA,MAC7BA,EAASxR,UAMVqc,EAAUhP,EAAKpC,WAAW8M,KAAMxZ,SAAUiT,EAASlT,KACnD+O,EAAKgL,MAAMgE,IANXhP,EAAKpC,WAAW5I,MAAO/D,GAAIkT,EAASlT,KAAMgE,KAAK,WAC3C+Z,EAAUhP,EAAKpC,WAAW8M,KAAMxZ,SAAUiT,EAASlT,KACnD+O,EAAKgL,MAAMgE,MAOhBH,IAAWxG,GAClBrI,EAAK8M,aAAa3I,KAG1B4H,YAAa,WACT/Z,KAAKqB,KAAK+H,gBACVpJ,KAAKkG,QAAQ2D,KAAKzE,EAAMa,EAAgBgB,SAAS8C,YAAY9D,EAAgBgB,SAC7EjH,KAAKoY,MAAM/P,QAAQwB,KAAKzE,EAAMa,EAAgBkB,UAAU+D,QAAQhB,QAAQlF,IAE5EkY,UAAW,SAAUjW,GACbjH,KAAKoY,OACLpY,KAAKoY,MAAMiD,KAAKpU,EAAQ4C,KAAKzE,EAAMa,EAAgBc,YAG3D6T,UAAW,SAAUuC,GACjBze,EAAM+J,GAAG2U,SAASpd,KAAKmG,UAAWgX,IAEtCE,iBAAkB,SAAU1Q,GACpB3M,KAAKkK,QAAQpF,GACThD,KAAM6K,EAAE7K,KACR2K,UAAWE,EAAEF,aAEjBE,EAAEiB,kBAGV0P,eAAgB,SAAU3Q,GAClB3M,KAAKkK,QAAQnF,GACTjD,KAAM6K,EAAE7K,KACR2K,UAAWE,EAAEF,aAEjBE,EAAEiB,kBAGV2P,eAAgB,SAAU5Q,GACjB3M,KAAKkK,QAAQ/E,GACVrD,KAAM6K,EAAE7K,KACR2K,UAAWE,EAAEF,cAEjBzM,KAAKqB,KAAKoI,OAAOkD,EAAE7K,MACnB9B,KAAKkK,QAAQ8L,GACTlU,KAAM6K,EAAE7K,KACR2K,UAAWE,EAAEF,cAIzBkQ,cAAe,SAAU7a,EAAMqE,GAC3B,GAAI6H,GAAOhO,IACX5B,GAAE,uBAAuBof,SAASrX,GAAWsX,aACzCC,OAAO,EACPC,UAAU,EACVlU,OAAQ,SAAUkD,GAAV,GACAiR,GAAWjR,EAAEkR,MAAM,GACnBC,EAAMF,EAASG,QACfC,EAAS,GAAIC,WACbL,GAASM,kBAAoBN,EAASM,iBAAiB7b,OAAS,GAGhEyb,IACAE,EAAOG,UAAY,WACfrc,EAAKtB,IAAI,SAAUR,KAAKsb,QACxBtN,EAAKmL,eAAerX,EAAMgc,EAAIve,OAElCye,EAAOI,cAAcN,KAG7Bte,YACI6e,mBACI,OACA,OACA,QAEJC,YAAa,YAIzBhH,MAAO,WAECtX,KAAKqB,KADuB,OAA5BrB,KAAKc,QAAQ+T,YAAuB7U,KAAKc,QAAQ+T,aAAexW,EACpD,GAAIK,GAAMiX,SAAS7B,YAAY9T,KAAKmG,UAAWnG,KAAKc,SAEpD,GAAIpC,GAAMiX,SAASnE,WAAWxR,KAAKmG,UAAWnG,KAAKc,SAEnEd,KAAKqB,KAAKwY,KAAK1U,EAAQ3G,EAAMwB,KAAKud,eAAgBvd,OAClDA,KAAKqB,KAAKwY,KAAK9U,EAAQvG,EAAMwB,KAAKsd,eAAgBtd,OAClDA,KAAKqB,KAAKwY,KAAK/U,EAAUtG,EAAMwB,KAAKqd,iBAAkBrd,OACtDA,KAAKqB,KAAKwY,KAAK3U,EAAM1G,EAAMwB,KAAKkd,UAAWld,QAE/CqX,SAAU,WACN,GAAIlR,GAAY/H,EAAE,qCAClB4B,MAAKkG,QAAUlG,KAAKqI,QACpBrI,KAAKmG,UAAYA,EACjBnG,KAAKkG,QAAQ+D,SAAShE,EAAgBC,SACtClG,KAAKkG,QAAQgJ,OAAO/I,KAG5BzH,GAAM+J,GAAG8V,OAAOpH,IAClB/S,OAAO1F,MAAM2F,QACRD,OAAO1F,OACE,kBAAVP,SAAwBA,OAAOmG,IAAMnG,OAAS,SAAUoG,EAAIC,EAAIC,IACrEA,GAAMD","file":"kendo.orgchart.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('orgchart/data', [\n        'kendo.data',\n        'kendo.treelist'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var extend = $.extend, proxy = $.proxy, data = kendo.data, Query = data.Query, DataSource = data.DataSource, TreeListDataSource = data.TreeListDataSource, Model = data.Model, ObservableArray = data.ObservableArray;\n        var OrgChartModel = Model.define({\n            id: 'id',\n            parentId: 'parentId',\n            fields: {\n                id: {\n                    type: 'number',\n                    editable: false\n                },\n                parentId: {\n                    type: 'number',\n                    nullable: true\n                },\n                name: {\n                    type: 'string',\n                    validation: { required: true }\n                },\n                title: { type: 'string' },\n                avatar: { type: 'string' }\n            },\n            init: function (value) {\n                Model.fn.init.call(this, value);\n                this._loaded = false;\n                if (!this.parentIdField) {\n                    this.parentIdField = 'parentId';\n                }\n                if (!this.nameField) {\n                    this.nameField = 'name';\n                }\n                if (!this.titleField) {\n                    this.titleField = 'title';\n                }\n                if (!this.avatarField) {\n                    this.avatarField = 'avatar';\n                }\n                this.parentId = this.get(this.parentIdField);\n                this.name = this.get(this.nameField);\n                this.title = this.get(this.titleField);\n                this.avatar = this.get(this.avatarField);\n            },\n            accept: function (data) {\n                Model.fn.accept.call(this, data);\n                this.parentId = this.get(this.parentIdField);\n                this.name = this.get(this.nameField);\n                this.title = this.get(this.titleField);\n                this.avatar = this.get(this.avatarField);\n            },\n            set: function (field, value, initiator) {\n                if (field == 'parentId' && this.nameField != 'parentId') {\n                    this[this.parentIdField] = value;\n                }\n                if (field == 'name' && this.nameField != 'name') {\n                    this[this.nameField] = value;\n                }\n                if (field == 'title' && this.titleField != 'title') {\n                    this[this.titleField] = value;\n                }\n                if (field == 'avatar' && this.avatarField != 'avatar') {\n                    this[this.avatarField] = value;\n                }\n                Model.fn.set.call(this, field, value, initiator);\n                if (field == this.parentIdField) {\n                    this.parentId = this.get(this.parentIdField);\n                }\n                if (field == this.nameField) {\n                    this.name = this.get(this.nameField);\n                }\n                if (field == this.titleField) {\n                    this.title = this.get(this.titleField);\n                }\n                if (field == this.avatarField) {\n                    this.avatar = this.get(this.avatarField);\n                }\n            },\n            loaded: function (value) {\n                if (value !== undefined) {\n                    this._loaded = value;\n                } else {\n                    return this._loaded;\n                }\n            },\n            shouldSerialize: function (field) {\n                return Model.fn.shouldSerialize.call(this, field) && field !== '_loaded' && field != '_error' && field != '_edit' && !(this.parentIdField !== 'parentId' && field === 'parentId');\n            }\n        });\n        OrgChartModel.parentIdField = 'parentId';\n        OrgChartModel.nameField = 'name';\n        OrgChartModel.titleField = 'title';\n        OrgChartModel.avatarField = 'avatar';\n        OrgChartModel.define = function (base, options) {\n            if (options === undefined) {\n                options = base;\n                base = OrgChartModel;\n            }\n            var parentId = options.parentId || 'parentId';\n            var name = options.name || 'name';\n            var title = options.title || 'title';\n            var avatar = options.avatar || 'avatar';\n            options.parentIdField = parentId;\n            options.nameField = name;\n            options.titleField = title;\n            options.avatarField = avatar;\n            var model = Model.define(base, options);\n            if (parentId) {\n                model.parentIdField = parentId;\n            }\n            if (name) {\n                model.nameField = name;\n            }\n            if (title) {\n                model.titleField = title;\n            }\n            if (avatar) {\n                model.avatarField = avatar;\n            }\n            return model;\n        };\n        var OrgChartDataSource = TreeListDataSource.extend({\n            init: function (options) {\n                TreeListDataSource.fn.init.call(this, extend(true, {}, {\n                    schema: {\n                        modelBase: OrgChartModel,\n                        model: OrgChartModel\n                    }\n                }, options));\n            },\n            groupedItemsTree: function (field) {\n                var map = this._childrenMap(this.view()), defaultParentId = this._defaultParentId(), currentChildren = map[defaultParentId] || [], grouped = new Query(currentChildren).group({ field: field }).toArray();\n                return this._innerGroupedItemsTree(field, grouped, map);\n            },\n            itemChildren: function (item, fromView) {\n                var filter = {\n                    field: 'parentId',\n                    operator: 'eq',\n                    value: null\n                };\n                var order = this._sort && this._sort.length ? this._sort : {};\n                var itemId, data;\n                if (fromView) {\n                    data = this.view();\n                } else {\n                    data = this.data();\n                }\n                if (!!item) {\n                    itemId = item.get('id');\n                    if (itemId === undefined || itemId === null || itemId === '') {\n                        return [];\n                    }\n                    filter.value = itemId;\n                }\n                data = new Query(data).filter(filter).sort(order).toArray();\n                return data;\n            },\n            itemsTree: function (item, field) {\n                var data = [], current, items = this.itemChildren(item, true), children, i;\n                for (i = 0; i < items.length; i++) {\n                    current = items[i];\n                    if (current.get('expanded')) {\n                        children = this.itemsTree(current, field);\n                        current = extend(true, {}, current);\n                        current.children = children;\n                    }\n                    current = extend(true, {}, current);\n                    data.push(current);\n                }\n                if (field !== null && field !== undefined) {\n                    data = new Query(data).group({ field: field }).toArray();\n                }\n                return data;\n            },\n            prospectParents: function (skippedItem, item) {\n                var data = [], current, items = this.itemChildren(item, false), children, i;\n                for (i = 0; i < items.length; i++) {\n                    current = items[i];\n                    if (current.get('id') === skippedItem.get('id')) {\n                        continue;\n                    }\n                    data.push(current);\n                    if (current.get('hasChildren')) {\n                        children = this.prospectParents(skippedItem, current);\n                        data = data.concat(children);\n                    }\n                }\n                return data;\n            },\n            read: function (data) {\n                return DataSource.fn.read.call(this, data).then(proxy(this._loadExpanded, this, data));\n            },\n            toggleChildren: function (item, expand) {\n                var defaultPromise = $.Deferred().resolve().promise(), loaded = item.loaded();\n                if (item._error) {\n                    item.expanded = false;\n                    item._error = undefined;\n                }\n                if (typeof expand == 'undefined') {\n                    expand = !item.expanded;\n                }\n                item.expanded = expand;\n                if (!loaded) {\n                    defaultPromise = this.load(item);\n                }\n                return defaultPromise;\n            },\n            _innerGroupedItemsTree: function (field, grouped, map) {\n                var group, i, j, itemId, innerGrouped, children, current, hasChildren;\n                for (i = 0; i < grouped.length; i++) {\n                    group = grouped[i];\n                    children = [];\n                    hasChildren = false;\n                    for (j = 0; j < group.items.length; j++) {\n                        current = group.items[j];\n                        if (!group.hasChildren && current.hasChildren) {\n                            group.hasChildren = true;\n                        }\n                        if (current.expanded) {\n                            group.expanded = true;\n                        }\n                        itemId = group.items[j].get('id');\n                        children = children.concat(map[itemId]);\n                    }\n                    if (group.expanded) {\n                        innerGrouped = new Query(children).group({ field: field }).toArray();\n                        group.children = this._innerGroupedItemsTree(field, innerGrouped, map);\n                    }\n                    if (!group.hasChildren && children.length > 0) {\n                        group.hasChildren = true;\n                    }\n                }\n                return grouped;\n            },\n            _loadExpanded: function (data) {\n                var items, i, current;\n                if (!data) {\n                    return;\n                }\n                if (data.id !== null && data.id !== undefined) {\n                    items = this._byParentId(data.id);\n                } else {\n                    items = this._byParentId(this._defaultParentId());\n                }\n                for (i = 0; i < items.length; i++) {\n                    current = items[i];\n                    if (current.expanded && !current.loaded()) {\n                        this.toggleChildren(current, true);\n                    }\n                }\n            }\n        });\n        OrgChartDataSource.create = function (options) {\n            if ($.isArray(options)) {\n                options = { data: options };\n            } else if (options instanceof ObservableArray) {\n                options = { data: options.toJSON() };\n            }\n            if (!(options instanceof OrgChartDataSource) && options instanceof DataSource) {\n                throw new Error('Incorrect DataSource type. Only OrgChartDataSource instances are supported');\n            }\n            return options instanceof OrgChartDataSource ? options : new OrgChartDataSource(options);\n        };\n        extend(true, kendo.data, {\n            OrgChartModel: OrgChartModel,\n            OrgChartDataSource: OrgChartDataSource\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('orgchart/view', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, keys = kendo.keys, extend = $.extend, proxy = $.proxy, NS = '.kendoOrgChartView', BLUR = 'blur', CLICK = 'click', COLLAPSE = 'collapse', EXPAND = 'expand', FOCUS = 'focus', KEYDOWN = 'keydown', MENU = 'menu', SELECT = 'select', DOT = '.', SPACE = ' ', COMMA = ',', HASH = '#', STRING = 'string', TABINDEX = 'tabindex', ID = 'id', UID = 'uid', PX = 'px', PLUS = 'plus', MINUS = 'minus', ARIA_OWNS = 'aria-owns', ARIA_SELECTED = 'aria-selected';\n        var ORGCHART_STYLES = {\n            wrapper: 'k-orgchart',\n            container: 'k-orgchart-container',\n            line: 'k-orgchart-line',\n            lineVertical: 'k-orgchart-line-v',\n            lineHorizontal: 'k-orgchart-line-h',\n            lineVerticalTop: 'k-orgchart-line-v-top',\n            group: 'k-orgchart-group',\n            groupVertical: 'k-orgchart-group-v',\n            groupHorizontal: 'k-orgchart-group-h',\n            nodesGroup: 'k-orgchart-node-group',\n            nodesGroupContainer: 'k-orgchart-node-group-container',\n            nodeContainer: 'k-orgchart-node-container',\n            node: 'k-orgchart-node',\n            card: 'k-orgchart-card',\n            cardMenu: 'k-orgchart-card-menu',\n            button: 'k-orgchart-button',\n            focused: 'k-state-focus',\n            plusIcon: 'k-i-plus',\n            menuItem: 'k-item',\n            avatarPreview: 'k-orgchart-avatar-preview',\n            update: 'k-orgchart-update',\n            cancel: 'k-orgchart-cancel',\n            vstack: 'k-vstack',\n            hstack: 'k-hstack'\n        };\n        var ROOT_TEMPLATE = '<div role=\"tree\" aria-orientation=\"horizontal\" aria-label=\"#: label #\" class=\"k-orgchart-group k-orgchart-level-1 k-pos-absolute k-hstack k-justify-content-center\"></div>';\n        var GROUP_TEMPLATE = '<div role=\"group\" id=\"#: guid #\" class=\"k-orgchart-level-#: level # k-orgchart-group k-pos-absolute k-justify-content-around\"></div>';\n        var NODE_GROUP_CONTAINER = '<div role=\"treeitem\" ' + '# if(data.hasChildren && data.guid) { #' + 'aria-owns=\"#: guid #\" ' + '# if(!!data.expanded) { #' + 'aria-expanded=\"true\" ' + '# } else { #' + 'aria-expanded=\"false\" ' + '# } #' + '# } #' + 'aria-keyshortcuts=\"Enter\" aria-level=\"#: level #\" aria-selected=\"false\" class=\"k-orgchart-node-group-container\">';\n        var NODE_CONTAINER = '<div class=\"k-orgchart-node-container k-justify-content-around\" style=\"width:100%\"></div>';\n        var NODE_CONTAINER_GROUPED = '<div role=\"group\" class=\"k-orgchart-node-container k-justify-content-around k-hstack\" style=\"width:100%\"></div>';\n        var ITEM_TEMPLATE = '<div class=\"k-orgchart-node k-vstack k-align-items-center\"></div>';\n        var BUTTON_TEMPLATE = '<button aria-label=\"#: label #\" tabindex=\"-1\" class=\"k-orgchart-button k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button\">' + '<span class=\"k-button-icon k-icon k-i-#: buttonSign #\"></span>' + '</button>';\n        var CARD_TEMPLATE = '<div class=\"k-card-body k-hstack\" style=\"border-color:#: color #\">' + '# if(!!data.avatar) { #' + '<div class=\"k-avatar k-avatar-solid-primary k-avatar-solid k-avatar-lg k-rounded-full\">' + '<span class=\"k-avatar-image\">' + '<img alt=\"#: name #\" src=\"#: avatar #\">' + '</span>' + '</div>' + '# } #' + '<div class=\"k-vstack k-card-title-wrap\">' + '<div class=\"k-card-title k-text-ellipsis\">#: name #</div>' + '# if(data.title) { #' + '<span class=\"k-spacer\"></span>' + '<div class=\"k-card-subtitle k-text-ellipsis\">#: title #</div>' + '# } #' + '</div>' + '# if(editable) { #' + '<span class=\"k-spacer\"></span>' + '<div class=\"k-card-body-actions\">' + '<button class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-orgchart-card-menu\" role=\"button\" aria-label=\"#: menuLabel #\" tabindex=\"-1\">' + '<span class=\"k-button-icon k-icon k-i-more-vertical\"></span>' + '</button>' + '</div>' + '# } #' + '</div>';\n        var CARD_WRAPPER = '<div role=\"treeitem\" data-uid=\"#: uid #\" ' + '# if(data.hasChildren && data.guid) { #' + 'aria-owns=\"#: guid #\" ' + '# if(!!data.expanded) { #' + 'aria-expanded=\"true\" ' + '# } else { #' + 'aria-expanded=\"false\" ' + '# } #' + '# } #' + 'class=\"k-orgchart-card k-card ' + '# if(!!data.cssClass) { #' + '#: data.cssClass #' + '# } #' + '\" aria-keyshortcuts=\"Enter\" aria-level=\"#: level #\" aria-selected=\"false\">' + '</div>';\n        var GROUPED_CARD_WRAPPER = '<div role=\"treeitem\" data-uid=\"#: uid #\" aria-level=\"#: level #\" aria-selected=\"false\" aria-keyshortcuts=\"Enter\" ' + 'class=\"k-orgchart-card k-card ' + '# if(!!data.cssClass) { #' + '#: data.cssClass #' + '# } #' + '\"></div>';\n        var View = kendo.Observable.extend({\n            init: function (element, options) {\n                this.element = element;\n                this.options = options || {};\n                kendo.Observable.fn.init.call(this);\n                this._attachEvents();\n            },\n            events: [\n                COLLAPSE,\n                EXPAND,\n                SELECT,\n                MENU\n            ],\n            destroy: function () {\n                kendo.ui.Widget.fn.destroy.call(this);\n                this.element.off(NS);\n            },\n            collapse: function () {\n                return false;\n            },\n            expand: function () {\n                return false;\n            },\n            jqueryGroupElement: function (group) {\n                if (!group) {\n                    return;\n                }\n                var jQueryElement = this._processItem(group);\n                if (!jQueryElement.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                    jQueryElement = jQueryElement.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n                return jQueryElement && jQueryElement.length ? jQueryElement : null;\n            },\n            jqueryItemElement: function (item) {\n                if (!item) {\n                    return;\n                }\n                var jQueryElement = this._processItem(item);\n                if (!jQueryElement.hasClass(ORGCHART_STYLES.card)) {\n                    jQueryElement = jQueryElement.closest(DOT + ORGCHART_STYLES.card);\n                }\n                return jQueryElement && jQueryElement.length ? jQueryElement : null;\n            },\n            refresh: function () {\n                this._cacheFocused();\n                this._clearContent();\n                this._generateItemsTree();\n                this._calculateLevels();\n                this._render();\n            },\n            select: function (item) {\n                var $item = this._getToSelect(item), previousSelection = this.element.find('[tabindex=0]');\n                if (!$item) {\n                    return;\n                }\n                previousSelection.removeAttr(TABINDEX).removeClass(ORGCHART_STYLES.focused).attr(ARIA_SELECTED, false);\n                $item.attr(TABINDEX, '0').addClass(ORGCHART_STYLES.focused).trigger('focus').attr(ARIA_SELECTED, true);\n            },\n            _attachEvents: function () {\n                var itemsSelector = DOT + ORGCHART_STYLES.card + COMMA + DOT + ORGCHART_STYLES.nodesGroupContainer;\n                this.element.on(KEYDOWN + NS, itemsSelector, proxy(this._onKeyDown, this)).on(CLICK + NS, itemsSelector, proxy(this._onSelect, this)).on(CLICK + NS, DOT + ORGCHART_STYLES.button, proxy(this._onButtonClick, this)).on(FOCUS + NS, itemsSelector, proxy(this._onFocus, this)).on(BLUR + NS, DOT + ORGCHART_STYLES.focused, proxy(this._onBlur, this));\n            },\n            _cacheFocused: function () {\n                var focusableItem = this.element.find('[tabindex=\\'0\\']'), focusableDataItem = this._dataItems(focusableItem);\n                if (!focusableItem.length || !focusableDataItem || !focusableDataItem.length || !!this._idTabIndex) {\n                    return;\n                }\n                this._idTabIndex = focusableDataItem[0].get(ID);\n                if (focusableItem.hasClass(ORGCHART_STYLES.focused)) {\n                    this._shouldRestoreSelection = true;\n                } else {\n                    this._shouldRestoreSelection = false;\n                }\n            },\n            _calculateDimensions: function () {\n                var itemElement = this.element.find(DOT + this._selector).first();\n                if (!this._buttonHeight) {\n                    this._buttonHeight = this.element.find(DOT + ORGCHART_STYLES.button).first().outerHeight();\n                }\n                if (!this._spacing) {\n                    this._spacing = this.element.find(DOT + ORGCHART_STYLES.lineVertical).first().outerHeight();\n                }\n                if (!this._itemWidth) {\n                    this._itemWidth = this._calculateItemWidth();\n                }\n                if (!this._itemHeight) {\n                    this._itemHeight = itemElement.outerHeight(true);\n                }\n            },\n            _calculateItemWidth: function () {\n                return false;\n            },\n            _calculateLevel: function () {\n                return false;\n            },\n            _calculateLevels: function () {\n                return false;\n            },\n            _clearContent: function () {\n                this.element.empty();\n            },\n            _dataItem: function (item) {\n                var $item = this.jqueryItemElement(item);\n                if (!$item || !$item.data(UID)) {\n                    return;\n                }\n                return this.dataSource.getByUid($item.data(UID));\n            },\n            _dataItems: function () {\n                return false;\n            },\n            _generateItemsTree: function () {\n                return false;\n            },\n            _getToSelect: function () {\n                return false;\n            },\n            _groupIsVertical: function () {\n                return false;\n            },\n            _keyCollapse: function () {\n                return false;\n            },\n            _keyExpand: function () {\n                return false;\n            },\n            _keyNext: function () {\n                return false;\n            },\n            _keyPrev: function () {\n                return false;\n            },\n            _keyEnter: function () {\n                return false;\n            },\n            _keyEscape: function () {\n                return false;\n            },\n            _keyEnd: function () {\n                var target = this.element.find(DOT + ORGCHART_STYLES.card).last(), previous = this.element.find('[tabindex=0]');\n                if (previous[0] === target[0]) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: target,\n                    dataItems: [this._dataItem(target)]\n                });\n            },\n            _keyHome: function () {\n                var target = this.element.find(DOT + ORGCHART_STYLES.card).first(), previous = this.element.find('[tabindex=0]');\n                if (previous[0] === target[0]) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: target,\n                    dataItems: [this._dataItem(target)]\n                });\n            },\n            _onBlur: function () {\n                this.element.find(DOT + ORGCHART_STYLES.focused).removeClass(ORGCHART_STYLES.focused);\n            },\n            _onKeyDown: function (e) {\n                var key = e.keyCode, focused = this.element.find('[tabindex=0]'), isRtl = kendo.support.isRtl(this.element), nextKey = isRtl ? [keys.LEFT] : [keys.RIGHT], prevKey = isRtl ? [keys.RIGHT] : [keys.LEFT], expandKey = keys.DOWN, collapseKey = keys.UP, groupIsVertical;\n                if (!focused) {\n                    return;\n                }\n                groupIsVertical = this._groupIsVertical(focused);\n                if (groupIsVertical) {\n                    nextKey.push(keys.DOWN);\n                    prevKey.push(keys.UP);\n                }\n                if (key === keys.HOME) {\n                    this._keyHome();\n                } else if (key === keys.END) {\n                    this._keyEnd();\n                } else if (nextKey.indexOf(key) > -1) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this._keyNext(focused);\n                } else if (prevKey.indexOf(key) > -1) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this._keyPrev(focused);\n                } else if (key === expandKey) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this._keyExpand(focused);\n                } else if (key === collapseKey) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this._keyCollapse(focused);\n                } else if (key === keys.ENTER) {\n                    this._keyEnter(focused);\n                } else if (key === keys.ESC) {\n                    this._keyEscape(focused);\n                }\n            },\n            _onButtonClick: function (e) {\n                var that = this, target = $(e.currentTarget), shouldExpand = target.find(DOT + ORGCHART_STYLES.plusIcon).length > 0 ? true : false, el = target.siblings(DOT + this._selector), items = this._dataItems(el), i;\n                if (shouldExpand) {\n                    if (that.trigger(EXPAND, {\n                            item: el,\n                            dataItems: items\n                        })) {\n                        return;\n                    }\n                } else {\n                    if (that.trigger(COLLAPSE, {\n                            item: el,\n                            dataItems: items\n                        })) {\n                        return;\n                    }\n                }\n                for (i = 0; i < items.length; i++) {\n                    that.dataSource.toggleChildren(items[i], shouldExpand).then(proxy(this.refresh, this));\n                }\n            },\n            _onFocus: function () {\n                return false;\n            },\n            _onSelect: function () {\n                return false;\n            },\n            _orientation: function () {\n                return false;\n            },\n            _processItem: function (el) {\n                var jQueryElement;\n                if ($.type(el) === STRING) {\n                    jQueryElement = this.element.find(el);\n                } else if (kendo.isElement(el)) {\n                    jQueryElement = $(el);\n                } else if (el instanceof jQuery) {\n                    jQueryElement = el;\n                }\n                return jQueryElement;\n            },\n            _render: function () {\n                var items = this._itemsTree, root = $(kendo.template(ROOT_TEMPLATE)({ label: this.options.messages.label })), wrapperContainer = this.element, total = this._total, widgetPadding = wrapperContainer.closest(DOT + ORGCHART_STYLES.wrapper).css('padding-left'), totalWidth;\n                wrapperContainer.append(root);\n                this._renderGroup(root, items, 1, this._total, 0);\n                totalWidth = total * this._itemWidth + (total - 1) * this._spacing;\n                root.width(totalWidth);\n                wrapperContainer.width(totalWidth + Number(widgetPadding.split(PX)[0]));\n                this._setHeight();\n                this._restoreSelection();\n            },\n            _renderNode: function (cardWrapperTemplate, contentTemplate, item, level, guid) {\n                var messages = this.options.messages, borderColors = this.options.cardsColors || kendo.getSeriesColors(), node = $(ITEM_TEMPLATE), content, cardWrapper;\n                cardWrapper = $(cardWrapperTemplate(extend(true, {}, item, {\n                    menuLabel: messages.menuLabel,\n                    level: level,\n                    guid: guid,\n                    editable: !!this.options.editable,\n                    color: borderColors[level - 1] || borderColors[0]\n                })));\n                if (item.attributes) {\n                    cardWrapper.attr(JSON.parse(JSON.stringify(item.attributes)));\n                }\n                content = $(contentTemplate(extend(true, {}, item, {\n                    menuLabel: messages.menuLabel,\n                    level: level,\n                    guid: guid,\n                    editable: !!this.options.editable,\n                    color: borderColors[level - 1] || borderColors[0]\n                })));\n                cardWrapper.append(content);\n                node.append(cardWrapper);\n                return node;\n            },\n            _renderGroup: function () {\n                return false;\n            },\n            _restoreSelection: function () {\n                var toFocusItem, toFocus;\n                if (!this._idTabIndex) {\n                    toFocus = this.element.find(DOT + this._selector).first();\n                    toFocus.attr(TABINDEX, '0');\n                } else {\n                    toFocusItem = this.dataSource.get(this._idTabIndex);\n                    toFocus = toFocusItem ? this._getToFocus(toFocusItem) : this.element.find(DOT + this._selector).first();\n                    toFocus.attr(TABINDEX, '0');\n                    this._idTabIndex = null;\n                }\n                if (this._shouldRestoreSelection) {\n                    this._shouldRestoreSelection = false;\n                    this._preventTriggerSelect = true;\n                    toFocus.trigger('focus');\n                    toFocus.addClass(ORGCHART_STYLES.focused);\n                }\n            },\n            _setHeight: function () {\n                var selector = this._selector, elements = this.element.find(DOT + ORGCHART_STYLES.button + COMMA + DOT + selector), min = Number.MAX_VALUE, max = 0, buttonHeight;\n                this._calculateDimensions();\n                buttonHeight = this._buttonHeight;\n                this.element.find(DOT + ORGCHART_STYLES.lineVerticalTop).height(this._spacing + buttonHeight / 2);\n                elements.each(function (i, el) {\n                    var top = $(el).offset().top, bottom = top + $(el).outerHeight(true);\n                    if (top < min) {\n                        min = top;\n                    }\n                    if (bottom > max) {\n                        max = bottom;\n                    }\n                });\n                this.element.height(max - min);\n            }\n        });\n        var SingleView = View.extend({\n            init: function (element, options) {\n                View.fn.init.call(this, element, options);\n                this._selector = ORGCHART_STYLES.card;\n            },\n            collapse: function (item) {\n                var $item = this.jqueryItemElement(item);\n                if (!$item) {\n                    return;\n                }\n                this.dataSource.toggleChildren(this._dataItem($item), false).then(proxy(this.refresh, this));\n            },\n            expand: function (item) {\n                var $item = this.jqueryItemElement(item);\n                if (!$item) {\n                    return;\n                }\n                this.dataSource.toggleChildren(this._dataItem($item), true).then(proxy(this.refresh, this));\n            },\n            _calculateItemWidth: function () {\n                return this.element.find(DOT + this._selector).first().outerWidth(true);\n            },\n            _calculateLevel: function (items, level) {\n                var itemsLength = items.length, maxColumnsPerLevel = this._maxColumnsPerLevel, nestedChildren = false, shouldReset = false, previousMax, i, item;\n                if (!maxColumnsPerLevel[level] || maxColumnsPerLevel[level] < itemsLength) {\n                    previousMax = maxColumnsPerLevel[level];\n                    shouldReset = true;\n                    maxColumnsPerLevel[level] = itemsLength;\n                }\n                for (i = 0; i < itemsLength; i++) {\n                    item = items[i];\n                    if (item.hasChildren) {\n                        nestedChildren = true;\n                        if (item.expanded) {\n                            this._calculateLevel(item.children, level + 1);\n                        }\n                    }\n                }\n                if (!nestedChildren && shouldReset && level > 0) {\n                    shouldReset = false;\n                    maxColumnsPerLevel[level] = previousMax || 1;\n                }\n            },\n            _calculateLevels: function () {\n                var items = this._itemsTree, maxColumnsPerLevel = this._maxColumnsPerLevel = [], total = 1, i;\n                this._calculateLevel(items, 0);\n                for (i = 0; i < maxColumnsPerLevel.length; i++) {\n                    total = total * maxColumnsPerLevel[i];\n                }\n                this._total = total;\n            },\n            _dataItems: function (container) {\n                var item = this.dataSource.getByUid(container.data(UID));\n                if (item) {\n                    return [item];\n                } else {\n                    return null;\n                }\n            },\n            _generateItemsTree: function () {\n                this._itemsTree = this.dataSource.itemsTree();\n            },\n            _getToFocus: function (item) {\n                return this.element.find('[data-uid=\\'' + item.get(UID) + '\\']');\n            },\n            _getToSelect: function (el) {\n                return this.jqueryItemElement(el);\n            },\n            _groupIsVertical: function (focused) {\n                var itemGroup = focused.closest(DOT + ORGCHART_STYLES.group);\n                return itemGroup.hasClass(ORGCHART_STYLES.groupVertical);\n            },\n            _keyCollapse: function (focused) {\n                var dataItem = this._dataItem(focused), parentUid, parentItem;\n                if (dataItem.expanded) {\n                    if (!this.trigger(COLLAPSE, {\n                            item: focused,\n                            dataItems: [dataItem]\n                        })) {\n                        this.collapse(focused);\n                    }\n                } else if (dataItem.parentId) {\n                    parentUid = this.dataSource.get(dataItem.parentId).get(UID);\n                    parentItem = this.element.find('[data-uid=\\'' + parentUid + '\\']');\n                    this.trigger(SELECT, {\n                        item: parentItem,\n                        dataItems: [this._dataItem(parentItem)]\n                    });\n                }\n            },\n            _keyEnter: function (focused) {\n                if (focused.find(DOT + ORGCHART_STYLES.cardMenu).length > 0) {\n                    this.trigger(MENU, focused);\n                }\n            },\n            _keyExpand: function (focused) {\n                var dataItem = this._dataItem(focused), ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS)), childItem;\n                if (!dataItem.hasChildren) {\n                    return;\n                }\n                if (!dataItem.expanded) {\n                    if (!this.trigger(EXPAND, {\n                            item: focused,\n                            dataItems: [dataItem]\n                        })) {\n                        this.expand(focused);\n                    }\n                } else {\n                    childItem = ownedGroup.find(DOT + this._selector).first();\n                    this.trigger(SELECT, {\n                        item: childItem,\n                        dataItems: [this._dataItem(childItem)]\n                    });\n                }\n            },\n            _keyNext: function (focused) {\n                var dataItem = this._dataItem(focused), next = focused.parent().next(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card), ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS));\n                if (!next.length && dataItem.hasChildren && dataItem.expanded) {\n                    next = ownedGroup.find(DOT + ORGCHART_STYLES.card).first();\n                }\n                if (next.length === 0 || next.hasClass(ORGCHART_STYLES.focused)) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: next,\n                    dataItems: [this._dataItem(next)]\n                });\n            },\n            _keyPrev: function (focused) {\n                var dataItem = this._dataItem(focused), prev = focused.parent().prev(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card), parentUid;\n                if (!prev.length && dataItem.parentId) {\n                    parentUid = this.dataSource.get(dataItem.parentId).get(UID);\n                    prev = this.element.find('[data-uid=\\'' + parentUid + '\\']');\n                }\n                if (prev.length === 0 || prev.hasClass(ORGCHART_STYLES.focused)) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: prev,\n                    dataItems: [this._dataItem(prev)]\n                });\n            },\n            _onFocus: function (e) {\n                var currentTarget = $(e.currentTarget), target = $(e.target);\n                if (this._preventTriggerSelect) {\n                    e.stopPropagation();\n                    this._preventTriggerSelect = false;\n                    return;\n                }\n                if (target.hasClass(ORGCHART_STYLES.cardMenu)) {\n                    if (target.closest('[tabindex=\\'0\\']').length > 0) {\n                        e.stopPropagation();\n                        return;\n                    } else {\n                        this._preventTriggerSelect = true;\n                    }\n                }\n                if (!currentTarget.hasClass(ORGCHART_STYLES.card)) {\n                    currentTarget = currentTarget.closest(DOT + ORGCHART_STYLES.card);\n                }\n                if (!currentTarget.hasClass(ORGCHART_STYLES.focused)) {\n                    this.trigger(SELECT, {\n                        item: currentTarget,\n                        dataItems: [this._dataItem(currentTarget)]\n                    });\n                }\n            },\n            _onSelect: function (e) {\n                var target = $(e.currentTarget), item = target.hasClass(ORGCHART_STYLES.card) ? target : target.closest(DOT + ORGCHART_STYLES.card), menuButtonTarget = $(e.target).hasClass(ORGCHART_STYLES.cardMenu) ? $(e.target) : $(e.target).closest(DOT + ORGCHART_STYLES.cardMenu);\n                if (menuButtonTarget.length > 0) {\n                    return;\n                }\n                if (!target.hasClass(ORGCHART_STYLES.focused)) {\n                    this.trigger(SELECT, {\n                        item: item,\n                        dataItems: [this._dataItem(item)]\n                    });\n                }\n            },\n            _orientation: function (group, level, vertical) {\n                var vLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical);\n                if (vertical && level > 1) {\n                    group.addClass(ORGCHART_STYLES.groupVertical + SPACE + ORGCHART_STYLES.vstack);\n                    group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.vstack);\n                    if (group.find(DOT + ORGCHART_STYLES.button).length === 0 || group.find(DOT + ORGCHART_STYLES.card).length === 1) {\n                        group.find(DOT + ORGCHART_STYLES.card).before(vLine.clone());\n                        group.find(DOT + ORGCHART_STYLES.node).first().find(DOT + ORGCHART_STYLES.lineVertical).addClass(ORGCHART_STYLES.lineVerticalTop);\n                    } else if (level > 1) {\n                        group.find(DOT + ORGCHART_STYLES.card).first().before(vLine.clone());\n                    }\n                } else {\n                    group.addClass(ORGCHART_STYLES.groupHorizontal + SPACE + ORGCHART_STYLES.hstack);\n                    group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.hstack);\n                    if (level > 1) {\n                        group.find(DOT + ORGCHART_STYLES.card).before(vLine.clone().addClass(ORGCHART_STYLES.lineVerticalTop));\n                    }\n                }\n            },\n            _renderGroup: function (group, items, level, parentColumns, parentLeft) {\n                var vertical = true, nodeContainer;\n                nodeContainer = $(NODE_CONTAINER);\n                group.append(nodeContainer);\n                vertical = this._renderInner(nodeContainer, items, level, parentColumns, parentLeft);\n                this._orientation(group, level, vertical);\n            },\n            _renderInner: function (nodeContainer, items, level, parentColumns, parentLeft) {\n                var buttonTemplate = kendo.template(BUTTON_TEMPLATE), cardWrapperTemplate = kendo.template(CARD_WRAPPER), numberOfColumns = parentColumns / items.length, vertical = true, vLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical), hLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineHorizontal), messages = this.options.messages, i, item, guid, node, button, innerGroup, itemWidth, spacing, contentTemplate;\n                if (!this.options.template) {\n                    contentTemplate = kendo.template(CARD_TEMPLATE);\n                } else if (typeof this.options.template === 'function') {\n                    contentTemplate = this.options.template;\n                } else {\n                    contentTemplate = kendo.template(this.options.template);\n                }\n                for (i = 0; i < items.length; i++) {\n                    item = items[i];\n                    guid = kendo.guid();\n                    node = this._renderNode(cardWrapperTemplate, contentTemplate, item, level, guid);\n                    if (item.hasChildren) {\n                        node.append(vLine.clone());\n                        button = $(buttonTemplate({\n                            buttonSign: item.expanded ? MINUS : PLUS,\n                            label: item.expanded ? messages.collapse : messages.expand\n                        }));\n                        node.append(button);\n                    }\n                    nodeContainer.append(node);\n                    this._calculateDimensions();\n                    itemWidth = this._itemWidth;\n                    spacing = this._spacing;\n                    if (item.hasChildren) {\n                        vertical = false;\n                        if (item.expanded) {\n                            innerGroup = this._renderInnerGroup(item, numberOfColumns, parentLeft, i, level, guid);\n                        }\n                    }\n                    if (!!innerGroup && innerGroup.hasClass(ORGCHART_STYLES.groupHorizontal) && item.expanded && !!item.children && item.children.length > 1) {\n                        button.after(hLine.clone().css({\n                            width: (numberOfColumns - numberOfColumns / item.children.length) * (itemWidth + spacing) + PX,\n                            'margin-top': this._buttonHeight / -2 + PX\n                        }));\n                    }\n                }\n                if (numberOfColumns > 1 && !vertical) {\n                    nodeContainer.find(DOT + ORGCHART_STYLES.node).width((numberOfColumns - 1) * (spacing + itemWidth));\n                }\n                return vertical;\n            },\n            _renderInnerGroup: function (item, numberOfColumns, parentLeft, i, level, guid) {\n                var itemWidth = this._itemWidth, spacing = this._spacing, width = numberOfColumns * itemWidth + (numberOfColumns - 1) * spacing, left = i * numberOfColumns * itemWidth + parentLeft, groupTemplate = kendo.template(GROUP_TEMPLATE), offsetDirection = kendo.support.isRtl(this.element) ? 'right' : 'left', top = level * (this._itemHeight + this._buttonHeight + spacing) + spacing * (level - 1) - this._buttonHeight / 2, innerGroup;\n                if (i > 0) {\n                    left += i * numberOfColumns * spacing;\n                }\n                innerGroup = $(groupTemplate({\n                    guid: guid,\n                    level: level + 1\n                }));\n                innerGroup.css({\n                    width: width + PX,\n                    top: top + PX\n                });\n                innerGroup.css(offsetDirection, left + PX);\n                this.element.append(innerGroup);\n                this._renderGroup(innerGroup, item.children, level + 1, numberOfColumns, left);\n                return innerGroup;\n            }\n        });\n        var GroupedView = View.extend({\n            init: function (element, options) {\n                View.fn.init.call(this, element, options);\n                this._selector = ORGCHART_STYLES.nodesGroupContainer;\n            },\n            collapse: function (group) {\n                var $group = this.jqueryGroupElement(group), dataItems, i;\n                if (!$group) {\n                    return;\n                }\n                dataItems = this._dataItems($group);\n                for (i = 0; i < dataItems.length; i++) {\n                    this.dataSource.toggleChildren(dataItems[i], false).then(proxy(this.refresh, this));\n                }\n            },\n            expand: function (group) {\n                var $group = this.jqueryGroupElement(group), dataItems, i;\n                if (!$group) {\n                    return;\n                }\n                dataItems = this._dataItems($group);\n                for (i = 0; i < dataItems.length; i++) {\n                    this.dataSource.toggleChildren(dataItems[i], true).then(proxy(this.refresh, this));\n                }\n            },\n            _dataItems: function (container) {\n                var ds = this.dataSource, dataItems = [], items, item, current;\n                if (container.hasClass(ORGCHART_STYLES.card)) {\n                    item = ds.getByUid(container.data(UID));\n                    if (item) {\n                        dataItems.push(item);\n                    }\n                } else if (container.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                    this._groupFocused = true;\n                    items = container.find(DOT + ORGCHART_STYLES.card);\n                    items.each(function (i, item) {\n                        current = ds.getByUid(item.getAttribute('data-uid'));\n                        if (current) {\n                            dataItems.push(current);\n                        }\n                    });\n                }\n                return dataItems;\n            },\n            _calculateItemWidth: function () {\n                var itemElement = this.element.find(DOT + this._selector).first(), cardWidth = this.element.find(DOT + ORGCHART_STYLES.card).first().outerWidth(true), padding = Number(itemElement.css('padding-left').split(PX)[0]), border = Number(itemElement.css('border-left').split(PX)[0]);\n                return cardWidth + 2 * padding + 2 * border;\n            },\n            _calculateLevel: function (groups, level) {\n                var groupsLength = groups.length, nestedChildren = false, maxColumns = 0, currentLength, i, group;\n                this._maxColumnsPerLevel[level] = this._maxColumnsPerLevel[level] || 0;\n                this._maxGroups[level] = this._maxGroups[level] || 0;\n                for (i = 0; i < groupsLength; i++) {\n                    group = groups[i];\n                    currentLength = group.items.length;\n                    if (currentLength > maxColumns) {\n                        maxColumns = currentLength;\n                    }\n                    group = groups[i];\n                    if (group.hasChildren) {\n                        nestedChildren = true;\n                        if (group.expanded) {\n                            this._calculateLevel(group.children, level + 1);\n                        }\n                    }\n                }\n                if (groupsLength > this._maxGroups[level]) {\n                    this._maxGroups[level] = groupsLength;\n                }\n                if (!nestedChildren) {\n                    maxColumns = 1;\n                }\n                if (maxColumns > this._maxColumnsPerLevel[level]) {\n                    this._maxColumnsPerLevel[level] = maxColumns;\n                }\n            },\n            _calculateLevels: function () {\n                var items = this._itemsTree, maxColumnsPerLevel = this._maxColumnsPerLevel = [], maxGroups = this._maxGroups = [], total = 1, i, currentTotal;\n                this._calculateLevel(items, 0);\n                for (i = maxColumnsPerLevel.length - 1; i >= 0; i--) {\n                    currentTotal = maxColumnsPerLevel[i] * maxGroups[i];\n                    if (total > maxColumnsPerLevel[i]) {\n                        total = total * maxGroups[i];\n                    } else if (total < currentTotal) {\n                        total = currentTotal;\n                    }\n                }\n                this._total = total;\n            },\n            _generateItemsTree: function () {\n                this._itemsTree = this.dataSource.groupedItemsTree(this.options.groupField);\n            },\n            _getToFocus: function (item) {\n                if (!this._groupFocused) {\n                    return this.element.find('[data-uid=\\'' + item.get(UID) + '\\']');\n                } else {\n                    this._groupFocused = false;\n                    return this.element.find('[data-uid=\\'' + item.get(UID) + '\\']').closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n            },\n            _getToSelect: function (el) {\n                var item = this.jqueryItemElement(el);\n                return item || this.jqueryGroupElement(el);\n            },\n            _groupIsVertical: function (focused) {\n                var itemGroup = focused.closest(DOT + ORGCHART_STYLES.nodeContainer);\n                return itemGroup.hasClass(ORGCHART_STYLES.vstack);\n            },\n            _keyCollapse: function (focused) {\n                var dataItems = [], parentUid, expanded;\n                dataItems = this._dataItems(focused);\n                expanded = dataItems.some(function (item) {\n                    return item.expanded;\n                });\n                if (expanded) {\n                    if (focused.hasClass(ORGCHART_STYLES.card)) {\n                        focused = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                        dataItems = this._dataItems(focused);\n                    }\n                    if (!this.trigger(COLLAPSE, {\n                            item: focused,\n                            dataItems: dataItems\n                        })) {\n                        this.collapse(focused);\n                    }\n                } else if (dataItems[0].parentId) {\n                    parentUid = this.dataSource.get(dataItems[0].parentId).get(UID);\n                    this.trigger(SELECT, {\n                        item: this.element.find('[data-uid=\\'' + parentUid + '\\']').closest(DOT + this._selector),\n                        dataItems: dataItems\n                    });\n                }\n            },\n            _keyEnter: function (focused) {\n                var toSelect, dataItems = [];\n                if (focused.hasClass(ORGCHART_STYLES.card) && focused.find(DOT + ORGCHART_STYLES.cardMenu).length > 0) {\n                    this.trigger(MENU, focused);\n                } else {\n                    toSelect = focused.find(DOT + ORGCHART_STYLES.card).first();\n                    dataItems = this._dataItems(toSelect);\n                    this.trigger(SELECT, {\n                        item: toSelect,\n                        dataItems: dataItems\n                    });\n                }\n            },\n            _keyEscape: function (focused) {\n                if (!focused.hasClass(ORGCHART_STYLES.card)) {\n                    return;\n                }\n                var group = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer), dataItems = this._dataItems(group);\n                this.trigger(SELECT, {\n                    item: group,\n                    dataItems: dataItems\n                });\n            },\n            _keyExpand: function (focused) {\n                var ownedGroupId = focused.attr(ARIA_OWNS) || focused.closest(DOT + this._selector).attr(ARIA_OWNS), ownedGroup = this.element.find(HASH + ownedGroupId), dataItems = this._dataItems(focused), hasChildren, expanded, item;\n                hasChildren = dataItems.some(function (item) {\n                    return item.hasChildren;\n                });\n                if (!hasChildren) {\n                    return;\n                }\n                expanded = dataItems.some(function (item) {\n                    return item.expanded;\n                });\n                if (!expanded) {\n                    if (focused.hasClass(ORGCHART_STYLES.card)) {\n                        focused = focused.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                        dataItems = this._dataItems(focused);\n                    }\n                    if (!this.trigger(EXPAND, {\n                            item: focused,\n                            dataItems: dataItems\n                        })) {\n                        this.expand(focused);\n                    }\n                } else {\n                    item = ownedGroup.find(DOT + this._selector).first();\n                    this.trigger(SELECT, {\n                        item: item,\n                        dataItems: this._dataItems(item)\n                    });\n                }\n            },\n            _keyNext: function (focused) {\n                var ownedGroup = this.element.find(HASH + focused.attr(ARIA_OWNS)), dataItems = this._dataItems(focused), hasChildren = dataItems.some(function (item) {\n                        return item.hasChildren;\n                    }), expanded = dataItems.some(function (item) {\n                        return item.expanded;\n                    }), next;\n                if (focused.hasClass(ORGCHART_STYLES.card)) {\n                    next = focused.parent().next(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card);\n                } else {\n                    next = focused.parent().next(DOT + ORGCHART_STYLES.nodesGroup).find(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n                if (!next.length && hasChildren && expanded) {\n                    next = ownedGroup.find(DOT + this._selector).first();\n                }\n                if (next.length === 0) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: next,\n                    dataItems: this._dataItems(next)\n                });\n            },\n            _keyPrev: function (focused) {\n                var dataItems = this._dataItems(focused), parentUid, prev;\n                if (focused.hasClass(ORGCHART_STYLES.card)) {\n                    prev = focused.parent().prev(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card);\n                } else {\n                    prev = focused.parent().prev(DOT + ORGCHART_STYLES.nodesGroup).find(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                }\n                if (!prev.length && dataItems[0].parentId) {\n                    parentUid = this.dataSource.get(dataItems[0].parentId).get(UID);\n                    prev = this.element.find('[data-uid=\\'' + parentUid + '\\']').closest(DOT + this._selector);\n                }\n                if (prev.length === 0) {\n                    return;\n                }\n                this.trigger(SELECT, {\n                    item: prev,\n                    dataItems: this._dataItems(prev)\n                });\n            },\n            _onFocus: function (e) {\n                var target = $(e.target), items, current;\n                if (this._preventTriggerSelect) {\n                    e.stopPropagation();\n                    this._preventTriggerSelect = false;\n                    return;\n                }\n                if (target.hasClass(ORGCHART_STYLES.cardMenu)) {\n                    if (target.closest('[tabindex=\\'0\\']').length > 0) {\n                        e.stopPropagation();\n                        return;\n                    } else {\n                        this._preventTriggerSelect = true;\n                    }\n                }\n                if (!target.hasClass(ORGCHART_STYLES.card) && !target.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                    current = target.closest(DOT + ORGCHART_STYLES.card);\n                    if (!current.length) {\n                        current = target.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                    }\n                    target = current;\n                }\n                if (target.length === 0) {\n                    return;\n                }\n                items = this._dataItems(target);\n                if (!target.hasClass(ORGCHART_STYLES.focused)) {\n                    e.stopPropagation();\n                    this.trigger(SELECT, {\n                        item: target,\n                        dataItems: items\n                    });\n                }\n            },\n            _onSelect: function (e) {\n                var target = $(e.target), previousSelection = this.element.find('[tabindex=0]'), items, current;\n                if (!target.hasClass(ORGCHART_STYLES.card) && !target.hasClass(ORGCHART_STYLES.nodesGroupContainer)) {\n                    current = target.closest(DOT + ORGCHART_STYLES.card);\n                    if (!current.length) {\n                        current = target.closest(DOT + ORGCHART_STYLES.nodesGroupContainer);\n                    }\n                    target = current;\n                }\n                if (target.length === 0 || previousSelection[0] === target[0]) {\n                    return;\n                }\n                items = this._dataItems(target);\n                this.trigger(SELECT, {\n                    item: target,\n                    dataItems: items\n                });\n            },\n            _orientation: function (group, level, vertical) {\n                var vLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical + SPACE + ORGCHART_STYLES.lineVerticalTop);\n                group.addClass(ORGCHART_STYLES.hstack);\n                if (level > 1) {\n                    group.find(DOT + ORGCHART_STYLES.nodesGroupContainer).before(vLine.clone());\n                }\n                if (vertical && level > 1) {\n                    group.find(DOT + ORGCHART_STYLES.nodeContainer).removeClass(ORGCHART_STYLES.hstack);\n                    group.find(DOT + ORGCHART_STYLES.nodeContainer).addClass(ORGCHART_STYLES.vstack);\n                } else {\n                    group.addClass(ORGCHART_STYLES.groupHorizontal);\n                }\n            },\n            _renderChildren: function (item, index, numberOfColumns, level, nodesGroup, parentLeft, guid) {\n                var buttonTemplate = kendo.template(BUTTON_TEMPLATE), groupTemplate = kendo.template(GROUP_TEMPLATE), vLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineVertical), hLine = $('<div>').addClass(ORGCHART_STYLES.line + SPACE + ORGCHART_STYLES.lineHorizontal), messages = this.options.messages, vertical = true, offsetDirection = kendo.support.isRtl(this.element) ? 'right' : 'left', innerGroup, button, left, top, width, nodesGroupWidth, spacing;\n                if (item.hasChildren) {\n                    vertical = false;\n                    nodesGroup.append(vLine.clone());\n                    button = $(buttonTemplate({\n                        buttonSign: item.expanded ? MINUS : PLUS,\n                        label: item.expanded ? messages.collapse : messages.expand\n                    }));\n                    nodesGroup.append(button);\n                    this._calculateDimensions();\n                    nodesGroupWidth = this._itemWidth;\n                    spacing = this._spacing;\n                    if (item.expanded) {\n                        width = nodesGroupWidth * numberOfColumns + (numberOfColumns - 1) * spacing;\n                        left = index * numberOfColumns * nodesGroupWidth + parentLeft;\n                        top = level * (this._itemHeight + this._buttonHeight + spacing) + spacing * (level - 1) - this._buttonHeight / 2;\n                        if (index > 0) {\n                            left += index * numberOfColumns * spacing;\n                        }\n                        innerGroup = $(groupTemplate({\n                            guid: guid,\n                            level: level + 1\n                        }));\n                        innerGroup.css({\n                            width: width + PX,\n                            top: top + PX\n                        });\n                        innerGroup.css(offsetDirection, left + PX);\n                        this.element.append(innerGroup);\n                        this._renderGroup(innerGroup, item.children, level + 1, numberOfColumns, left);\n                    }\n                }\n                if (!!innerGroup && item.expanded && !!item.children && item.children.length > 1) {\n                    button.after(hLine.clone().css({\n                        width: (numberOfColumns - numberOfColumns / item.children.length) * (nodesGroupWidth + spacing) + PX,\n                        'margin-top': this._buttonHeight / -2 + PX\n                    }));\n                }\n                return vertical;\n            },\n            _renderGroup: function (group, items, level, parentColumns, parentLeft) {\n                var vertical = true, numberOfColumns = parentColumns / items.length, nodeContainer, nodesGroup, i, guid, currentVertical, item;\n                for (i = 0; i < items.length; i++) {\n                    guid = kendo.guid();\n                    item = items[i];\n                    nodeContainer = this._renderNodesContainer(group, extend(true, {}, item, {\n                        guid: guid,\n                        level: level\n                    }));\n                    nodesGroup = nodeContainer.closest(DOT + ORGCHART_STYLES.nodesGroup);\n                    this._renderItems(nodeContainer, item.items, level, guid);\n                    currentVertical = this._renderChildren(item, i, numberOfColumns, level, nodesGroup, parentLeft, guid);\n                    if (vertical) {\n                        vertical = currentVertical;\n                    }\n                }\n                var width = this._itemWidth * numberOfColumns + (numberOfColumns - 1) * this._spacing;\n                group.find(DOT + ORGCHART_STYLES.nodesGroup).width(width);\n                this._orientation(group, level, vertical);\n            },\n            _renderItems: function (nodeContainer, items, level, guid) {\n                var cardWrapperTemplate = kendo.template(GROUPED_CARD_WRAPPER), i, item, node, contentTemplate;\n                if (!this.options.template) {\n                    contentTemplate = kendo.template(CARD_TEMPLATE);\n                } else if (typeof this.options.template === 'function') {\n                    contentTemplate = this.options.template;\n                } else {\n                    contentTemplate = kendo.template(this.options.template);\n                }\n                for (i = 0; i < items.length; i++) {\n                    item = items[i];\n                    node = this._renderNode(cardWrapperTemplate, contentTemplate, item, level, guid);\n                    nodeContainer.append(node);\n                }\n            },\n            _renderNodesContainer: function (group, data) {\n                var nodeGroupContainerTemplate = kendo.template(NODE_GROUP_CONTAINER), nodeGroup = $('<div class=\"k-orgchart-node-group k-align-items-center k-vstack\">'), nodeContainer = $(NODE_CONTAINER_GROUPED), nodeGroupContainer = $(nodeGroupContainerTemplate(data)), groupHeaderTemplate;\n                if (typeof this.options.groupHeaderTemplate === 'function') {\n                    groupHeaderTemplate = this.options.groupHeaderTemplate;\n                } else {\n                    groupHeaderTemplate = kendo.template(this.options.groupHeaderTemplate);\n                }\n                nodeGroupContainer.append(groupHeaderTemplate({\n                    value: data.value,\n                    field: data.field\n                }));\n                nodeGroupContainer.append(nodeContainer);\n                nodeGroup.append(nodeGroupContainer);\n                group.append(nodeGroup);\n                return nodeContainer;\n            }\n        });\n        kendo.orgChart = {\n            View: View,\n            SingleView: SingleView,\n            GroupedView: GroupedView\n        };\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.orgchart', [\n        'orgchart/data',\n        'orgchart/view',\n        'kendo.menu',\n        'kendo.dialog',\n        'kendo.form',\n        'kendo.upload',\n        'kendo.window'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'orgchart',\n        name: 'OrgChart',\n        category: 'web',\n        description: 'The OrgChart widget displays hierarchical organizational structure.',\n        depends: [\n            'core',\n            'menu',\n            'dialog',\n            'form',\n            'upload',\n            'window'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, DataBoundWidget = kendo.ui.DataBoundWidget, OrgChartDataSource = kendo.data.OrgChartDataSource, ContextMenu = kendo.ui.ContextMenu, extend = $.extend, proxy = $.proxy, isArray = Array.isArray, NS = '.kendoOrgChart', CANCEL = 'cancel', CHANGE = 'change', CLICK = 'click', COLLAPSE = 'collapse', CREATE = 'create', DATABINDING = 'dataBinding', DATABOUND = 'dataBound', DELETE = 'delete', DESTROY = 'destroy', EDIT = 'edit', ERROR = 'error', EXPAND = 'expand', FOCUS = 'focus', KENDOKEYDOWN = 'kendoKeydown', MENU = 'menu', PROGRESS = 'progress', SAVE = 'save', SELECT = 'select', REQUEST_START = 'requestStart', DOT = '.', SPACE = ' ', COMMA = ',', ID = 'id', UID = 'uid', ACTION = 'action';\n        var ORGCHART_STYLES = {\n            wrapper: 'k-orgchart',\n            container: 'k-orgchart-container',\n            line: 'k-orgchart-line',\n            lineVertical: 'k-orgchart-line-v',\n            lineHorizontal: 'k-orgchart-line-h',\n            lineVerticalTop: 'k-orgchart-line-v-top',\n            group: 'k-orgchart-group',\n            groupVertical: 'k-orgchart-group-v',\n            groupHorizontal: 'k-orgchart-group-h',\n            nodesGroup: 'k-orgchart-node-group',\n            nodesGroupContainer: 'k-orgchart-node-group-container',\n            nodeContainer: 'k-orgchart-node-container',\n            node: 'k-orgchart-node',\n            card: 'k-orgchart-card',\n            cardMenu: 'k-orgchart-card-menu',\n            button: 'k-orgchart-button',\n            focused: 'k-state-focus',\n            plusIcon: 'k-i-plus',\n            menuItem: 'k-item',\n            avatarPreview: 'k-orgchart-avatar-preview',\n            update: 'k-orgchart-update',\n            cancel: 'k-orgchart-cancel',\n            vstack: 'k-vstack',\n            hstack: 'k-hstack',\n            closeButton: 'k-i-close'\n        };\n        var MENU_ITEMS = {\n            edit: '<li data-action=\\'edit\\'>#: edit #</li>',\n            create: '<li data-action=\\'create\\'>#: create #</li>',\n            destroy: '<li data-action=\\'destroy\\'>#: destroy #</li>'\n        };\n        var GROUP_HEADER_TEMPLATE = '<div>' + '<div class=\"k-orgchart-node-group-title\">#: value #</div>' + '<div class=\"k-orgchart-node-group-subtitle\">#: field #</div>' + '</div>';\n        var AVATAR_PREVIEW_TEMPLATE = '<div class=\"k-orgchart-avatar-preview k-hstack k-align-items-center k-pb-lg\">' + '<div class=\"k-avatar k-avatar-solid-primary k-avatar-solid k-avatar-lg k-rounded-full\">' + '<span class=\"k-avatar-image\">' + '<img src=\"#: avatar #\" alt=\"#: name #\">' + '</span>' + '</div>' + '<div class=\"k-px-md\">#: fileName #</div>' + '<button class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button\" aria-label=\"#: destroy #\">' + '<span class=\"k-button-icon k-icon k-i-delete\"></span>' + '</button>' + '</div>';\n        var EDITOR_BUTTONS_TEMPLATE = '<div class=\"k-edit-buttons\">' + '<button type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-orgchart-cancel\">' + '<span class=\"k-button-text\">#: cancel #</span>' + '</button>' + '<button type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary k-orgchart-update\">' + '<span class=\"k-button-text\">#: save #</span>' + '</button>' + '</div>';\n        var OrgChart = DataBoundWidget.extend({\n            init: function (element, options, events) {\n                if (isArray(options)) {\n                    options = { dataSource: options };\n                }\n                options = options || {};\n                DataBoundWidget.fn.init.call(this, element, options);\n                if (events) {\n                    this._events = events;\n                }\n                this._wrapper();\n                this._view();\n                this._dataSource();\n                this._contextMenu();\n                if (this.options.autoBind) {\n                    this.dataSource.fetch();\n                }\n                kendo.notify(this);\n            },\n            options: {\n                name: 'OrgChart',\n                autoBind: true,\n                cardsColors: null,\n                dataSource: {},\n                editable: {\n                    create: true,\n                    destroy: true,\n                    fields: true,\n                    form: {\n                        buttonsTemplate: '',\n                        orientation: 'vertical'\n                    },\n                    parent: true\n                },\n                groupField: null,\n                groupHeaderTemplate: GROUP_HEADER_TEMPLATE,\n                template: null,\n                messages: {\n                    label: 'Org Chart',\n                    edit: 'Edit',\n                    create: 'Create',\n                    destroy: 'Delete',\n                    destroyContent: 'Are you sure you want to delete this item and all its children?',\n                    destroyTitle: 'Delete item',\n                    cancel: 'Cancel',\n                    save: 'Save',\n                    menuLabel: 'Edit menu',\n                    uploadAvatar: 'Upload new avatar',\n                    parent: 'Parent',\n                    name: 'Name',\n                    title: 'Title',\n                    none: '--None--',\n                    expand: 'expand',\n                    collapse: 'collapse'\n                }\n            },\n            events: [\n                CANCEL,\n                CHANGE,\n                COLLAPSE,\n                CREATE,\n                DATABINDING,\n                DATABOUND,\n                DELETE,\n                EDIT,\n                EXPAND,\n                KENDOKEYDOWN,\n                SAVE,\n                SELECT\n            ],\n            destroy: function () {\n                if (this._menu) {\n                    this._menu.destroy();\n                }\n                if (this._editWindow) {\n                    this._editWindow.destroy();\n                }\n                if (this._confirmDestroy) {\n                    this._confirmDestroy.destroy();\n                }\n                this.view.destroy();\n                DataBoundWidget.fn.destroy.call(this);\n                this.wrapper.off(NS);\n            },\n            setDataSource: function (dataSource) {\n                this.options.dataSource = dataSource;\n                this._dataSource();\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            setOptions: function (options) {\n                var that = this;\n                DataBoundWidget.fn.setOptions.call(that, options);\n            },\n            append: function (item, parent) {\n                var that = this, $parent = that.view.jqueryItemElement(parent), parentItem = that.dataItem($parent);\n                if (!$parent || !parentItem) {\n                    return;\n                }\n                if (!parentItem.loaded()) {\n                    that.dataSource.read({ id: parentItem.id }).then(function () {\n                        that.dataSource.add(extend({}, item, { parentId: parentItem.id }));\n                        that.dataSource.sync();\n                    });\n                } else {\n                    that.dataSource.add(extend({}, item, { parentId: parentItem.id }));\n                    that.dataSource.sync();\n                }\n            },\n            cancelChanges: function () {\n                if (this.dataSource.hasChanges()) {\n                    this.dataSource.cancelChanges();\n                }\n            },\n            collapse: function (item) {\n                return this.view.collapse(item);\n            },\n            dataItem: function (item) {\n                var $item = this.view.jqueryItemElement(item);\n                if (!$item || !$item.data(UID)) {\n                    return;\n                }\n                return this.dataSource.getByUid($item.data(UID));\n            },\n            delete: function (item) {\n                var $item = this.view.jqueryItemElement(item);\n                if (!$item) {\n                    return;\n                }\n                this.dataSource.remove(this.dataItem($item));\n                this.dataSource.sync();\n            },\n            edit: function (item) {\n                var $item = this.view.jqueryItemElement(item), dataItem = this.dataItem($item);\n                if (!$item || !dataItem) {\n                    return;\n                }\n                this._edit(dataItem);\n            },\n            expand: function (item) {\n                return this.view.expand(item);\n            },\n            getCollapsedNodes: function () {\n                return this.wrapper.find('[aria-expanded=\\'false\\']');\n            },\n            items: function () {\n                return this.wrapper.find(DOT + ORGCHART_STYLES.card);\n            },\n            parent: function (item) {\n                var $item = this.view.jqueryItemElement(item), id;\n                if (!$item) {\n                    return;\n                }\n                id = $item.closest(DOT + ORGCHART_STYLES.group).attr(ID);\n                return this.wrapper.find('[aria-owns=\\'' + id + '\\']');\n            },\n            saveChanges: function () {\n                this.dataSource.sync();\n            },\n            select: function (item) {\n                var $item = this.view._getToSelect(item);\n                if (!$item) {\n                    return;\n                } else {\n                    return this.view.select($item);\n                }\n            },\n            _avatarPreview: function (item, fileName) {\n                var form = this._form, avatar = item.avatar, avatarRemove = function () {\n                        formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview).remove();\n                        item.set('avatar', null);\n                    }, formWrapper, data;\n                if (!form) {\n                    return;\n                }\n                if (!fileName) {\n                    fileName = avatar.split('\\\\').pop().split('/').pop();\n                    if (!fileName || fileName.indexOf('.') == -1) {\n                        fileName = item.name;\n                    }\n                }\n                data = {\n                    name: item.name,\n                    avatar: avatar,\n                    fileName: fileName,\n                    destroy: this.options.messages.destroy\n                };\n                formWrapper = form.wrapper;\n                formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview).remove();\n                formWrapper.find('[type=\"file\"]').closest(DOT + 'k-form-field').prepend(kendo.template(AVATAR_PREVIEW_TEMPLATE)(data));\n                formWrapper.find(DOT + ORGCHART_STYLES.avatarPreview + SPACE + DOT + 'k-button').on(CLICK, avatarRemove);\n            },\n            _contextMenu: function () {\n                var options = this.options, editable = options.editable, messages = options.messages, menuOptions = {\n                        target: this.wrapper,\n                        filter: DOT + ORGCHART_STYLES.cardMenu,\n                        select: this._onMenuItemClick.bind(this),\n                        activate: this._onMenuOpen.bind(this),\n                        deactivate: this._onMenuClose.bind(this),\n                        showOn: 'click',\n                        animation: false\n                    }, menuElement;\n                if (editable === true || editable !== false && (editable.create || editable.destroy || editable.fields || editable.parent)) {\n                    menuElement = '<ul>';\n                    if (editable === true) {\n                        menuElement += MENU_ITEMS.edit;\n                        menuElement += MENU_ITEMS.create;\n                        menuElement += MENU_ITEMS.destroy;\n                    } else {\n                        if (editable.fields || editable.parent) {\n                            menuElement += MENU_ITEMS.edit;\n                        }\n                        if (editable.create) {\n                            menuElement += MENU_ITEMS.create;\n                        }\n                        if (editable.destroy) {\n                            menuElement += MENU_ITEMS.destroy;\n                        }\n                    }\n                    menuElement = kendo.template(menuElement)(messages);\n                    this._menu = new ContextMenu(menuElement, menuOptions);\n                }\n            },\n            _dataSource: function () {\n                var ds = this.dataSource, dsOptions = this.options.dataSource;\n                if (ds) {\n                    ds.unbind(CHANGE, this._dataSourceChangeHandler);\n                    ds.unbind(ERROR, this._errorHandler);\n                    ds.unbind(PROGRESS, this._progressHandler);\n                    ds.unbind(REQUEST_START, this._requestStartHandler);\n                }\n                this._dataSourceChangeHandler = proxy(this._onDataSourceChange, this);\n                this._errorHandler = proxy(this._onDataSourceError, this);\n                this._progressHandler = proxy(this._progress, this);\n                this._requestStartHandler = proxy(this._onDataSourceRequestStart, this);\n                ds = this.dataSource = OrgChartDataSource.create(dsOptions);\n                ds.bind(CHANGE, this._dataSourceChangeHandler);\n                ds.bind(ERROR, this._errorHandler);\n                ds.bind(PROGRESS, this._progressHandler);\n                ds.bind(REQUEST_START, this._requestStartHandler);\n                this.view.dataSource = ds;\n            },\n            _destroyItem: function (item) {\n                var that = this, el = $('<div></div>'), messages = that.options.messages, restoreFocus = function () {\n                        that.wrapper.find(DOT + ORGCHART_STYLES.card + '[tabindex=0]' + COMMA + DOT + ORGCHART_STYLES.nodesGroup + '[tabindex=0]').addClass(ORGCHART_STYLES.focused).trigger('focus');\n                    }, confirm = this._confirmDestroy = new kendo.ui.Confirm(el, {\n                        title: messages.destroyTitle,\n                        content: messages.destroyContent,\n                        messages: {\n                            okText: messages.destroy,\n                            cancel: messages.cancel\n                        },\n                        show: function () {\n                            setTimeout(function () {\n                                confirm.element.trigger('focus');\n                            });\n                        }\n                    });\n                confirm.open();\n                confirm.result.done(function () {\n                    if (!that.trigger(DELETE, { dataItem: item })) {\n                        that.dataSource.remove(item);\n                        that.dataSource.sync();\n                    }\n                    that.view._shouldRestoreSelection = true;\n                    that.view._restoreSelection();\n                });\n                confirm.result.fail(restoreFocus);\n            },\n            _edit: function (dataItem) {\n                var that = this, formElement = $('<div>'), windowElement = $('<div>'), messages = this.options.messages, formOptions = this._formOptions(dataItem), save;\n                if (!formOptions) {\n                    return;\n                }\n                that._form = new kendo.ui.Form(formElement, formOptions);\n                if (!!dataItem.avatar) {\n                    that._avatarPreview(dataItem);\n                }\n                windowElement.append(formElement);\n                that._editWindow = new kendo.ui.Window(windowElement, {\n                    title: messages.edit,\n                    width: '380 px',\n                    modal: true,\n                    close: function (e) {\n                        if (!save) {\n                            if (!that.trigger(CANCEL, { dataItem: dataItem })) {\n                                that.cancelChanges();\n                            } else {\n                                e.preventDefault();\n                            }\n                        } else {\n                            save = false;\n                        }\n                    },\n                    deactivate: function () {\n                        windowElement.off(CLICK);\n                        that._editWindow.destroy();\n                        that._editWindow = null;\n                        that.view._restoreSelection();\n                    }\n                });\n                windowElement.append(kendo.template(EDITOR_BUTTONS_TEMPLATE)({\n                    save: messages.save,\n                    cancel: messages.cancel\n                }));\n                that._editWindow.center().open();\n                windowElement.on(CLICK, DOT + ORGCHART_STYLES.update, function () {\n                    if (that._form.validate()) {\n                        save = true;\n                        if (!that.trigger(SAVE, { dataItem: dataItem })) {\n                            that._editWindow.close();\n                            that.saveChanges();\n                        }\n                    }\n                });\n                windowElement.on(CLICK, DOT + ORGCHART_STYLES.cancel, function () {\n                    that._editWindow.close();\n                });\n            },\n            _formOptions: function (item) {\n                var options = this.options, messages = options.messages, optionsForm = options.editable.form, items = [], parentsDs, optionsItems;\n                if (optionsForm) {\n                    optionsItems = optionsForm.items;\n                }\n                if ((!optionsItems || optionsItems.length === 0) && (options.editable === true || options.editable && options.editable.parent)) {\n                    parentsDs = [{\n                            id: null,\n                            name: messages.none\n                        }].concat(this.dataSource.prospectParents(item));\n                    items.push({\n                        field: 'parentId',\n                        editor: 'DropDownList',\n                        label: messages.parent,\n                        editorOptions: {\n                            dataSource: parentsDs,\n                            dataValueField: 'id',\n                            dataTextField: 'name',\n                            valuePrimitive: true\n                        }\n                    });\n                }\n                if ((!optionsItems || optionsItems.length === 0) && (options.editable === true || options.editable && options.editable.fields)) {\n                    items = items.concat([\n                        {\n                            field: 'name',\n                            label: messages.name,\n                            validation: { required: true }\n                        },\n                        {\n                            field: 'title',\n                            label: messages.title\n                        },\n                        {\n                            field: 'avatar',\n                            label: messages.uploadAvatar,\n                            editor: proxy(this._uploadEditor, this, item)\n                        }\n                    ]);\n                }\n                if (optionsForm) {\n                    delete optionsForm.formData;\n                }\n                if (items.length > 0 || optionsItems && optionsItems.length > 0) {\n                    return extend(true, {}, {\n                        formData: item,\n                        items: items\n                    }, optionsForm);\n                } else {\n                    return false;\n                }\n            },\n            _onDataSourceChange: function (e) {\n                if (e.action === 'add' || e.action === 'itemchange' && this._editWindow) {\n                    return;\n                }\n                if (!e.action || e.action === 'sync') {\n                    if (this.trigger(DATABINDING, e)) {\n                        this._progress(false);\n                        return;\n                    }\n                }\n                this._progress(true);\n                this.view.refresh();\n                if (!e.action || e.action === 'sync') {\n                    this.trigger(DATABOUND);\n                }\n                this._progress(false);\n            },\n            _onDataSourceError: function () {\n                this._progress(false);\n            },\n            _onDataSourceRequestStart: function () {\n                this.view._cacheFocused();\n            },\n            _onMenuClose: function () {\n                if ($(document.activeElement).closest('[role=\\'alertdialog\\']').length === 0) {\n                    this.wrapper.find('[tabindex=\\'0\\']').addClass(ORGCHART_STYLES.focused).trigger('focus');\n                }\n            },\n            _onMenuItemClick: function (e) {\n                var that = this, targetItem = $(e.target).closest(DOT + ORGCHART_STYLES.node).find(DOT + ORGCHART_STYLES.card), dataItem = that.dataItem(targetItem), action = $(e.item).data(ACTION), newItem;\n                if (!dataItem) {\n                    return;\n                }\n                if (action === EDIT) {\n                    if (!that.trigger(EDIT, { dataItem: dataItem })) {\n                        that._edit(dataItem);\n                    }\n                } else if (action === CREATE) {\n                    if (!that.trigger(CREATE, { dataItem: dataItem })) {\n                        if (!dataItem.loaded()) {\n                            that.dataSource.read({ id: dataItem.id }).then(function () {\n                                newItem = that.dataSource.add({ parentId: dataItem.id });\n                                that._edit(newItem);\n                            });\n                        } else {\n                            newItem = that.dataSource.add({ parentId: dataItem.id });\n                            that._edit(newItem);\n                        }\n                    }\n                } else if (action === DESTROY) {\n                    that._destroyItem(dataItem);\n                }\n            },\n            _onMenuOpen: function () {\n                this.view._cacheFocused();\n                this.wrapper.find(DOT + ORGCHART_STYLES.focused).removeClass(ORGCHART_STYLES.focused);\n                this._menu.element.find(DOT + ORGCHART_STYLES.menuItem).first().trigger(FOCUS);\n            },\n            _openMenu: function (focused) {\n                if (this._menu) {\n                    this._menu.open(focused.find(DOT + ORGCHART_STYLES.cardMenu));\n                }\n            },\n            _progress: function (toggle) {\n                kendo.ui.progress(this.container, toggle);\n            },\n            _triggerCollapse: function (e) {\n                if (this.trigger(COLLAPSE, {\n                        item: e.item,\n                        dataItems: e.dataItems\n                    })) {\n                    e.preventDefault();\n                }\n            },\n            _triggerExpand: function (e) {\n                if (this.trigger(EXPAND, {\n                        item: e.item,\n                        dataItems: e.dataItems\n                    })) {\n                    e.preventDefault();\n                }\n            },\n            _triggerSelect: function (e) {\n                if (!this.trigger(SELECT, {\n                        item: e.item,\n                        dataItems: e.dataItems\n                    })) {\n                    this.view.select(e.item);\n                    this.trigger(CHANGE, {\n                        item: e.item,\n                        dataItems: e.dataItems\n                    });\n                }\n            },\n            _uploadEditor: function (item, container) {\n                var that = this;\n                $('<input type=\"file\">').appendTo(container).kendoUpload({\n                    async: false,\n                    multiple: false,\n                    select: function (e) {\n                        var fileInfo = e.files[0];\n                        var raw = fileInfo.rawFile;\n                        var reader = new FileReader();\n                        if (fileInfo.validationErrors && fileInfo.validationErrors.length > 0) {\n                            return;\n                        }\n                        if (raw) {\n                            reader.onloadend = function () {\n                                item.set('avatar', this.result);\n                                that._avatarPreview(item, raw.name);\n                            };\n                            reader.readAsDataURL(raw);\n                        }\n                    },\n                    validation: {\n                        allowedExtensions: [\n                            '.gif',\n                            '.jpg',\n                            '.png'\n                        ],\n                        maxFileSize: 1048576\n                    }\n                });\n            },\n            _view: function () {\n                if (this.options.groupField !== null && this.options.groupField !== undefined) {\n                    this.view = new kendo.orgChart.GroupedView(this.container, this.options);\n                } else {\n                    this.view = new kendo.orgChart.SingleView(this.container, this.options);\n                }\n                this.view.bind(SELECT, proxy(this._triggerSelect, this));\n                this.view.bind(EXPAND, proxy(this._triggerExpand, this));\n                this.view.bind(COLLAPSE, proxy(this._triggerCollapse, this));\n                this.view.bind(MENU, proxy(this._openMenu, this));\n            },\n            _wrapper: function () {\n                var container = $('<div class=\\'k-orgchart-container\\'>');\n                this.wrapper = this.element;\n                this.container = container;\n                this.wrapper.addClass(ORGCHART_STYLES.wrapper);\n                this.wrapper.append(container);\n            }\n        });\n        kendo.ui.plugin(OrgChart);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}