{"version":3,"sources":["kendo.multiviewcalendar.js"],"names":["f","define","$","undefined","mousetoggle","e","disabled","this","hasClass","toggleClass","HOVER","MOUSEENTER","indexOf","type","FOCUS","addDaysToArray","array","numberOfDays","fromDate","disableDates","i","nextDay","Date","getTime","setDate","getDate","push","daysBetweenTwoDates","startDate","endDate","temp","fromDateUTC","endDateUTC","calendar","views","UTC","getFullYear","getMonth","Math","ceil","kendo","date","MS_PER_DAY","shiftDate","value","dimension","numberOfViews","current","DATE","setFullYear","abs","setMonth","last","window","support","isInRange","toDateObject","createDate","isEqualDate","getToday","keys","ui","Widget","Selectable","template","mobileOS","ns","CLICK","KEYDOWN","ID","MIN","MONTH","DOT","CENTURY","DECADE","CHANGE","NAVIGATE","VALUE","FOCUSED","SELECTED","MID","SPLITEND","SPLITSTART","START","END","DISABLED","TODAY","OTHERMONTH","OUTOFRANGE","CELLSELECTOR","CELLSELECTORVALID","BLUR","touch","MOUSELEAVE_NS","PREVARROW","NEXTARROW","ARIA_SELECTED","INPUTSELECTOR","ARIA_DISABLED","ARIA_LABEL","proxy","month","year","decade","century","RangeSelectable","extend","init","element","options","that","fn","call","userEvents","UserEvents","global","allowSelection","filter","tap","_tap","touchAction","events","name","inputSelectors","multiple","dragToSelect","relatedTarget","noop","destroy","_lastActive","_start","_end","_allowSelection","target","is","cancel","start","addClass","end","mid","elements","tables","find","each","lastCell","firstCell","first","clear","clearVariables","removeClass","selectFrom","items","startIdx","inArray","index","selectTo","endIdx","range","length","_useEnd","change","trigger","_clearFlags","_useStart","selectRange","currentDate","_toggling","MultiViewCalendar","id","culture","wrapper","getCulture","format","_extractFormat","calendars","standard","patterns","d","_templates","_header","_wrapper","weekNumber","on","_move","_blur","link","currentTarget","firstChild","href","preventDefault","_click","_mouseEnter","attr","_cellID","_calendarWidth","width","_range","_initViews","viewName","_selectable","_footer","footer","_selectDates","selectable","selectDates","_restoreSelection","notify","min","max","dates","showViewHeader","depth","messages","weekColumnHeader","setOptions","normalize","_views","off","remove","_cell","_currentView","_current","header","_title","rangeSelectable","_today","focus","table","closest","_dateInViews","_cellByDate","_option","view","navigateToPast","_navigate","navigateToFuture","navigateUp","_index","navigate","navigateDown","_value","isNaN","viewsEnum","restrictValue","_updateHeader","lastDate","prevDisabled","nextDisabled","title","_firstViewValue","visibleRange","_visibleRange","html","compare","_navContainer","appendTo","cell","preventFocus","prevent","method","lastActive","cellIndex","key","keyCode","focusedCell","currentValue","isRtl","RIGHT","LEFT","UP","DOWN","SPACEBAR","HOME","eq","prev","_focusCell","next","ctrlKey","metaKey","ENTER","_toggleSelection","shiftKey","_nextNavigatable","_selectRange","PAGEUP","PAGEDOWN","_visualizeSelectedDatesInView","cells","selectedDates","toDateString","_selectElement","isDisabled","navigatableDate","event","_unselect","option","isBigger","parseDate","_toggle","toLowerCase","_rangeSelection","aria","parseOptions","_selection","_onRelatedTarget","unselect","_unselecting","_getFirstViewDate","currentView","ranges","_canRenderNextView","viewDate","fullYear","maxYear","maxMonth","viewOptions","_table","content","url","showHeader","isWeekColumnVisible","otherMonth","contentClasses","tablesWrapper","sender","useEnd","useStart","initialRange","_preventChange","selectElements","domEvent","isCell","_validateValue","_deselect","_addSelectedCellsToArray","item","currentDateIndex","map","Number","splice","firstDateInView","lastDateInView","_fillRange","daysDifference","buttons","prependTo","insertAfter","empty","useWithBlock","today","show","toString","hide","arrow","modifier","offset","originaValue","toggle","isTodayDisabled","_todayClick","adjustDST","_focus","contains","focusTable","cellId","removeAttribute","_updateAria","ariaTemplate","text","valueType","clearSelection","validSelectedDates","datesUnique","position","time","grep","setHours","startInRange","endInRange","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.multiviewcalendar.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.multiviewcalendar', [\n        'kendo.core',\n        'kendo.selectable',\n        'kendo.calendar'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'multiviewcalendar',\n        name: 'MultiViewCalendar',\n        category: 'web',\n        description: 'Multi-view calendar.',\n        depends: [\n            'core',\n            'selectable',\n            'calendar'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, calendar = kendo.calendar, support = kendo.support, isInRange = calendar.isInRange, toDateObject = calendar.toDateObject, createDate = calendar.createDate, isEqualDate = calendar.isEqualDate, getToday = calendar.getToday, keys = kendo.keys, ui = kendo.ui, Widget = ui.Widget, Selectable = ui.Selectable, template = kendo.template, mobileOS = support.mobileOS, ns = '.kendoMultiViewCalendar', CLICK = 'click', KEYDOWN = 'keydown', ID = 'id', MIN = 'min', MONTH = 'month', DOT = '.', CENTURY = 'century', DECADE = 'decade', CHANGE = 'change', NAVIGATE = 'navigate', VALUE = 'value', FOCUSED = 'k-state-focused', SELECTED = 'k-state-selected', MID = 'k-range-mid', SPLITEND = 'k-range-split-end', SPLITSTART = 'k-range-split-start', START = 'k-range-start', END = 'k-range-end', HOVER = 'k-state-hover', DISABLED = 'k-state-disabled', TODAY = 'k-nav-today', OTHERMONTH = 'k-other-month', OUTOFRANGE = 'k-out-of-range', CELLSELECTOR = 'td:has(.k-link):not(.' + OUTOFRANGE + ')', CELLSELECTORVALID = 'td:has(.k-link):not(.' + DISABLED + '):not(.' + OUTOFRANGE + ')', BLUR = 'blur', FOCUS = 'focus', MOUSEENTER = support.touch ? 'touchstart' : 'mouseenter', MOUSELEAVE_NS = support.touch ? 'touchend' + ns + ' touchmove' + ns : 'mouseleave' + ns, PREVARROW = '_prevArrow', NEXTARROW = '_nextArrow', ARIA_SELECTED = 'aria-selected', INPUTSELECTOR = 'input,a,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up', ARIA_DISABLED = 'aria-disabled', ARIA_LABEL = 'aria-label', proxy = $.proxy, DATE = Date, views = {\n                month: 0,\n                year: 1,\n                decade: 2,\n                century: 3\n            };\n        var RangeSelectable = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that.calendar = options.calendar;\n                that.userEvents = new kendo.UserEvents(that.element, {\n                    global: true,\n                    allowSelection: true,\n                    filter: that.options.filter,\n                    tap: proxy(that._tap, that),\n                    touchAction: 'none'\n                });\n            },\n            events: [CHANGE],\n            options: {\n                name: 'RangeSelectable',\n                filter: '>*',\n                inputSelectors: INPUTSELECTOR,\n                multiple: false,\n                dragToSelect: true,\n                relatedTarget: $.noop\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.userEvents.destroy();\n                that.calendar = null;\n                that._lastActive = that.element = that.userEvents = that._start = that._end = null;\n            },\n            _allowSelection: function (target) {\n                if ($(target).is(this.options.inputSelectors)) {\n                    this.userEvents.cancel();\n                    return false;\n                }\n                return true;\n            },\n            start: function (element) {\n                if (element === undefined) {\n                    return this._start;\n                }\n                element.addClass(START + ' ' + SELECTED);\n                this._start = element;\n            },\n            end: function (element) {\n                if (element === undefined) {\n                    return this._start;\n                }\n                element.addClass(END + ' ' + SELECTED);\n                this._end = element;\n            },\n            mid: function (elements) {\n                var tables = this.element.find('table.k-month');\n                elements.addClass(MID);\n                tables.each(function () {\n                    var that = $(this);\n                    var lastCell = that.find(CELLSELECTORVALID).last();\n                    var firstCell = that.find(CELLSELECTORVALID).first();\n                    if (lastCell.hasClass(MID)) {\n                        lastCell.addClass(SPLITEND);\n                    }\n                    if (firstCell.hasClass(MID)) {\n                        firstCell.addClass(SPLITSTART);\n                    }\n                });\n            },\n            clear: function (clearVariables) {\n                this.element.find(CELLSELECTOR).removeClass(END + ' ' + SELECTED + ' ' + START + ' ' + MID + ' ' + SPLITEND + ' ' + SPLITSTART);\n                if (clearVariables) {\n                    this._start = this._end = null;\n                }\n            },\n            selectFrom: function (start) {\n                var that = this;\n                var items;\n                var startIdx;\n                items = that.element.find(CELLSELECTOR);\n                startIdx = $.inArray($(start)[0], items);\n                that.clear();\n                that.start(start);\n                items = items.filter(function (index) {\n                    return index > startIdx;\n                });\n                that.mid(items);\n            },\n            selectTo: function (end) {\n                var that = this;\n                var items;\n                var endIdx;\n                items = that.element.find(CELLSELECTOR);\n                endIdx = $.inArray($(end)[0], items);\n                that.clear();\n                items = items.filter(function (index) {\n                    return index < endIdx;\n                });\n                that.mid(items);\n                that.end($(end));\n            },\n            range: function (start, end) {\n                var that = this;\n                var items;\n                var startIdx;\n                var endIdx;\n                var temp;\n                if (start === undefined) {\n                    return {\n                        start: that._start,\n                        end: that._end\n                    };\n                }\n                items = that.element.find(CELLSELECTOR);\n                startIdx = $.inArray($(start)[0], items);\n                endIdx = $.inArray($(end)[0], items);\n                if (endIdx == -1) {\n                    endIdx = items.length;\n                }\n                if (startIdx > endIdx) {\n                    temp = end;\n                    end = start;\n                    start = temp;\n                    temp = startIdx;\n                    startIdx = endIdx;\n                    endIdx = temp;\n                }\n                that.clear();\n                start.addClass(START + ' ' + SELECTED);\n                that._start = start;\n                items = items.filter(function (index) {\n                    return index > startIdx && index < endIdx;\n                });\n                that.mid(items);\n                if (end) {\n                    that.end($(end));\n                } else {\n                    that._useEnd = true;\n                }\n            },\n            change: function () {\n                this.trigger(CHANGE);\n            },\n            _clearFlags: function () {\n                this._useStart = this._useEnd = false;\n            },\n            _tap: function (e) {\n                var target = $(e.target), range = this.calendar.selectRange() || {}, start = range.start, end = range.end, that = this, currentDate = toDateObject($(target).find('a')), items, startIdx, endIdx;\n                that._lastActive = target;\n                if (!start || +start > +currentDate) {\n                    that.clear(true);\n                    that.start(target);\n                    that._clearFlags();\n                    that.trigger(CHANGE);\n                    return;\n                }\n                if (start && !end) {\n                    items = that.element.find(CELLSELECTOR);\n                    startIdx = $.inArray($(that._start)[0], items);\n                    endIdx = $.inArray($(target)[0], items);\n                    if (start) {\n                        that._useStart = true;\n                    }\n                    items = items.filter(function (index) {\n                        return index > startIdx && index < endIdx;\n                    });\n                    that.mid(items);\n                    that.end($(target));\n                    that.trigger(CHANGE);\n                    that._clearFlags();\n                    return;\n                }\n                if (start && end) {\n                    if (target.hasClass(MID)) {\n                        if (!that._toggling) {\n                            that.range(target, that._end);\n                        } else {\n                            that.range(that._start, target);\n                        }\n                        that._toggling = !that._toggling;\n                        that.trigger(CHANGE);\n                        that._clearFlags();\n                        return;\n                    }\n                    that._toggling = false;\n                    that._end = null;\n                    that.clear();\n                    that.start(target);\n                    that.trigger(CHANGE);\n                    that._clearFlags();\n                }\n            }\n        });\n        var MultiViewCalendar = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                var id;\n                var culture;\n                Widget.fn.init.call(that, element, options);\n                element = that.wrapper = that.element;\n                options = that.options;\n                that.options.disableDates = calendar.disabled(that.options.disableDates);\n                culture = kendo.getCulture(options.culture);\n                options.format = kendo._extractFormat(options.format || culture.calendars.standard.patterns.d);\n                that._templates();\n                that._header();\n                that._wrapper();\n                id = element.addClass('k-widget k-calendar k-calendar-range' + (options.weekNumber ? ' k-week-number' : '')).on(KEYDOWN + ns, 'table.k-content', proxy(that._move, that)).on(BLUR + ns, 'table', proxy(that._blur, that)).on(CLICK + ns, CELLSELECTORVALID, function (e) {\n                    var link = e.currentTarget.firstChild;\n                    if (link.href.indexOf('#') != -1) {\n                        e.preventDefault();\n                    }\n                    that._click($(link));\n                }).on(MOUSEENTER + ns, CELLSELECTORVALID, proxy(that._mouseEnter, that)).on(MOUSELEAVE_NS, CELLSELECTORVALID, function () {\n                    $(this).removeClass(HOVER);\n                }).attr(ID);\n                if (id) {\n                    that._cellID = id + '_cell_selected';\n                }\n                that._calendarWidth = that.element.width();\n                that._range = options.range;\n                that._initViews({\n                    viewName: options.start,\n                    value: options.value\n                });\n                that._selectable();\n                that._footer(that.footer);\n                that._selectDates = [];\n                that.value(options.value);\n                if (options.selectable == 'multiple') {\n                    that._selectDates = options.selectDates.length ? options.selectDates : that._selectDates;\n                    that._restoreSelection();\n                }\n                if (options.selectable == 'range') {\n                    that.selectRange(that._range);\n                }\n                kendo.notify(that);\n            },\n            options: {\n                name: 'MultiViewCalendar',\n                value: null,\n                min: new DATE(1900, 0, 1),\n                max: new DATE(2099, 11, 31),\n                dates: [],\n                disableDates: null,\n                culture: '',\n                footer: '',\n                format: '',\n                month: {},\n                range: {\n                    start: null,\n                    end: null\n                },\n                weekNumber: false,\n                views: 2,\n                showViewHeader: false,\n                selectable: 'single',\n                selectDates: [],\n                start: MONTH,\n                depth: MONTH,\n                messages: { weekColumnHeader: '' }\n            },\n            events: [\n                CHANGE,\n                NAVIGATE\n            ],\n            setOptions: function (options) {\n                var that = this;\n                calendar.normalize(options);\n                options.disableDates = calendar.disabled(options.disableDates);\n                Widget.fn.setOptions.call(that, options);\n                that._selectable();\n                that._templates();\n                that._footer(that.footer);\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n                that._initViews({\n                    viewName: options.start,\n                    value: options.value\n                });\n                that._range = options.range || {\n                    start: null,\n                    end: null\n                };\n                that._restoreSelection();\n            },\n            destroy: function () {\n                var that = this;\n                that._cell = null;\n                that._currentView = null;\n                that._current = null;\n                if (that._views) {\n                    for (var i = 0; i < that._views.length; i++) {\n                        that._views[i].off(ns).remove();\n                    }\n                }\n                that.element.off(ns);\n                if (that.header) {\n                    that.header.off(ns);\n                    that._title = null;\n                    that.header = null;\n                }\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n                if (that._today) {\n                    kendo.destroy(that._today.off(ns));\n                }\n                that._views = null;\n                Widget.fn.destroy.call(that);\n            },\n            current: function () {\n                return this._current;\n            },\n            focus: function () {\n                var table;\n                if (this._cell) {\n                    this._cell.closest('table').trigger('focus');\n                } else if (this._current && this._dateInViews(this._current)) {\n                    this._cell = this._cellByDate(this._current);\n                    this._cell.closest('table').trigger('focus');\n                } else {\n                    table = this.element.find('table').first().trigger('focus');\n                    this._cell = table.find(CELLSELECTORVALID).first();\n                    this._current = toDateObject(this._cell.find('a'));\n                }\n                this._cell.addClass(FOCUSED);\n            },\n            min: function (value) {\n                return this._option(MIN, value);\n            },\n            max: function (value) {\n                return this._option('max', value);\n            },\n            view: function () {\n                return this._currentView;\n            },\n            navigateToPast: function () {\n                this._navigate(PREVARROW, -1);\n            },\n            navigateToFuture: function () {\n                this._navigate(NEXTARROW, 1);\n            },\n            navigateUp: function () {\n                var that = this, index = that._index;\n                if (that._title.hasClass(DISABLED)) {\n                    return;\n                }\n                that.navigate(that._current, ++index);\n            },\n            navigateDown: function (value) {\n                var that = this, index = that._index, depth = that.options.depth;\n                if (!value) {\n                    return;\n                }\n                if (index === views[depth]) {\n                    if (!isEqualDate(that._value, that._current) || !isEqualDate(that._value, value)) {\n                        that.value(value);\n                        that.trigger(CHANGE);\n                    }\n                    return;\n                }\n                that.navigate(value, --index);\n            },\n            navigate: function (value, view) {\n                view = isNaN(view) ? calendar.views[calendar.viewsEnum[view]] : calendar.views[view];\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n                if (!value) {\n                    that._current = value = new DATE(+calendar.restrictValue(value, min, max));\n                } else {\n                    that._current = value;\n                }\n                if (view === undefined) {\n                    view = that._currentView;\n                }\n                that._currentView = view;\n                for (var i = 0; i < that._views.length; i++) {\n                    that._views[i].off(ns).remove();\n                }\n                that._initViews({\n                    viewName: view.name,\n                    value: value\n                });\n                that._restoreSelection();\n            },\n            _updateHeader: function () {\n                var that = this;\n                var view = that._currentView;\n                var title = that._title;\n                var value = that._firstViewValue;\n                var options = that.options;\n                var visibleRange = that._visibleRange();\n                var culture = options.culture;\n                var min = options.min;\n                var max = options.max;\n                var lastDate;\n                var disabled;\n                var prevDisabled;\n                var nextDisabled;\n                if (view.name === DECADE || view.name === CENTURY) {\n                    lastDate = shiftDate(value, view.name, options.views - 1);\n                    if (!isInRange(lastDate, min, max)) {\n                        lastDate = max;\n                    }\n                    title.html(view.first(value).getFullYear() + ' - ' + view.last(lastDate).getFullYear());\n                } else {\n                    title.html(view.title(value, min, max, culture) + ' - ' + view.title(shiftDate(value, view.name, options.views - 1), min, max, culture));\n                }\n                disabled = view.name === CENTURY;\n                title.toggleClass(DISABLED, disabled).attr(ARIA_DISABLED, disabled);\n                prevDisabled = view.compare(visibleRange.start, that.options.min) < 1;\n                nextDisabled = view.compare(visibleRange.end, that.options.max) > -1;\n                if (prevDisabled && nextDisabled) {\n                    if (that._navContainer) {\n                        that._navContainer.remove();\n                        that._navContainer = null;\n                    }\n                } else {\n                    if (!that._navContainer) {\n                        that._navContainer = $('<span class=\"k-calendar-nav k-hstack\">' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-prev-view\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-next-view\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span></a>' + '</span>').appendTo(that.header);\n                        that[PREVARROW] = that._navContainer.find('.k-prev-view');\n                        that[NEXTARROW] = that._navContainer.find('.k-next-view');\n                    }\n                    that[PREVARROW].toggleClass(DISABLED, prevDisabled).attr(ARIA_DISABLED, prevDisabled);\n                    if (that[PREVARROW].hasClass(DISABLED)) {\n                        that[PREVARROW].removeClass(HOVER);\n                    }\n                    that[NEXTARROW].toggleClass(DISABLED, nextDisabled).attr(ARIA_DISABLED, nextDisabled);\n                    if (that[NEXTARROW].hasClass(DISABLED)) {\n                        that[NEXTARROW].removeClass(HOVER);\n                    }\n                }\n            },\n            _mouseEnter: function (e) {\n                var that = this;\n                var cell = $(e.currentTarget);\n                var range;\n                var items;\n                var startIdx;\n                var endIdx;\n                cell.addClass(HOVER);\n                if (that.rangeSelectable && that._currentView.name === 'month') {\n                    range = that.selectRange();\n                    if (range.start && !range.end) {\n                        if (that._dateInViews(that.selectRange().start)) {\n                            items = that.element.find(that.rangeSelectable.options.filter);\n                            startIdx = $.inArray($(that.rangeSelectable._start)[0], items);\n                            endIdx = $.inArray($(cell)[0], items);\n                            if (startIdx > endIdx) {\n                                return;\n                            }\n                            that.rangeSelectable.range(that.rangeSelectable._start, cell);\n                        } else if (+toDateObject(that.element.find(CELLSELECTOR).first().find('a')) > +range.start) {\n                            that.rangeSelectable.selectTo(cell);\n                        }\n                        that.rangeSelectable._end = null;\n                    }\n                }\n            },\n            _move: function (e, preventFocus) {\n                var that = this;\n                var options = that.options;\n                var key = e.keyCode;\n                var index = that._index;\n                var min = options.min;\n                var max = options.max;\n                var focusedCell = that.element.find(DOT + FOCUSED);\n                var table = focusedCell.closest('table');\n                var currentValue = new DATE(+(that._current || toDateObject(focusedCell.find('a'))));\n                var isRtl = kendo.support.isRtl(that.wrapper);\n                var navigate = false;\n                var value, prevent, method, cell, lastActive, cellIndex;\n                if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                    value = 1;\n                    prevent = true;\n                } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                    value = -1;\n                    prevent = true;\n                } else if (key == keys.UP) {\n                    value = index === 0 ? -7 : -4;\n                    prevent = true;\n                } else if (key == keys.DOWN) {\n                    value = index === 0 ? 7 : 4;\n                    prevent = true;\n                } else if (key == keys.SPACEBAR) {\n                    value = 0;\n                    prevent = true;\n                } else if (key == keys.HOME) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).eq(0);\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.prev();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).eq(0));\n                        } else {\n                            navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                            that._navigate(PREVARROW, -1, preventFocus);\n                            that._focusCell(that.element.find('table').first().find(CELLSELECTORVALID).first());\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                } else if (key == keys.END) {\n                    prevent = true;\n                    cell = table.find(CELLSELECTORVALID).last();\n                    if (cell.hasClass(FOCUSED)) {\n                        table = table.next();\n                        if (table.length) {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        } else {\n                            navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                            that._navigate(NEXTARROW, 1, preventFocus);\n                            that._focusCell(that.element.find('table').last().find(CELLSELECTORVALID).last());\n                        }\n                    } else {\n                        that._focusCell(cell);\n                    }\n                }\n                if (e.ctrlKey || e.metaKey) {\n                    if (key == keys.RIGHT && !isRtl || key == keys.LEFT && isRtl) {\n                        navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                        that._navigate(NEXTARROW, 1, preventFocus);\n                        prevent = true;\n                    } else if (key == keys.LEFT && !isRtl || key == keys.RIGHT && isRtl) {\n                        navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                        that._navigate(PREVARROW, -1, preventFocus);\n                        prevent = true;\n                    } else if (key == keys.UP) {\n                        navigate = !that._title.hasClass(DISABLED);\n                        that.navigateUp();\n                        that._focusCell(that._cellByDate(that._current), !preventFocus);\n                        prevent = true;\n                    } else if (key == keys.DOWN) {\n                        if (that._currentView.name === 'month') {\n                            that.value(currentValue);\n                        } else {\n                            that.navigateDown(currentValue);\n                            that._focusCell(that._cellByDate(that._current), !preventFocus);\n                            navigate = true;\n                        }\n                        prevent = true;\n                    } else if (key == keys.ENTER || key == keys.SPACEBAR) {\n                        if (options.selectable === 'multiple') {\n                            that._toggleSelection(e);\n                        }\n                    }\n                } else if (e.shiftKey && options.selectable !== 'single') {\n                    if (value !== undefined || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n                        if (that._currentView.name !== 'month') {\n                            return;\n                        }\n                        if (options.disableDates(currentValue)) {\n                            currentValue = that._nextNavigatable(currentValue, value);\n                        }\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                        if (isInRange(currentValue, min, max)) {\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1, preventFocus);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(PREVARROW, -1, preventFocus);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n                            if (that.selectable) {\n                                that._selectRange(toDateObject((that.selectable._lastActive || focusedCell).find('a')), currentValue);\n                                if (!that.selectable._lastActive) {\n                                    that.selectable._lastActive = focusedCell;\n                                }\n                                that.trigger(CHANGE);\n                                that._focusCell(cell);\n                            }\n                            if (that.rangeSelectable) {\n                                lastActive = toDateObject((that.rangeSelectable._lastActive || focusedCell).find('a'));\n                                if (!that._dateInViews(lastActive)) {\n                                    if (+lastActive > +currentValue) {\n                                        that.rangeSelectable._end = that.rangeSelectable._lastActive;\n                                        that.rangeSelectable.selectFrom(cell);\n                                    } else {\n                                        that.rangeSelectable.selectTo(cell);\n                                    }\n                                } else {\n                                    if (that.rangeSelectable._end && that.rangeSelectable._end.is(DOT + FOCUSED)) {\n                                        that.rangeSelectable._lastActive = that.rangeSelectable._start;\n                                    } else {\n                                        that.rangeSelectable._lastActive = that._cellByDate(lastActive);\n                                    }\n                                    that.rangeSelectable.range(that.rangeSelectable._lastActive, cell);\n                                }\n                                that.rangeSelectable.change();\n                                that._focusCell(cell);\n                            }\n                        }\n                    }\n                } else {\n                    if (key == keys.ENTER || key == keys.SPACEBAR) {\n                        if (that._currentView.name === 'month') {\n                            if (that.selectable) {\n                                that.selectable._lastActive = that._cellByDate(currentValue);\n                            }\n                            that.value(currentValue);\n                            if (that.rangeSelectable) {\n                                that.rangeSelectable.change();\n                            }\n                        } else {\n                            that._click($(that._cell[0].firstChild), preventFocus);\n                        }\n                        prevent = true;\n                    } else if (key == keys.PAGEUP || key == keys.PAGEDOWN) {\n                        prevent = true;\n                        cellIndex = table.find(CELLSELECTORVALID).index(focusedCell);\n                        table = key == keys.PAGEUP ? table.prev() : table.next();\n                        if (!table.length) {\n                            if (key == keys.PAGEUP) {\n                                navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                that.navigateToPast();\n                                table = that.element.find('table').first();\n                            } else {\n                                navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                that.navigateToFuture();\n                                table = that.element.find('table').last();\n                            }\n                        }\n                        cell = table.find(CELLSELECTORVALID).eq(cellIndex);\n                        if (cell.length) {\n                            that._focusCell(cell);\n                        } else {\n                            that._focusCell(table.find(CELLSELECTORVALID).last());\n                        }\n                    }\n                    if (value || method) {\n                        if (!method) {\n                            that._currentView.setDate(currentValue, value);\n                        }\n                        min = createDate(min.getFullYear(), min.getMonth(), min.getDate());\n                        if (isInRange(currentValue, min, max)) {\n                            if (that.selectable && options.disableDates(currentValue)) {\n                                currentValue = that._nextNavigatable(currentValue, value);\n                            }\n                            if (!that._dateInViews(currentValue)) {\n                                if (value > 0) {\n                                    navigate = that[NEXTARROW] && !that[NEXTARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, 1, preventFocus);\n                                } else {\n                                    navigate = that[PREVARROW] && !that[PREVARROW].hasClass(DISABLED);\n                                    that._navigate(NEXTARROW, -1, preventFocus);\n                                }\n                            }\n                            cell = that._cellByDate(currentValue);\n                            that._current = currentValue;\n                            that._focusCell(cell, !preventFocus);\n                        }\n                    }\n                }\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n                if (prevent) {\n                    e.preventDefault();\n                }\n                return that._current;\n            },\n            _visualizeSelectedDatesInView: function () {\n                var that = this;\n                var selectedDates = {};\n                var cells;\n                $.each(that._selectDates, function (index, value) {\n                    selectedDates[kendo.calendar.views[0].toDateString(value)] = value;\n                });\n                that.selectable.clear();\n                cells = that.element.find('table').find(CELLSELECTOR).filter(function (index, element) {\n                    return selectedDates[$(element.firstChild).attr(kendo.attr(VALUE))];\n                });\n                if (cells.length > 0) {\n                    that.selectable._selectElement(cells, true);\n                }\n            },\n            _nextNavigatable: function (currentValue, value) {\n                var that = this;\n                var disabled = true;\n                var view = that._currentView;\n                var min = that.options.min;\n                var max = that.options.max;\n                var isDisabled = that.options.disableDates;\n                var navigatableDate = new Date(currentValue.getTime());\n                view.setDate(navigatableDate, -value);\n                while (disabled) {\n                    view.setDate(currentValue, value);\n                    if (!isInRange(currentValue, min, max)) {\n                        currentValue = navigatableDate;\n                        break;\n                    }\n                    disabled = isDisabled(currentValue);\n                }\n                return currentValue;\n            },\n            _toggleSelection: function (event) {\n                var that = this;\n                that.selectable._lastActive = $(that._cell[0]);\n                if ($(that._cell[0]).hasClass(SELECTED)) {\n                    that.selectable._unselect($(that._cell[0]));\n                    that.selectable.trigger(CHANGE, { event: event });\n                } else {\n                    that.selectable.value($(that._cell[0]), { event: event });\n                }\n            },\n            _option: function (option, value) {\n                var that = this;\n                var options = that.options;\n                var currentValue = that._value || that._current;\n                var isBigger;\n                if (value === undefined) {\n                    return options[option];\n                }\n                value = kendo.parseDate(value, options.format, options.culture);\n                if (!value) {\n                    return;\n                }\n                options[option] = new DATE(+value);\n                if (option === MIN) {\n                    isBigger = value > currentValue;\n                } else {\n                    isBigger = currentValue > value;\n                }\n                if (isBigger) {\n                    that._value = null;\n                }\n                that.navigate(that._value);\n                that._toggle();\n            },\n            _cellByDate: function (value) {\n                if (value instanceof Date) {\n                    value = this._currentView.toDateString(value);\n                }\n                return this.element.find('table').find('td:not(.' + OTHERMONTH + ')').filter(function () {\n                    return $(this.firstChild).attr(kendo.attr(VALUE)) === value;\n                });\n            },\n            _selectable: function () {\n                var that = this;\n                var selectable = that.options.selectable;\n                if (that.selectable) {\n                    that.selectable.destroy();\n                    that.selectable = null;\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.destroy();\n                    that.rangeSelectable = null;\n                }\n                if (selectable.toLowerCase() === 'range') {\n                    that.rangeSelectable = new RangeSelectable(that.wrapper, {\n                        calendar: that,\n                        filter: 'table.k-month ' + CELLSELECTORVALID,\n                        change: proxy(that._rangeSelection, that)\n                    });\n                } else {\n                    that.selectable = new Selectable(that.wrapper, {\n                        aria: true,\n                        dragToSelect: false,\n                        inputSelectors: 'input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up',\n                        multiple: Selectable.parseOptions(selectable).multiple,\n                        filter: 'table.k-content ' + CELLSELECTORVALID,\n                        change: proxy(that._selection, that),\n                        relatedTarget: proxy(that._onRelatedTarget, that),\n                        unselect: proxy(that._unselecting, that)\n                    });\n                }\n            },\n            _onRelatedTarget: function (target) {\n                var that = this;\n                if (that.selectable.options.multiple && target.is(CELLSELECTORVALID) && target.length > 1) {\n                    that._focusCell(target.first(), true);\n                }\n            },\n            _getFirstViewDate: function (currentView) {\n                var that = this;\n                var options = that.options;\n                var ranges = [];\n                var start;\n                var end;\n                var current = new Date(+that._current);\n                var i;\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n                    if (+end > +options.max) {\n                        if (+start <= +options.max) {\n                            ranges.push({\n                                start: start,\n                                end: new Date(+options.max)\n                            });\n                        }\n                        break;\n                    }\n                    ranges.push({\n                        start: start,\n                        end: end\n                    });\n                    current = new Date(+shiftDate(end, currentView.name, 1));\n                }\n                current = new Date(+that._current);\n                for (i = 0; i < options.views; i++) {\n                    start = currentView.first(current);\n                    end = currentView.last(current);\n                    if (+start < +options.min) {\n                        if (+end >= +options.min) {\n                            ranges.push({\n                                start: new Date(+options.min),\n                                end: end\n                            });\n                        }\n                        break;\n                    }\n                    ranges.push({\n                        start: start,\n                        end: end\n                    });\n                    current = new Date(+shiftDate(start, currentView.name, -1));\n                }\n                start = ranges[0].start;\n                for (i = 0; i < options.views + 1; i++) {\n                    if (!ranges[i]) {\n                        break;\n                    }\n                    if (+start > +ranges[i].start) {\n                        start = ranges[i].start;\n                    }\n                }\n                return new Date(+start);\n            },\n            _canRenderNextView: function (viewDate) {\n                var fullYear = viewDate.getFullYear();\n                var month = viewDate.getMonth();\n                var date = viewDate.getDate();\n                var max = this.options.max;\n                var maxYear = max.getFullYear();\n                var maxMonth = max.getMonth();\n                if (fullYear < maxYear) {\n                    return true;\n                }\n                if (fullYear === maxYear && month < maxMonth) {\n                    return true;\n                }\n                if (fullYear === maxYear && month === maxMonth && date < max.getDate()) {\n                    return true;\n                }\n                if (fullYear === maxYear && month === maxMonth && date === max.getDate()) {\n                    return true;\n                }\n                return false;\n            },\n            _initViews: function (viewOptions) {\n                var that = this;\n                var options = that.options;\n                var index = calendar.viewsEnum[viewOptions.viewName];\n                var currentView = calendar.views[index];\n                var viewDate;\n                that._current = new DATE(+calendar.restrictValue(viewOptions.value, options.min, options.max));\n                that._views = [];\n                that._index = index;\n                viewDate = that._getFirstViewDate(currentView);\n                viewDate.setDate(1);\n                that._firstViewValue = new Date(+viewDate);\n                for (var i = 0; i < options.views; i++) {\n                    viewDate = i ? shiftDate(viewDate, currentView.name, 1) : viewDate;\n                    viewDate.setDate(1);\n                    if (!that._canRenderNextView(viewDate)) {\n                        break;\n                    }\n                    that._table = $(currentView.content($.extend({\n                        min: options.min,\n                        max: options.max,\n                        date: viewDate,\n                        url: options.url,\n                        dates: options.dates,\n                        format: options.format,\n                        culture: options.culture,\n                        disableDates: options.disableDates,\n                        showHeader: options.showViewHeader,\n                        isWeekColumnVisible: options.weekNumber,\n                        otherMonth: options.otherMonth,\n                        messages: options.messages,\n                        contentClasses: 'k-content'\n                    }, that[currentView.name])));\n                    that._table.appendTo(that.tablesWrapper).addClass('k-' + currentView.name);\n                    that._views.push(that._table);\n                }\n                that._currentView = currentView;\n                that.tablesWrapper.attr('class', 'k-calendar-view k-calendar-' + currentView.name + 'view k-hstack k-align-items-start k-justify-content-center');\n                that._updateHeader();\n            },\n            _rangeSelection: function (e) {\n                var that = this;\n                var range = e.sender.range();\n                var useEnd = e.sender._useEnd;\n                var useStart = e.sender._useStart;\n                var initialRange = that.selectRange() || {};\n                var start;\n                var end;\n                if (range.start) {\n                    start = toDateObject(range.start.find('a'));\n                }\n                if (range.end) {\n                    end = toDateObject(range.end.find('a'));\n                }\n                that._range = {\n                    start: useStart ? initialRange.start : start,\n                    end: useEnd ? initialRange.end : end\n                };\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n            _selection: function (e) {\n                var that = this;\n                var selectElements = e.sender.value();\n                var domEvent = e.event;\n                var currentTarget = $(domEvent && domEvent.currentTarget);\n                var isCell = currentTarget.is('td');\n                var currentValue;\n                if (that.options.selectable === 'single') {\n                    that._validateValue(selectElements[0] ? toDateObject(selectElements.first().find('a')) : e.sender._lastActive ? toDateObject(e.sender._lastActive.find('a')) : that.value());\n                }\n                if (that.options.selectable == 'multiple') {\n                    if (isCell) {\n                        currentValue = toDateObject(currentTarget.find('a'));\n                    }\n                    if (domEvent && domEvent.ctrlKey) {\n                        if (isCell) {\n                            if (currentTarget.hasClass(SELECTED)) {\n                                that._selectDates.push(currentValue);\n                            } else {\n                                that._deselect(currentValue);\n                            }\n                        } else {\n                            that.element.find('table ' + CELLSELECTORVALID).each(function (index, element) {\n                                var value = toDateObject($(element).find('a'));\n                                that._deselect(value);\n                            });\n                            that._addSelectedCellsToArray();\n                        }\n                    } else if (domEvent && domEvent.shiftKey) {\n                        that._selectRange(toDateObject(e.sender._lastActive ? e.sender._lastActive.find('a') : selectElements.first().find('a')), currentValue);\n                    } else if (isCell) {\n                        that._selectDates = [];\n                        that._selectDates.push(currentValue);\n                    } else {\n                        that._selectDates = [];\n                        that._addSelectedCellsToArray();\n                    }\n                }\n                if (!that._preventChange) {\n                    that.trigger(CHANGE);\n                }\n            },\n            _addSelectedCellsToArray: function () {\n                var that = this;\n                that.selectable.value().each(function (index, item) {\n                    var date = toDateObject($(item.firstChild));\n                    if (!that.options.disableDates(date)) {\n                        that._selectDates.push(date);\n                    }\n                });\n            },\n            _deselect: function (date) {\n                var that = this;\n                var currentDateIndex = that._selectDates.map(Number).indexOf(+date);\n                if (currentDateIndex != -1) {\n                    that._selectDates.splice(currentDateIndex, 1);\n                }\n            },\n            _unselecting: function (e) {\n                var that = this;\n                var element = e.element;\n                if (that.options.selectable === 'single' && !mobileOS && element.hasClass(FOCUSED)) {\n                    e.preventDefault();\n                }\n            },\n            _visibleRange: function () {\n                var tables = this.element.find('.k-calendar-view table');\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find('a'));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find('a'));\n                return {\n                    start: firstDateInView,\n                    end: lastDateInView\n                };\n            },\n            _dateInViews: function (date) {\n                var that = this;\n                var tables = that.element.find('.k-calendar-view table');\n                var firstDateInView = toDateObject(tables.first().find(CELLSELECTOR).first().find('a'));\n                var lastDateInView = toDateObject(tables.last().find(CELLSELECTOR).last().find('a'));\n                date = new Date(date.toDateString());\n                return +date <= +lastDateInView && +date >= +firstDateInView;\n            },\n            _fillRange: function (start, end) {\n                var that = this;\n                var daysDifference;\n                that._selectDates = [];\n                daysDifference = daysBetweenTwoDates(start, end);\n                addDaysToArray(that._selectDates, daysDifference, start, that.options.disableDates);\n            },\n            _selectRange: function (start, end) {\n                var that = this;\n                var current;\n                if (+end < +start) {\n                    current = end;\n                    end = start;\n                    start = current;\n                }\n                that._fillRange(start, end);\n                that._visualizeSelectedDatesInView();\n            },\n            _header: function () {\n                var that = this;\n                var element = that.element;\n                var buttons;\n                var header = element.find('.k-calendar-header');\n                if (!header.length) {\n                    header = $('<div class=\"k-calendar-header k-hstack\">' + '<a href=\"#\" role=\"button\" class=\"k-calendar-title k-title k-button k-button-md k-rounded-md k-button-flat k-button-flat-base\" aria-live=\"assertive\" aria-atomic=\"true\"></a>' + '<span class=\"k-spacer\"></span>' + '<span class=\"k-calendar-nav k-hstack\">' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-prev-view\" ' + ARIA_LABEL + '=\"Previous\"><span class=\"k-button-icon k-icon k-i-arrow-60-left\"></span></a>' + '<a href=\"#\" role=\"button\" class=\"k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-next-view\" ' + ARIA_LABEL + '=\"Next\"><span class=\"k-button-icon k-icon k-i-arrow-60-right\"></span></a>' + '</span>' + '</div>').prependTo(element);\n                }\n                that.header = header;\n                header.on(MOUSEENTER + ns + ' ' + MOUSELEAVE_NS + ' ' + FOCUS + ns + ' ' + BLUR + ns, '.k-button', mousetoggle).on('click', function () {\n                    return false;\n                }).on(CLICK + ns, '.k-button.k-calendar-title', function () {\n                    that.navigateUp();\n                    that._focusCell(that._cellByDate(that._current), true);\n                    that.trigger(NAVIGATE);\n                }).on(CLICK + ns, '.k-button.k-prev-view', function (e) {\n                    e.preventDefault();\n                    that.navigateToPast();\n                    that.trigger(NAVIGATE);\n                }).on(CLICK + ns, '.k-button.k-next-view', function (e) {\n                    e.preventDefault();\n                    that.navigateToFuture();\n                    that.trigger(NAVIGATE);\n                });\n                buttons = header.find('.k-button');\n                that._title = buttons.filter('.k-calendar-title');\n                that._navContainer = header.find('.k-calendar-nav');\n                that[PREVARROW] = buttons.filter('.k-prev-view');\n                that[NEXTARROW] = buttons.filter('.k-next-view');\n            },\n            _wrapper: function () {\n                this.tablesWrapper = $('<div class=\"k-calendar-view\" />').insertAfter(this.element[0].firstChild);\n            },\n            _templates: function () {\n                var that = this;\n                var options = that.options;\n                var month = options.month;\n                var content = month.content;\n                var weekNumber = month.weekNumber;\n                var empty = month.empty;\n                that.month = {\n                    content: template('<td class=\"#=data.cssClass#\" role=\"gridcell\"><a tabindex=\"-1\" class=\"k-link#=data.linkClass#\" href=\"#=data.url#\" ' + kendo.attr(VALUE) + '=\"#=data.dateString#\" title=\"#=data.title#\">' + (content || '#=data.value#') + '</a></td>', { useWithBlock: !!content }),\n                    empty: template('<td role=\"gridcell\"' + (empty ? '>' : ' class=\"k-calendar-td k-out-of-range\">') + (empty || '<a class=\\'k-link\\'></a>') + '</td>', { useWithBlock: !!empty }),\n                    weekNumber: template('<td class=\"k-calenar-td k-alt\">' + (weekNumber || '#= data.weekNumber #') + '</td>', { useWithBlock: !!weekNumber })\n                };\n            },\n            _footer: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.footer !== false ? kendo.template(that.options.footer || '#= kendo.toString(data,\"D\",\"' + options.culture + '\") #', { useWithBlock: false }) : null;\n                var today = getToday();\n                var element = that.element;\n                var footer = element.find('.k-footer');\n                if (!template) {\n                    that._toggle(false);\n                    footer.hide();\n                    return;\n                }\n                if (!footer[0]) {\n                    footer = $('<div class=\"k-footer\"><a href=\"#\" class=\"k-link k-nav-today\"></a></div>').appendTo(element);\n                }\n                that._today = footer.show().find('.k-link').html(template(today)).attr('title', kendo.toString(today, 'D', that.options.culture));\n                that._toggle();\n            },\n            _navigate: function (arrow, modifier, preventFocus) {\n                var that = this;\n                var index = that._index + 1;\n                var currentValue = new DATE(+that._current);\n                var originaValue = new DATE(+that._current);\n                var offset;\n                arrow = that[arrow];\n                offset = that._cellByDate(currentValue).closest('table').index();\n                if (modifier > 0) {\n                    offset = 1 - offset;\n                } else {\n                    offset = offset + 1;\n                }\n                if (!arrow || !arrow.hasClass(DISABLED)) {\n                    if (index > 3) {\n                        currentValue.setFullYear(currentValue.getFullYear() + 100 * (modifier * offset));\n                    } else {\n                        calendar.views[index].setDate(currentValue, modifier * offset);\n                    }\n                    that.navigate(currentValue);\n                    if (that._dateInViews(originaValue)) {\n                        that._focusCell(that._cellByDate(originaValue), !preventFocus);\n                        that._current = originaValue;\n                    } else {\n                        if (index > 3) {\n                            originaValue.setFullYear(originaValue.getFullYear() + 100 * modifier);\n                        } else {\n                            calendar.views[index].setDate(originaValue, modifier);\n                        }\n                        that._focusCell(that._cellByDate(originaValue), !preventFocus);\n                        that._current = originaValue;\n                    }\n                }\n            },\n            _toggle: function (toggle) {\n                var that = this;\n                var options = that.options;\n                var isTodayDisabled = options.selectable !== 'range' && that.options.disableDates(getToday());\n                var link = that._today;\n                if (toggle === undefined) {\n                    toggle = isInRange(getToday(), options.min, options.max);\n                }\n                if (link) {\n                    link.off(CLICK + ns);\n                    if (toggle && !isTodayDisabled) {\n                        link.addClass(TODAY).removeClass(DISABLED).on(CLICK + ns, proxy(that._todayClick, that));\n                    } else {\n                        link.removeClass(TODAY).addClass(DISABLED).on(CLICK + ns, function prevent(e) {\n                            e.preventDefault();\n                        });\n                    }\n                }\n            },\n            _click: function (link, preventFocus) {\n                var that = this;\n                var options = that.options;\n                var currentValue = new Date(+that._current);\n                var value = toDateObject(link);\n                kendo.date.adjustDST(value, 0);\n                that._currentView.setDate(currentValue, value);\n                that._current = value;\n                if (that._currentView.name !== options.depth) {\n                    that.navigateDown(calendar.restrictValue(currentValue, options.min, options.max));\n                    that._focusCell(that._cellByDate(that._current), !preventFocus);\n                    that.trigger(NAVIGATE);\n                } else {\n                    that._focusCell(link.closest('td'), !preventFocus);\n                }\n            },\n            _blur: function () {\n                var that = this;\n                if (that._cell) {\n                    that._cell.removeClass(FOCUSED);\n                }\n            },\n            _focus: function (e) {\n                var that = this;\n                var table = $(e.currentTarget);\n                var cell = that._cell;\n                if (!cell || !$.contains(table[0], cell[0])) {\n                    cell = table.find(CELLSELECTORVALID).first();\n                }\n                that._focusCell(cell);\n            },\n            _focusCell: function (cell, focusTable) {\n                var that = this;\n                var cellId = that._cellID;\n                var table = cell.closest('table');\n                if (that._cell && that._cell.length) {\n                    that._cell[0].removeAttribute(ARIA_SELECTED);\n                    that._cell[0].removeAttribute(ARIA_LABEL);\n                    that._cell.removeClass(FOCUSED);\n                    that._cell[0].removeAttribute(ID);\n                    that._cell.closest('table')[0].removeAttribute('aria-activedescendant');\n                }\n                that._cell = cell;\n                if (focusTable) {\n                    table.trigger('focus');\n                }\n                if (cellId) {\n                    cell.attr(ID, cellId);\n                    table.attr('aria-activedescendant', cellId);\n                }\n                cell.attr(ARIA_SELECTED, true).addClass(FOCUSED);\n                if (cell.length && that._currentView.name == 'month') {\n                    that._current = toDateObject(cell.find('a'));\n                }\n            },\n            _todayClick: function (e) {\n                var that = this;\n                var disabled = that.options.disableDates;\n                var today = getToday();\n                var navigate = false;\n                e.preventDefault();\n                if (disabled(today)) {\n                    return;\n                }\n                that._value = today;\n                if (that.options.selectable === 'multiple') {\n                    that._selectDates = [today];\n                }\n                if (that.options.selectable === 'range') {\n                    that.rangeSelectable.clear(true);\n                    that._range = {\n                        start: today,\n                        end: null\n                    };\n                }\n                if (that._currentView.name != 'month' || !that._dateInViews(today)) {\n                    navigate = true;\n                }\n                that.navigate(today, that.options.depth);\n                if (that.options.selectable === 'single') {\n                    that.selectable._lastActive = null;\n                }\n                if (navigate) {\n                    that.trigger(NAVIGATE);\n                }\n                that.trigger(CHANGE);\n            },\n            _validateValue: function (value) {\n                var that = this;\n                var options = that.options;\n                var min = options.min;\n                var max = options.max;\n                value = kendo.parseDate(value, options.format, options.culture);\n                if (value !== null) {\n                    value = new DATE(+value);\n                    if (!isInRange(value, min, max)) {\n                        value = null;\n                    }\n                }\n                if (value === null || !that.options.disableDates(new Date(+value))) {\n                    that._value = value;\n                } else if (that._value === undefined) {\n                    that._value = null;\n                }\n                return that._value;\n            },\n            _updateAria: function (ariaTemplate, date) {\n                var that = this;\n                var cell = that._cellByDate(date || that.current());\n                var valueType = that.view().valueType();\n                var current = date || that.current();\n                var text;\n                that._focusCell(cell);\n                if (valueType === 'month') {\n                    text = kendo.toString(current, 'MMMM');\n                } else if (valueType === 'date') {\n                    text = kendo.toString(current, 'D');\n                } else {\n                    text = cell.text();\n                }\n                cell.attr('aria-label', ariaTemplate({\n                    current: current,\n                    valueType: valueType,\n                    text: text\n                }));\n                return cell.attr('id');\n            },\n            clearSelection: function () {\n                var that = this;\n                if (that.selectable) {\n                    that.element.find(DOT + SELECTED).removeClass(SELECTED);\n                }\n                if (that.rangeSelectable) {\n                    that.rangeSelectable.clear(true);\n                }\n            },\n            _restoreSelection: function () {\n                var that = this;\n                var range;\n                var selectable = that.options.selectable;\n                if (that._currentView.name !== that.options.depth) {\n                    return;\n                }\n                that._preventChange = true;\n                if (selectable === 'range') {\n                    range = that.selectRange();\n                    if (!range || !range.start) {\n                        that._preventChange = false;\n                        return;\n                    }\n                    that.selectRange(range);\n                }\n                if (selectable === 'single' && that.value()) {\n                    that.selectable.value(that._cellByDate(that.value()));\n                }\n                if (selectable === 'multiple') {\n                    that._visualizeSelectedDatesInView();\n                }\n                that._preventChange = false;\n            },\n            value: function (value) {\n                var that = this;\n                var cell;\n                if (value === undefined) {\n                    return that._value;\n                }\n                value = that._validateValue(value);\n                that.clearSelection();\n                if (value && !that._dateInViews(value)) {\n                    that.navigate(value);\n                }\n                if (value !== null && that._currentView.name === MONTH) {\n                    cell = that._cellByDate(value);\n                    if (that.selectable) {\n                        that.selectable.value(cell);\n                    }\n                    if (that.rangeSelectable) {\n                        that.rangeSelectable.start(cell);\n                        that.rangeSelectable._lastActive = cell;\n                    }\n                }\n            },\n            selectDates: function (dates) {\n                var that = this;\n                var validSelectedDates;\n                var datesUnique;\n                if (dates === undefined) {\n                    return that._selectDates;\n                }\n                datesUnique = dates.map(function (date) {\n                    return date.getTime();\n                }).filter(function (date, position, array) {\n                    return array.indexOf(date) === position;\n                }).map(function (time) {\n                    return new Date(time);\n                });\n                validSelectedDates = $.grep(datesUnique, function (value) {\n                    if (value) {\n                        return +that._validateValue(new Date(value.setHours(0, 0, 0, 0))) === +value;\n                    }\n                });\n                that._selectDates = validSelectedDates.length > 0 ? validSelectedDates : datesUnique.length === 0 ? datesUnique : that._selectDates;\n                that._visualizeSelectedDatesInView();\n            },\n            selectRange: function (range) {\n                var that = this;\n                var startInRange;\n                var endInRange;\n                var visibleRange;\n                if (range === undefined) {\n                    return that._range;\n                }\n                that._range = range;\n                if (!range.start) {\n                    return;\n                }\n                visibleRange = that._visibleRange();\n                startInRange = that._dateInViews(range.start);\n                endInRange = range.end && that._dateInViews(range.end);\n                if (!startInRange && endInRange) {\n                    that.rangeSelectable.selectTo(that._cellByDate(range.end));\n                }\n                if (startInRange && endInRange) {\n                    that.rangeSelectable.range(that._cellByDate(range.start), that._cellByDate(range.end));\n                }\n                if (range.end && startInRange && !endInRange) {\n                    that.rangeSelectable.selectFrom(that._cellByDate(range.start));\n                }\n                if (!range.end && startInRange) {\n                    that.rangeSelectable.start(that._cellByDate(range.start));\n                }\n                if (+visibleRange.start > +range.start && +visibleRange.end < +range.end) {\n                    that.rangeSelectable.mid(that.element.find(CELLSELECTORVALID));\n                }\n            }\n        });\n        kendo.ui.plugin(MultiViewCalendar);\n        function mousetoggle(e) {\n            var disabled = $(this).hasClass('k-state-disabled');\n            if (!disabled) {\n                $(this).toggleClass(HOVER, MOUSEENTER.indexOf(e.type) > -1 || e.type == FOCUS);\n            }\n        }\n        function addDaysToArray(array, numberOfDays, fromDate, disableDates) {\n            for (var i = 0; i <= numberOfDays; i++) {\n                var nextDay = new Date(fromDate.getTime());\n                nextDay = new Date(nextDay.setDate(nextDay.getDate() + i));\n                if (!disableDates(nextDay)) {\n                    array.push(nextDay);\n                }\n            }\n        }\n        function daysBetweenTwoDates(startDate, endDate) {\n            if (+endDate < +startDate) {\n                var temp = +startDate;\n                calendar.views[0].setDate(startDate, endDate);\n                calendar.views[0].setDate(endDate, new Date(temp));\n            }\n            var fromDateUTC = Date.UTC(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());\n            var endDateUTC = Date.UTC(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());\n            return Math.ceil((+endDateUTC - +fromDateUTC) / kendo.date.MS_PER_DAY);\n        }\n        function shiftDate(value, dimension, numberOfViews) {\n            var current;\n            if (dimension === 'month') {\n                current = new DATE(value.getFullYear(), value.getMonth() + numberOfViews, value.getDate());\n                current.setFullYear(value.getFullYear());\n                if (Math.abs(current.getMonth() - value.getMonth()) > numberOfViews || numberOfViews > 10) {\n                    current.setMonth(value.getMonth() + numberOfViews);\n                    current = calendar.views[0].last(current);\n                }\n                return current;\n            } else if (dimension === 'year') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + numberOfViews);\n                    current = calendar.views[1].last(current);\n                }\n                return current;\n            } else if (dimension === 'decade') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 10 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 10 * numberOfViews);\n                    current = calendar.views[2].last(current);\n                }\n                return current;\n            } else if (dimension === 'century') {\n                current = new DATE(1, value.getMonth(), value.getDate());\n                current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                if (Math.abs(current.getFullYear() - value.getFullYear()) > 100 * numberOfViews) {\n                    current = new DATE(1, value.getMonth(), 1);\n                    current.setFullYear(value.getFullYear() + 100 * numberOfViews);\n                    current = calendar.views[3].last(current);\n                }\n                return current;\n            }\n        }\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}