{"version":3,"sources":["kendo.gantt.js"],"names":["f","define","$","normalizeText","text","String","replace","REPLACE_REGEX","SPACE","objectKey","object","key","parts","push","sort","join","hashKey","str","i","hash","length","charCodeAt","zeroSize","width","height","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","window","kendo","util","Class","extend","init","size","this","_size","_length","_map","put","value","map","entry","_head","_tail","newer","older","get","baselineMarkerSize","document","createElement","cssText","options","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","deepExtend","jQuery","amd","a1","a2","a3","undefined","selector","uid","attr","trimOptions","name","prefix","remove","edit","add","navigate","focusTable","table","direct","wrapper","parents","scrollPositions","scrollableParents","TABINDEX","each","index","parent","scrollTop","setActive","e","focus","element","parentsUntil","filter","computedStyle","getComputedStyles","overflow","defaultCommands","keys","F10","supportsMedia","mobileOS","support","Widget","ui","ObservableObject","data","ObservableArray","Query","isArray","Array","inArray","isFunction","proxy","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","defaultIndicatorWidth","NS","PERCENTAGE_FORMAT","CLICK","STRING","ARIA_DESCENDANT","ARIA_LABEL","ACTIVE_CELL","DOT","TASK_DELETE_CONFIRM","DEPENDENCY_DELETE_CONFIRM","TOGGLE_BUTTON_TEMPLATE","template","BUTTON_TEMPLATE","COMMAND_BUTTON_TEMPLATE","VIEWS_DROPDOWN_TEMPLATE","HEADER_VIEWS_TEMPLATE","ganttStyles","plannedTasks","rowHeight","content","listWrapper","list","timelineWrapper","timeline","splitBarWrapper","splitBar","splitBarHover","popupWrapper","popupList","resizeHandle","icon","item","line","buttonDelete","buttonCancel","buttonSave","buttonToggle","buttonDefaults","primary","hovered","selected","focused","focusedCell","gridHeader","gridHeaderWrap","gridContent","tasks","popup","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","editField","editLabel","resourcesField","toolbar","headerWrapper","footerWrapper","views","viewsWrapper","viewsDropdown","iconPlus","iconPdf","iconToggle","viewButton","link","pdfButton","appendButton","Gantt","events","dataSource","append","action","className","styles","iconClass","pdf","fn","call","_events","_wrapper","_resources","_timeline","_toolbar","_footer","_adjustDimensions","_preventRefresh","view","_selectedViewName","_dataSource","_assignments","_dropDowns","_list","_dependencies","_resizable","_scrollable","_dataBind","_attachEvents","_createEditor","notify","autoBind","navigatable","selectable","editable","resizable","columnResizeHandleWidth","columns","dependencies","resources","assignments","taskTemplate","messages","save","cancel","destroy","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","day","week","month","year","start","end","actions","addChild","insertBefore","insertAfter","editor","editorTitle","resourcesEditorTitle","title","plannedStart","plannedEnd","percentComplete","assignButton","resourcesHeader","unitsHeader","switchText","offsetTooltipAdvanced","offsetTooltipDelay","seconds","minutes","hours","days","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","workWeekStart","workWeekEnd","hourSpan","snap","listWidth","showPlannedTasks","select","find","trigger","clearSelection","unbind","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","footerDropDown","headerDropDown","_editor","_resizeDraggable","off","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","footer","setOptions","selectedView","newOptions","isSettings","type","empty","_setEvents","resize","on","matches","splitBarHandleClassName","addClass","layout","appendTo","css","treelistWrapper","splitbar","toggleButton","that","viewsSelector","viewsDropdownSelector","pdfSelector","toggleSelector","contentSelector","treelist","mediaQueryHandler","removeClass","refresh","_resize","_actions","ns","prepend","toggeSwitchWrap","matchMedia","addListener","val","preventDefault","children","focusedViewIndex","_focusedView","closest","keyCode","RIGHT","LEFT","ENTER","SPACEBAR","_viewByIndex","toLowerCase","saveAsPDF","is","relatedTarget","expanded","html","create","_createButton","_createPlannedTasksSwitch","command","commandName","indexOf","Error","split","toolbarHeight","footerHeight","totalHeight","totalWidth","splitBarWidth","treeListWidth","timelineWidth","_scrollTo","scrollTarget","id","scrollIntoView","actionsSelector","actionMessages","handler","orderId","task","_createNewModel","dataItem","taskParent","firstSlot","_timeSlots","target","set","_createTask","gantt","TaskDropDown","eq","direction","animation","open","effects","bind","_getListEditable","update","reorder","mode","move","reorderable","_getListOptions","ganttListOptions","filterable","columnMenu","field","_attachResourceEditor","column","_createResourceEditor","_attachListEvents","toggleButtons","restoreFocus","_cachedCurrent","rowIndex","columnIndex","_current","oldIndex","newIndex","oldWidth","newWidth","_navigatable","container","model","cell","_preventItemChange","closeCell","updatedValues","values","updateDuration","duration","updatePlannedDuration","plannedDuration","hasOwnProperty","previousStart","getTime","previousPlannedStart","updateInfo","hasChanges","cancelChanges","_updateAssignments","_requestStart","sync","then","selection","removeAttr","row","position","parentId","source","dir","_updateTask","listElement","listOptions","GanttList","GanttTimeline","viewName","getByUid","resizeStart","dependency","predecessorId","predecessor","successorId","successor","_createDependency","editTask","removeTask","removeDependency","_error","GanttDataSource","refreshDependencies","GanttDependencyDataSource","dataTextField","dataColorField","dataFormatField","DataSource","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","PopupEditor","createButton","_createPopupButton","cancelTask","saveTask","_onDialogClose","unitsValidation","step","assignmentsModel","schema","fields","Units","validation","_resourceEditor","ResourceEditor","_wrapResourceData","buttons","range","_render","taskTree","_renderDependencies","date","_scrollToDate","_modelFromElement","setDataSource","fetch","setDependenciesDataSource","items","assignment","resource","j","newLength","taskId","resourceId","hasMatch","operator","toArray","_updateAssignment","splice","_removeAssignment","shift","_createAssignment","close","taskCopy","toJSON","_editTask","_syncDataSource","resourceValueField","_taskConfirm","_removeTask","insert","_scrollToUid","_preventDependencyRefresh","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","callback","_confirm","confirmation","click","showDialog","scrollToUid","cachedUid","cachedIndex","_progress","_assignResources","_renderTree","groupAssigments","group","assigments","applyTaskResource","setter","wrapTask","resourcedId","valueFormat","formatedValue","toString","color","result","taskAssignments","valuePerResource","format","toggle","progress","timelineScroll","treeListWrapper","hover","kendoResizable","orientation","handle","scrollLeft","delta","x","initialDelta","isRtl","_renderCurrentTime","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","wheelDeltaY","currentTarget","one","cellIndex","headerTable","contentTable","tables","expandState","collapse","expand","scroll","reverse","scrollVertical","_rowHeight","moveVertical","method","sibling","first","moveHorizontal","subling","toggleExpandedState","summary","deleteAction","selectedTask","isInput","ctrlKey","_focusTimeout","setTimeout","itemToFocus","focusableItems","_getToolbarItems","idx","shiftKey","TAB","DELETE","isCell","altKey","UP","DOWN","_startEditHandler","stopPropagation","tagName","concat","activeElement","_activeElement","promises","when","apply","done","_adjustHeight","switchLabel","plannedToggle","Switch","checked","change","_togglePlannedTasks","unchecked","toggleSwitch","toggleClass","_setPlanned","PDFMixin","_drawPDF","listTableWidth","clone","_drawPDFShadow","avoidLinks","plugin"],"mappings":"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","file":"kendo.gantt.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (typeof text === 'undefined' || text === null) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.gantt', [\n        'kendo.data',\n        'kendo.resizable',\n        'kendo.switch',\n        'kendo.gantt.data',\n        'kendo.gantt.editors',\n        'kendo.gantt.list',\n        'kendo.gantt.timeline',\n        'kendo.pdf'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'gantt',\n        name: 'Gantt',\n        category: 'web',\n        description: 'The Gantt component.',\n        depends: [\n            'data',\n            'resizable',\n            'switch',\n            'gantt.data',\n            'gantt.editors',\n            'gantt.list',\n            'gantt.timeline',\n            'pdf'\n        ]\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, keys = $.extend({ F10: 121 }, kendo.keys), supportsMedia = 'matchMedia' in window, mobileOS = kendo.support.mobileOS, Widget = kendo.ui.Widget, ObservableObject = kendo.data.ObservableObject, ObservableArray = kendo.data.ObservableArray, Query = kendo.data.Query, isArray = Array.isArray, inArray = $.inArray, isFunction = kendo.isFunction, proxy = $.proxy, extend = $.extend, isPlainObject = $.isPlainObject, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, defaultIndicatorWidth = 3, NS = '.kendoGantt', PERCENTAGE_FORMAT = 'p0', TABINDEX = 'tabIndex', CLICK = 'click', STRING = 'string', ARIA_DESCENDANT = 'aria-activedescendant', ARIA_LABEL = 'aria-label', ACTIVE_CELL = 'gantt_active_cell', DOT = '.', TASK_DELETE_CONFIRM = 'Are you sure you want to delete this task?', DEPENDENCY_DELETE_CONFIRM = 'Are you sure you want to delete this dependency?', TOGGLE_BUTTON_TEMPLATE = kendo.template('<button class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-gantt-toggle\" type=\"button\" ' + ARIA_LABEL + '=\"Toggle\"><span class=\"k-button-icon #=styles.iconToggle#\"></span></button>'), BUTTON_TEMPLATE = '<button class=\"#=styles.button#  #=styles.buttonDefaults# #=className#\" type=\"button\" ' + '#if (action) {#' + 'data-action=\"#=action#\"' + '#}#' + '>' + '<span class=\"k-button-icon #=iconClass#\"></span>' + '<span class=\"k-button-text\">#=text#</span>' + '</button>', COMMAND_BUTTON_TEMPLATE = '<a class=\"#=className#\" #=attr# href=\"\\\\#\"><span class=\"k-button-text\">#=text#</span></a>', VIEWS_DROPDOWN_TEMPLATE = kendo.template('<select class=\"k-dropdown k-picker k-dropdown-list #= styles.viewsDropdown #\">' + '#for(var view in views){#' + '<option value=\"#=view#\">#=views[view].title#</option>' + '#}#' + '</select>'), HEADER_VIEWS_TEMPLATE = kendo.template('<div class=\"#=styles.viewsWrapper#\">' + '<span class=\"k-button-group #=styles.views#\">' + '#for(var view in views){#' + '<button type=\"button\" class=\"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-view-#= view.toLowerCase() #\" data-#=ns#name=\"#=view#\">' + '<span class=\"k-button-text\">#=views[view].title#</span>' + '</button>' + '#}#' + '</span>' + '</div>');\n        var ganttStyles = {\n            wrapper: 'k-widget k-gantt',\n            plannedTasks: 'k-gantt-planned',\n            rowHeight: 'k-gantt-rowheight',\n            content: 'k-gantt-content',\n            listWrapper: 'k-gantt-treelist',\n            list: 'k-gantt-treelist',\n            timelineWrapper: 'k-gantt-timeline',\n            timeline: 'k-gantt-timeline',\n            splitBarWrapper: 'k-splitbar k-splitbar-horizontal k-splitbar-draggable-horizontal',\n            splitBar: 'k-splitbar',\n            splitBarHover: 'k-splitbar-horizontal-hover',\n            popupWrapper: 'k-list-container',\n            popupList: 'k-list k-reset',\n            resizeHandle: 'k-resize-handle',\n            icon: 'k-icon',\n            item: 'k-item',\n            line: 'k-gantt-line',\n            buttonDelete: 'k-gantt-delete',\n            buttonCancel: 'k-gantt-cancel',\n            buttonSave: 'k-gantt-update',\n            buttonToggle: 'k-gantt-toggle',\n            buttonDefaults: 'k-button-md k-rounded-md k-button-solid',\n            primary: 'k-button-solid-primary',\n            hovered: 'k-state-hover',\n            selected: 'k-selected',\n            focused: 'k-focus',\n            focusedCell: 'k-state-focused',\n            gridHeader: 'k-grid-header',\n            gridHeaderWrap: 'k-grid-header-wrap',\n            gridContent: 'k-grid-content',\n            tasks: 'k-gantt-tasks',\n            popup: {\n                form: 'k-popup-edit-form',\n                editForm: 'k-gantt-edit-form',\n                formContainer: 'k-edit-form-container',\n                resourcesFormContainer: 'k-resources-form-container',\n                message: 'k-popup-message',\n                buttonsContainer: 'k-edit-buttons',\n                button: 'k-button',\n                editField: 'k-edit-field',\n                editLabel: 'k-edit-label',\n                resourcesField: 'k-gantt-resources'\n            },\n            toolbar: {\n                headerWrapper: 'k-gantt-header k-toolbar k-gantt-toolbar',\n                footerWrapper: 'k-gantt-footer k-toolbar k-gantt-toolbar',\n                toolbar: 'k-gantt-toolbar',\n                views: 'k-gantt-views',\n                viewsWrapper: 'k-gantt-views-wrapper',\n                viewsDropdown: 'k-views-dropdown',\n                button: 'k-button',\n                buttonToggle: 'k-gantt-toggle',\n                buttonDefaults: 'k-button-md k-rounded-md k-button-solid',\n                iconPlus: 'k-icon k-i-plus',\n                iconPdf: 'k-icon k-i-file-pdf',\n                iconToggle: 'k-icon k-i-layout-1-by-4',\n                viewButton: 'k-view',\n                link: 'k-link',\n                pdfButton: 'k-gantt-pdf',\n                appendButton: 'k-gantt-create'\n            }\n        };\n        function selector(uid) {\n            return '[' + kendo.attr('uid') + (uid ? '=\\'' + uid + '\\']' : ']');\n        }\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n            return options;\n        }\n        function focusTable(table, direct) {\n            var wrapper = table.parents('[' + kendo.attr('role') + '=\"gantt\"]');\n            var scrollPositions = [];\n            var parents = scrollableParents(wrapper);\n            table.attr(TABINDEX, 0);\n            if (direct) {\n                parents.each(function (index, parent) {\n                    scrollPositions[index] = $(parent).scrollTop();\n                });\n            }\n            try {\n                table[0].setActive();\n            } catch (e) {\n                table[0].focus();\n            }\n            if (direct) {\n                parents.each(function (index, parent) {\n                    $(parent).scrollTop(scrollPositions[index]);\n                });\n            }\n        }\n        function scrollableParents(element) {\n            return $(element).parentsUntil('body').filter(function (index, element) {\n                var computedStyle = kendo.getComputedStyles(element, ['overflow']);\n                return computedStyle.overflow != 'visible';\n            }).add(window);\n        }\n        var defaultCommands;\n        var Gantt = Widget.extend({\n            init: function (element, options, events) {\n                if (isArray(options)) {\n                    options = { dataSource: options };\n                }\n                defaultCommands = {\n                    append: {\n                        text: 'Add Task',\n                        action: 'add',\n                        className: Gantt.styles.toolbar.appendButton + ' k-button-solid-base',\n                        iconClass: Gantt.styles.toolbar.iconPlus\n                    },\n                    pdf: {\n                        text: 'Export to PDF',\n                        className: Gantt.styles.toolbar.pdfButton + ' k-button-solid-base',\n                        iconClass: Gantt.styles.toolbar.iconPdf\n                    }\n                };\n                Widget.fn.init.call(this, element, options);\n                if (events) {\n                    this._events = events;\n                }\n                this._wrapper();\n                this._resources();\n                if (!this.options.views || !this.options.views.length) {\n                    this.options.views = [\n                        'day',\n                        'week',\n                        'month'\n                    ];\n                }\n                this._timeline();\n                this._toolbar();\n                this._footer();\n                this._adjustDimensions();\n                this._preventRefresh = true;\n                this.view(this.timeline._selectedViewName);\n                this._preventRefresh = false;\n                this._dataSource();\n                this._assignments();\n                this._dropDowns();\n                this._list();\n                this._dependencies();\n                this._resizable();\n                this._scrollable();\n                this._dataBind();\n                this._attachEvents();\n                this._createEditor();\n                kendo.notify(this);\n            },\n            events: [\n                'dataBinding',\n                'dataBound',\n                'add',\n                'edit',\n                'remove',\n                'cancel',\n                'save',\n                'change',\n                'navigate',\n                'moveStart',\n                'move',\n                'moveEnd',\n                'resizeStart',\n                'resize',\n                'resizeEnd',\n                'columnHide',\n                'columnReorder',\n                'columnResize',\n                'columnShow',\n                'togglePlannedTasks'\n            ],\n            options: {\n                name: 'Gantt',\n                autoBind: true,\n                navigatable: false,\n                selectable: true,\n                editable: true,\n                resizable: false,\n                columnResizeHandleWidth: defaultIndicatorWidth,\n                columns: [],\n                views: [],\n                dataSource: {},\n                dependencies: {},\n                resources: {},\n                assignments: {},\n                taskTemplate: null,\n                messages: {\n                    save: 'Save',\n                    cancel: 'Cancel',\n                    destroy: 'Delete',\n                    deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                    deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                    deleteTaskWindowTitle: 'Delete task',\n                    deleteDependencyWindowTitle: 'Delete dependency',\n                    views: {\n                        day: 'Day',\n                        week: 'Week',\n                        month: 'Month',\n                        year: 'Year',\n                        start: 'Start',\n                        end: 'End'\n                    },\n                    actions: {\n                        append: 'Add Task',\n                        addChild: 'Add Child',\n                        insertBefore: 'Add Above',\n                        insertAfter: 'Add Below',\n                        pdf: 'Export to PDF'\n                    },\n                    editor: {\n                        editorTitle: 'Task',\n                        resourcesEditorTitle: 'Resources',\n                        title: 'Title',\n                        start: 'Start',\n                        end: 'End',\n                        plannedStart: 'Planned Start',\n                        plannedEnd: 'Planned End',\n                        percentComplete: 'Complete',\n                        resources: 'Resources',\n                        assignButton: 'Assign',\n                        resourcesHeader: 'Resources',\n                        unitsHeader: 'Units'\n                    },\n                    plannedTasks: {\n                        switchText: 'Planned Tasks',\n                        offsetTooltipAdvanced: 'Met deadline earlier',\n                        offsetTooltipDelay: 'Delay',\n                        seconds: 'seconds',\n                        minutes: 'minutes',\n                        hours: 'hours',\n                        days: 'days'\n                    }\n                },\n                showWorkHours: true,\n                showWorkDays: true,\n                toolbar: null,\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n                workWeekStart: 1,\n                workWeekEnd: 5,\n                hourSpan: 1,\n                snap: true,\n                height: 600,\n                listWidth: '30%',\n                rowHeight: null,\n                showPlannedTasks: false\n            },\n            select: function (value) {\n                var list = this.list;\n                if (!value) {\n                    return list.select();\n                }\n                if (typeof value === STRING) {\n                    value = list.content.find(value);\n                }\n                list.select(value);\n                this.list.element.find('table[role=treegrid]').trigger('focus');\n                return;\n            },\n            clearSelection: function () {\n                this.list.clearSelection();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                if (this.dataSource) {\n                    this.dataSource.unbind('change', this._refreshHandler);\n                    this.dataSource.unbind('progress', this._progressHandler);\n                    this.dataSource.unbind('error', this._errorHandler);\n                }\n                if (this.dependencies) {\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler);\n                    this.dependencies.unbind('error', this._dependencyErrorHandler);\n                }\n                if (this.timeline) {\n                    this.timeline.unbind();\n                    this.timeline.destroy();\n                }\n                if (this.list) {\n                    this.list.unbind();\n                    this.list.destroy();\n                }\n                if (this.footerDropDown) {\n                    this.footerDropDown.destroy();\n                }\n                if (this.headerDropDown) {\n                    this.headerDropDown.destroy();\n                }\n                if (this._editor) {\n                    this._editor.destroy();\n                }\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n                this.toolbar.off(NS);\n                if (supportsMedia) {\n                    this._mediaQuery.removeListener(this._mediaQueryHandler);\n                    this._mediaQuery = null;\n                }\n                $(window).off('resize' + NS, this._resizeHandler);\n                $(this.wrapper).off(NS);\n                this.toolbar = null;\n                this.footer = null;\n                kendo.destroy(this.element);\n            },\n            setOptions: function (options) {\n                var newOptions = kendo.deepExtend({}, this.options, options);\n                var events = this._events;\n                if (!options.views) {\n                    var selectedView = this.view().name;\n                    newOptions.views = $.map(this.options.views, function (view) {\n                        var isSettings = isPlainObject(view);\n                        var name = isSettings ? typeof view.type !== 'string' ? view.title : view.type : view;\n                        if (selectedView === name) {\n                            if (isSettings) {\n                                view.selected = true;\n                            } else {\n                                view = {\n                                    type: name,\n                                    selected: true\n                                };\n                            }\n                        } else if (isSettings) {\n                            view.selected = false;\n                        }\n                        return view;\n                    });\n                }\n                if (!options.dataSource) {\n                    newOptions.dataSource = this.dataSource;\n                }\n                if (!options.dependencies) {\n                    newOptions.dependencies = this.dependencies;\n                }\n                if (!options.resources) {\n                    newOptions.resources = this.resources;\n                }\n                if (!options.assignments) {\n                    newOptions.assignments = this.assignments;\n                }\n                this.destroy();\n                this.element.empty();\n                this.options = null;\n                this.init(this.element, newOptions, events);\n                Widget.fn._setEvents.call(this, newOptions);\n            },\n            _attachEvents: function () {\n                this._resizeHandler = proxy(this.resize, this, false);\n                $(window).on('resize' + NS, this._resizeHandler);\n                if (supportsMedia && this._mediaQuery.matches === true) {\n                    this._mediaQueryHandler({ matches: true });\n                }\n            },\n            _wrapper: function () {\n                var ganttStyles = Gantt.styles;\n                var splitBarHandleClassName = [\n                    ganttStyles.icon,\n                    ganttStyles.resizeHandle\n                ].join(' ');\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n                this.wrapper = this.element.addClass(ganttStyles.wrapper);\n                this.layout = $('<div class=\\'' + ganttStyles.content + '\\' />').appendTo(this.wrapper).append('<div class=\\'' + ganttStyles.listWrapper + '\\'><div></div></div>').append('<div class=\\'' + ganttStyles.splitBarWrapper + '\\'><div class=\\'' + splitBarHandleClassName + '\\'></div></div>').append('<div class=\\'' + ganttStyles.timelineWrapper + '\\'><div></div></div>');\n                if (options.showPlannedTasks) {\n                    this.wrapper.addClass(ganttStyles.plannedTasks);\n                }\n                if (height) {\n                    this.wrapper.css('height', height);\n                }\n                if (width) {\n                    this.wrapper.css('width', width);\n                }\n                if (options.rowHeight) {\n                    this.wrapper.addClass(ganttStyles.rowHeight);\n                }\n                this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n                this.splitbar = this.wrapper.find(DOT + ganttStyles.splitBar);\n                this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n                this.treelistWrapper.css('width', options.listWidth);\n                this.timelineWrapper.css('width', this.wrapper.width() - this.treelistWrapper.outerWidth() - this.splitbar.outerWidth());\n            },\n            _toolbar: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var viewsSelector = DOT + ganttStyles.toolbar.views + ' > button';\n                var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n                var pdfSelector = DOT + ganttStyles.toolbar.pdfButton;\n                var toggleSelector = DOT + ganttStyles.buttonToggle;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var splitbar = that.splitbar;\n                var treelist = that.treelistWrapper;\n                var timeline = that.timelineWrapper;\n                var actions = this.options.toolbar;\n                var toolbar;\n                var views;\n                var toggleButton;\n                var mediaQueryHandler = function (e) {\n                    if (e.matches) {\n                        treelist.addClass('k-hidden');\n                        splitbar.addClass('k-hidden');\n                        treelist.width('100%');\n                    } else {\n                        treelist.removeClass('k-hidden');\n                        splitbar.removeClass('k-hidden');\n                        timeline.removeClass('k-hidden');\n                        treelist.width(treelist.outerWidth());\n                        that.refresh();\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\n                    }\n                    that._resize();\n                };\n                if (!isFunction(actions)) {\n                    actions = typeof actions === STRING ? actions : this._actions(actions);\n                    actions = proxy(kendo.template(actions), this);\n                }\n                toggleButton = $(TOGGLE_BUTTON_TEMPLATE({ styles: ganttStyles.toolbar }));\n                views = $(HEADER_VIEWS_TEMPLATE({\n                    ns: kendo.ns,\n                    views: this.timeline.views,\n                    styles: ganttStyles.toolbar\n                }));\n                toolbar = $('<div class=\\'' + ganttStyles.toolbar.headerWrapper + '\\'>').append(toggleButton).append(actions({})).append('<span class=\\'k-spacer k-toolbar-spacer\\' />').append(views);\n                if (views.find('button').length > 1) {\n                    views.prepend(VIEWS_DROPDOWN_TEMPLATE({\n                        ns: kendo.ns,\n                        views: this.timeline.views,\n                        styles: ganttStyles.toolbar\n                    }));\n                }\n                if (this.toggeSwitchWrap) {\n                    this.toggeSwitchWrap.insertBefore(views);\n                }\n                this.wrapper.prepend(toolbar);\n                this.toolbar = toolbar;\n                if (supportsMedia) {\n                    this._mediaQueryHandler = proxy(mediaQueryHandler, this);\n                    this._mediaQuery = window.matchMedia('(max-width: 480px)');\n                    this._mediaQuery.addListener(this._mediaQueryHandler);\n                }\n                toolbar.on('change' + NS, viewsDropdownSelector, function () {\n                    var list = that.list;\n                    var name = $(this).val();\n                    if (list.editable && list.editable.trigger('validate')) {\n                        return;\n                    }\n                    if (!that.trigger('navigate', { view: name })) {\n                        that.view(name);\n                    }\n                    that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                }).on(CLICK + NS, viewsSelector, function (e) {\n                    e.preventDefault();\n                    var list = that.list;\n                    var name = $(this).attr(kendo.attr('name'));\n                    if (list.editor && !list.editor.end()) {\n                        return;\n                    }\n                    if (!that.trigger('navigate', { view: name })) {\n                        that.view(name);\n                    }\n                    that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                }).on('keydown' + NS, viewsSelector, function (e) {\n                    var views = $(DOT + ganttStyles.toolbar.views).children(':not(.k-current-view)');\n                    var focusedViewIndex = views.index(that._focusedView && that._focusedView[0] || views.closest(DOT + ganttStyles.selected)[0]);\n                    if (e.keyCode === keys.RIGHT) {\n                        $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                        that._focusedView = focusedViewIndex + 1 === views.length ? $(views[0]) : $(views[focusedViewIndex + 1]);\n                        that._focusedView.trigger('focus').addClass(ganttStyles.focused);\n                        e.preventDefault();\n                    } else if (e.keyCode === keys.LEFT) {\n                        $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                        that._focusedView = focusedViewIndex === 0 ? $(views[views.length - 1]) : $(views[focusedViewIndex - 1]);\n                        that._focusedView.trigger('focus').addClass(ganttStyles.focused);\n                        e.preventDefault();\n                    } else if ((e.keyCode === keys.ENTER || e.keyCode === keys.SPACEBAR) && that._focusedView) {\n                        that.view(that._focusedView.text().toLowerCase());\n                        e.preventDefault();\n                    } else if (e.keyCode >= 49 && e.keyCode <= 57) {\n                        that.view(that.timeline._viewByIndex(e.keyCode - 49));\n                    }\n                }).on(CLICK + NS, pdfSelector, function (e) {\n                    e.preventDefault();\n                    that.saveAsPDF();\n                }).on(CLICK + NS, toggleSelector, function (e) {\n                    e.preventDefault();\n                    if (treelist.is(':visible')) {\n                        treelist.addClass('k-hidden');\n                        timeline.removeClass('k-hidden');\n                        that.refresh();\n                        timeline.find(contentSelector).scrollTop(that.scrollTop);\n                    } else {\n                        treelist.removeClass('k-hidden');\n                        timeline.addClass('k-hidden');\n                        treelist.find(contentSelector).scrollTop(that.scrollTop);\n                    }\n                    that._resize();\n                });\n                this.wrapper.on('focusout' + NS, function (e) {\n                    if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                        that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused);\n                    }\n                    if (!$(e.relatedTarget).closest(DOT + ganttStyles.toolbar.views).length) {\n                        that.toolbar.find(DOT + ganttStyles.toolbar.views).removeClass(ganttStyles.toolbar.expanded);\n                    }\n                });\n            },\n            _actions: function () {\n                var options = this.options;\n                var editable = options.editable;\n                var actions = options.toolbar;\n                var html = '';\n                var action;\n                if (!isArray(actions)) {\n                    if (editable && editable.create !== false) {\n                        actions = ['append'];\n                    } else {\n                        return html;\n                    }\n                }\n                for (var i = 0, length = actions.length; i < length; i++) {\n                    action = actions[i];\n                    if (action === 'plannedTasks' || action.name === 'plannedTasks') {\n                        this._createPlannedTasksSwitch();\n                        continue;\n                    }\n                    html += this._createButton(action);\n                }\n                return html;\n            },\n            _footer: function () {\n                var editable = this.options.editable;\n                if (!editable || editable.create === false) {\n                    return;\n                }\n                var ganttStyles = Gantt.styles.toolbar;\n                var messages = this.options.messages.actions;\n                var button = $(kendo.template(BUTTON_TEMPLATE)(extend(true, { styles: ganttStyles }, defaultCommands.append, { text: messages.append })));\n                var footer = $('<div class=\\'' + ganttStyles.footerWrapper + '\\'>').append(button);\n                this.wrapper.append(footer);\n                this.footer = footer;\n            },\n            _createButton: function (command) {\n                var template = command.template || BUTTON_TEMPLATE;\n                var messages = this.options.messages.actions;\n                var commandName = typeof command === STRING ? command : command.name || command.text;\n                var className = defaultCommands[commandName] ? defaultCommands[commandName].className : 'k-gantt-' + (commandName || '').replace(/\\s/g, '');\n                var options = {\n                    iconClass: '',\n                    action: '',\n                    text: commandName,\n                    className: className,\n                    styles: Gantt.styles.toolbar\n                };\n                if (!options.className) {\n                    options.className = 'k-button-solid-base';\n                } else if (options.className.indexOf('k-button-solid-primary') === -1) {\n                    options.className += ' k-button-solid-base';\n                }\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n                if (isPlainObject(command)) {\n                    if (command.className && inArray(options.className, command.className.split(' ')) < 0) {\n                        command.className += ' ' + options.className;\n                    }\n                    options = extend(true, options, command);\n                }\n                return kendo.template(template)(options);\n            },\n            _adjustDimensions: function () {\n                var element = this.element;\n                var toolbarHeight = outerHeight(this.toolbar);\n                var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n                var totalHeight = element.height();\n                var totalWidth = element.width();\n                var splitBarWidth = this.splitbar.is(':visible') ? outerWidth(this.splitbar) : 0;\n                var treeListWidth = this.treelistWrapper.is(':visible') ? outerWidth(this.treelistWrapper) : 0;\n                var timelineWidth = totalWidth - (treeListWidth + splitBarWidth);\n                this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n                this.timelineWrapper.width(timelineWidth);\n                if (totalWidth < treeListWidth + splitBarWidth) {\n                    this.treelistWrapper.width(totalWidth - splitBarWidth);\n                }\n            },\n            _scrollTo: function (value) {\n                var view = this.timeline.view();\n                var list = this.list;\n                var attr = kendo.attr('uid');\n                var id = typeof value === 'string' ? value : value.closest('tr' + selector()).attr(attr);\n                var action;\n                var scrollTarget;\n                var scrollIntoView = function () {\n                    if (scrollTarget.length !== 0) {\n                        action();\n                    }\n                };\n                if (view.content.is(':visible')) {\n                    scrollTarget = view.content.find(selector(id));\n                    action = function () {\n                        view._scrollTo(scrollTarget);\n                    };\n                } else {\n                    scrollTarget = list.element.find(selector(id));\n                    action = function () {\n                        scrollTarget.get(0).scrollIntoView();\n                    };\n                }\n                scrollIntoView();\n            },\n            _dropDowns: function () {\n                var that = this;\n                var actionsSelector = DOT + Gantt.styles.toolbar.appendButton;\n                var actionMessages = this.options.messages.actions;\n                var timeline = this.timeline;\n                var editable = this.options.editable;\n                var handler = function (e) {\n                    var type = e.type;\n                    var orderId;\n                    var dataSource = that.dataSource;\n                    var task = dataSource._createNewModel({});\n                    var selected = that.dataItem(that.select());\n                    var parent = dataSource.taskParent(selected);\n                    var firstSlot = timeline.view()._timeSlots()[0];\n                    var target = type === 'add' ? selected : parent;\n                    var editable = that.list.editor;\n                    if (editable && editable.trigger('validate')) {\n                        return;\n                    }\n                    task.set('title', 'New task');\n                    if (target) {\n                        task.set('parentId', target.get('id'));\n                        task.set('start', target.get('start'));\n                        task.set('end', target.get('end'));\n                        task.set('plannedStart', target.get('plannedStart'));\n                        task.set('plannedEnd', target.get('plannedEnd'));\n                    } else {\n                        task.set('start', firstSlot.start);\n                        task.set('end', firstSlot.end);\n                    }\n                    if (type !== 'add') {\n                        orderId = selected.get('orderId');\n                        orderId = type === 'insert-before' ? orderId : orderId + 1;\n                    }\n                    that._createTask(task, orderId);\n                };\n                if (!editable || editable.create === false) {\n                    return;\n                }\n                this.footerDropDown = new kendo.gantt.TaskDropDown(this.footer.children(actionsSelector).eq(0), {\n                    messages: { actions: actionMessages },\n                    direction: 'up',\n                    animation: { open: { effects: 'slideIn:up' } },\n                    navigatable: that.options.navigatable\n                });\n                this.headerDropDown = new kendo.gantt.TaskDropDown(this.toolbar.children(actionsSelector).eq(0), {\n                    messages: { actions: actionMessages },\n                    navigatable: that.options.navigatable\n                });\n                this.footerDropDown.bind('command', handler);\n                this.headerDropDown.bind('command', handler);\n            },\n            _getListEditable: function () {\n                var editable = false, options = this.options;\n                if (options.editable !== false) {\n                    editable = 'incell';\n                    if (options.editable && options.editable.update === false) {\n                        editable = false;\n                    } else {\n                        if (!options.editable || options.editable.reorder !== false) {\n                            editable = {\n                                mode: 'incell',\n                                move: { reorderable: true }\n                            };\n                        }\n                    }\n                }\n                return editable;\n            },\n            _getListOptions: function () {\n                var options = this.options, editable = this._getListEditable(), listWrapper = this.wrapper.find(DOT + ganttStyles.list), ganttListOptions = {\n                        columns: options.columns || [],\n                        dataSource: this.dataSource,\n                        selectable: options.selectable,\n                        reorderable: options.reorderable,\n                        editable: editable,\n                        resizable: options.resizable,\n                        filterable: options.filterable,\n                        columnMenu: options.columnMenu,\n                        columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                        listWidth: outerWidth(listWrapper),\n                        resourcesField: this.resources.field,\n                        rowHeight: this.options.rowHeight\n                    };\n                return ganttListOptions;\n            },\n            _attachResourceEditor: function (columns) {\n                var column;\n                for (var i = 0; i < columns.length; i++) {\n                    column = columns[i];\n                    if (column.field === this.resources.field && typeof column.editor !== 'function') {\n                        column.editor = proxy(this._createResourceEditor, this);\n                    }\n                }\n            },\n            _attachListEvents: function () {\n                var that = this, navigatable = that.options.navigatable, toggleButtons = this.wrapper.find(DOT + ganttStyles.toolbar.toolbar + ' ' + DOT + ganttStyles.toolbar.appendButton), restoreFocus = function () {\n                        var element;\n                        if (navigatable && that._cachedCurrent) {\n                            element = that.list.content.find('tr').eq(that._cachedCurrent.rowIndex).find('td').eq(that._cachedCurrent.columnIndex);\n                            that._current(element);\n                            focusTable(that.list.content.find('table'), true);\n                        }\n                        delete that._cachedCurrent;\n                    };\n                that.list.bind('columnShow', function (e) {\n                    that.trigger('columnShow', { column: e.column });\n                }).bind('columnHide', function (e) {\n                    that.trigger('columnHide', { column: e.column });\n                }).bind('columnReorder', function (e) {\n                    that.trigger('columnReorder', {\n                        column: e.column,\n                        oldIndex: e.oldIndex,\n                        newIndex: e.newIndex\n                    });\n                }).bind('columnResize', function (e) {\n                    that.trigger('columnResize', {\n                        column: e.column,\n                        oldWidth: e.oldWidth,\n                        newWidth: e.newWidth\n                    });\n                }).bind('render', function () {\n                    that._navigatable();\n                }, true).bind('beforeEdit', function (e) {\n                    that._cachedCurrent = {\n                        rowIndex: e.container.closest('tr').index(),\n                        columnIndex: e.container.index()\n                    };\n                    if (that.trigger('edit', {\n                            task: e.model,\n                            container: e.container\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('cancel', function (e) {\n                    if (that.trigger('cancel', {\n                            task: e.model,\n                            container: e.cell\n                        })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    that._preventItemChange = true;\n                    that.list.closeCell(true);\n                    restoreFocus();\n                }).bind('save', function (e) {\n                    var updatedValues = e.values;\n                    that._preventRefresh = true;\n                    if (that.updateDuration === null || that.updateDuration === undefined) {\n                        that.updateDuration = e.model.duration();\n                    }\n                    if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined) {\n                        that.updatePlannedDuration = e.model.plannedDuration();\n                    }\n                    if (updatedValues.hasOwnProperty('start')) {\n                        that.previousStart = e.model.get('start');\n                        updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                    }\n                    if (updatedValues.hasOwnProperty('plannedStart') && updatedValues.plannedStart) {\n                        that.previousPlannedStart = e.model.get('plannedStart');\n                        updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                    }\n                    that.updatedValues = updatedValues;\n                }).bind('itemChange', function (e) {\n                    var updateInfo = that.updatedValues;\n                    var task = e.data;\n                    var resourcesField = that.resources.field;\n                    if (that._preventItemChange) {\n                        that._preventItemChange = false;\n                        return;\n                    }\n                    if (that.previousStart) {\n                        task.set('start', that.previousStart);\n                        that.previousStart = null;\n                    }\n                    if (that.previousPlannedStart) {\n                        task.set('plannedStart', that.previousPlannedStart);\n                        that.previousPlannedStart = null;\n                    }\n                    if (!that.trigger('save', {\n                            task: task,\n                            values: updateInfo\n                        })) {\n                        if (updateInfo) {\n                            that._preventRefresh = true;\n                            that.dataSource.update(task, updateInfo);\n                            if (updateInfo[resourcesField]) {\n                                that._updateAssignments(task.get('id'), updateInfo[resourcesField]);\n                            }\n                        }\n                        that._preventRefresh = false;\n                        that._requestStart();\n                        that.dataSource.sync().then(function () {\n                            restoreFocus();\n                        });\n                    } else if (that.dataSource.hasChanges()) {\n                        that.dataSource.cancelChanges();\n                        that._preventRefresh = false;\n                        that.refresh();\n                    }\n                    that.updatedValues = null;\n                    that.updateDuration = null;\n                }).bind('change', function () {\n                    that.trigger('change');\n                    var selection = that.list.select();\n                    if (selection.length) {\n                        toggleButtons.removeAttr('data-action', 'add');\n                        that.timeline.select('[data-uid=\\'' + selection.attr('data-uid') + '\\']');\n                    } else {\n                        toggleButtons.attr('data-action', 'add');\n                        that.timeline.clearSelection();\n                    }\n                }).bind('collapse', function (e) {\n                    e.preventDefault();\n                    var row = that.list.element.find('tr[data-uid=\\'' + e.model.uid + '\\']');\n                    e.model.set('expanded', false);\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find('.k-state-focused').index()\n                    };\n                    restoreFocus();\n                }).bind('expand', function (e) {\n                    e.preventDefault();\n                    var row = that.list.element.find('tr[data-uid=\\'' + e.model.uid + '\\']');\n                    e.model.set('expanded', true);\n                    that._cachedCurrent = {\n                        rowIndex: row.index(),\n                        columnIndex: row.find('.k-state-focused').index()\n                    };\n                    restoreFocus();\n                }).bind('dragend', function (e) {\n                    var dataSource = that.dataSource, task, updateInfo;\n                    if (e.position === 'over') {\n                        dataSource.cancelChanges();\n                        updateInfo = { parentId: e.source.parentId };\n                        task = dataSource.get(e.source.id);\n                        if (!that.trigger('save', {\n                                task: task,\n                                values: updateInfo\n                            })) {\n                            dataSource.update(task, updateInfo);\n                        }\n                        dataSource.sync();\n                    }\n                }).bind('dataBound', function () {\n                    if (that.dataSource.sort().length === 0) {\n                        that.dataSource.sort([{\n                                field: 'orderId',\n                                dir: 'asc'\n                            }]);\n                    }\n                }).bind('reorder', function (e) {\n                    that._updateTask(e.task, e.updateInfo);\n                    restoreFocus();\n                });\n            },\n            _list: function () {\n                var ganttStyles = Gantt.styles, listWrapper = this.wrapper.find(DOT + ganttStyles.list), listElement = listWrapper.find('> div'), listOptions = this._getListOptions();\n                this._attachResourceEditor(listOptions.columns);\n                this.list = new kendo.ui.GanttList(listElement, listOptions);\n                this._attachListEvents();\n            },\n            _timeline: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n                var element = this.wrapper.find(DOT + ganttStyles.timeline + ' > div');\n                this.timeline = new kendo.ui.GanttTimeline(element, options);\n                this.timeline.bind('navigate', function (e) {\n                    var viewName = e.view.replace(/\\./g, '\\\\.').toLowerCase();\n                    that.toolbar.find(DOT + ganttStyles.toolbar.views + ' > button').removeClass(ganttStyles.selected).end().find(DOT + ganttStyles.toolbar.viewButton + '-' + viewName).addClass(ganttStyles.selected);\n                    that.toolbar.find(DOT + ganttStyles.toolbar.viewsDropdown).val(e.view);\n                    that.refresh();\n                }).bind('moveStart', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (that.trigger('moveStart', { task: e.task })) {\n                        e.preventDefault();\n                    }\n                }).bind('move', function (e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n                    if (that.trigger('move', {\n                            task: task,\n                            start: start,\n                            end: end\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('moveEnd', function (e) {\n                    var task = e.task;\n                    var start = e.start;\n                    var end = new Date(start.getTime() + task.duration());\n                    if (!that.trigger('moveEnd', {\n                            task: task,\n                            start: start,\n                            end: end\n                        })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), {\n                            start: start,\n                            end: end\n                        });\n                    }\n                }).bind('resizeStart', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                        return;\n                    }\n                    if (that.trigger('resizeStart', { task: e.task })) {\n                        e.preventDefault();\n                    }\n                }).bind('resize', function (e) {\n                    if (that.trigger('resize', {\n                            task: e.task,\n                            start: e.start,\n                            end: e.end\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('resizeEnd', function (e) {\n                    var task = e.task;\n                    var updateInfo = {};\n                    if (e.resizeStart) {\n                        updateInfo.start = e.start;\n                    } else {\n                        updateInfo.end = e.end;\n                    }\n                    if (!that.trigger('resizeEnd', {\n                            task: task,\n                            start: e.start,\n                            end: e.end\n                        })) {\n                        that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                    }\n                }).bind('percentResizeStart', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                }).bind('percentResizeEnd', function (e) {\n                    that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                }).bind('dependencyDragStart', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        e.preventDefault();\n                    }\n                }).bind('dependencyDragEnd', function (e) {\n                    var dependency = that.dependencies._createNewModel({\n                        type: e.type,\n                        predecessorId: e.predecessor.id,\n                        successorId: e.successor.id\n                    });\n                    that._createDependency(dependency);\n                }).bind('select', function (e) {\n                    var editable = that.list.editor;\n                    if (editable) {\n                        editable.end();\n                    }\n                    that.select('[data-uid=\\'' + e.uid + '\\']');\n                }).bind('editTask', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n                    that.editTask(e.uid);\n                }).bind('clear', function () {\n                    that.clearSelection();\n                }).bind('removeTask', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n                    that.removeTask(that.dataSource.getByUid(e.uid));\n                }).bind('removeDependency', function (e) {\n                    var editable = that.list.editor;\n                    if (editable && !editable.end()) {\n                        return;\n                    }\n                    that.removeDependency(that.dependencies.getByUid(e.uid));\n                });\n            },\n            _dataSource: function () {\n                var options = this.options;\n                var dataSource = options.dataSource;\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (this.dataSource && this._refreshHandler) {\n                    this.dataSource.unbind('change', this._refreshHandler).unbind('progress', this._progressHandler).unbind('error', this._errorHandler);\n                } else {\n                    this._refreshHandler = proxy(this.refresh, this);\n                    this._progressHandler = proxy(this._requestStart, this);\n                    this._errorHandler = proxy(this._error, this);\n                }\n                this.dataSource = kendo.data.GanttDataSource.create(dataSource).bind('change', this._refreshHandler).bind('progress', this._progressHandler).bind('error', this._errorHandler);\n            },\n            _dependencies: function () {\n                var dependencies = this.options.dependencies || {};\n                var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n                if (this.dependencies && this._dependencyRefreshHandler) {\n                    this.dependencies.unbind('change', this._dependencyRefreshHandler).unbind('error', this._dependencyErrorHandler);\n                } else {\n                    this._dependencyRefreshHandler = proxy(this.refreshDependencies, this);\n                    this._dependencyErrorHandler = proxy(this._error, this);\n                }\n                this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource).bind('change', this._dependencyRefreshHandler).bind('error', this._dependencyErrorHandler);\n            },\n            _resources: function () {\n                var resources = this.options.resources;\n                var dataSource = resources.dataSource || {};\n                this.resources = {\n                    field: 'resources',\n                    dataTextField: 'name',\n                    dataColorField: 'color',\n                    dataFormatField: 'format'\n                };\n                extend(this.resources, resources);\n                this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n            },\n            _assignments: function () {\n                var assignments = this.options.assignments;\n                var dataSource = assignments.dataSource || {};\n                if (this.assignments) {\n                    this.assignments.dataSource.unbind('change', this._assignmentsRefreshHandler);\n                } else {\n                    this._assignmentsRefreshHandler = proxy(this.refresh, this);\n                }\n                this.assignments = {\n                    dataTaskIdField: 'taskId',\n                    dataResourceIdField: 'resourceId',\n                    dataValueField: 'value'\n                };\n                extend(this.assignments, assignments);\n                this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n                this.assignments.dataSource.bind('change', this._assignmentsRefreshHandler);\n            },\n            _createEditor: function () {\n                var that = this;\n                var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                    target: this,\n                    resources: {\n                        field: this.resources.field,\n                        editor: proxy(this._createResourceEditor, this)\n                    },\n                    createButton: proxy(this._createPopupButton, this)\n                }));\n                editor.bind('cancel', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    if (that.trigger('cancel', {\n                            container: e.container,\n                            task: task\n                        })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    that.cancelTask();\n                }).bind('edit', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    if (that.trigger('edit', {\n                            container: e.container,\n                            task: task\n                        })) {\n                        e.preventDefault();\n                    }\n                }).bind('save', function (e) {\n                    var task = that.dataSource.getByUid(e.model.uid);\n                    that.saveTask(task, e.updateInfo);\n                }).bind('remove', function (e) {\n                    that.removeTask(e.model.uid);\n                }).bind('close', that._onDialogClose);\n            },\n            _onDialogClose: function () {\n            },\n            _createResourceEditor: function (container, options) {\n                var that = this;\n                var model = options instanceof ObservableObject ? options : options.model;\n                var id = model.get('id');\n                var messages = this.options.messages;\n                var resourcesField = this.resources.field;\n                var unitsValidation = { step: 0.01 };\n                var assignmentsModel = this.assignments.dataSource.options.schema.model;\n                if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                    extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n                }\n                var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                    resourcesField: resourcesField,\n                    unitsValidation: unitsValidation,\n                    data: this._wrapResourceData(id),\n                    model: model,\n                    messages: extend({}, messages.editor),\n                    buttons: [\n                        {\n                            name: 'update',\n                            text: messages.save,\n                            className: Gantt.styles.primary\n                        },\n                        {\n                            name: 'cancel',\n                            text: messages.cancel\n                        }\n                    ],\n                    createButton: proxy(this._createPopupButton, this),\n                    save: function (e) {\n                        that._updateAssignments(e.model.get('id'), e.model.get(resourcesField));\n                    }\n                });\n                editor.open();\n            },\n            _createPopupButton: function (command) {\n                var commandName = command.name || command.text;\n                var options = {\n                    className: Gantt.styles.popup.button + ' ' + Gantt.styles.buttonDefaults + ' k-gantt-' + (commandName || '').replace(/\\s/g, ''),\n                    text: commandName,\n                    attr: ''\n                };\n                if (!commandName && !(isPlainObject(command) && command.template)) {\n                    throw new Error('Custom commands should have name specified');\n                }\n                if (isPlainObject(command)) {\n                    if (command.className) {\n                        command.className += ' ' + options.className;\n                    }\n                    options = extend(true, options, command);\n                }\n                if (!options.className) {\n                    options.className = 'k-button-solid-base';\n                } else if (options.className.indexOf('k-button-solid-primary') === -1) {\n                    options.className += ' k-button-solid-base';\n                }\n                return kendo.template(COMMAND_BUTTON_TEMPLATE)(options);\n            },\n            view: function (type) {\n                return this.timeline.view(type);\n            },\n            range: function (range) {\n                var dataSource = this.dataSource;\n                var view = this.view();\n                var timeline = this.timeline;\n                if (range) {\n                    view.options.range = {\n                        start: range.start,\n                        end: range.end\n                    };\n                    timeline._render(dataSource.taskTree());\n                    timeline._renderDependencies(this.dependencies.view());\n                }\n                return {\n                    start: view.start,\n                    end: view.end\n                };\n            },\n            date: function (date) {\n                var view = this.view();\n                if (date) {\n                    view.options.date = date;\n                    view._scrollToDate(date);\n                }\n                return view.options.date;\n            },\n            dataItem: function (value) {\n                if (!value) {\n                    return null;\n                }\n                var list = this.list;\n                var element = list.element.find(value);\n                return list._modelFromElement(element);\n            },\n            setDataSource: function (dataSource) {\n                this.options.dataSource = dataSource;\n                this._dataSource();\n                this.list.setDataSource(this.dataSource);\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n            setDependenciesDataSource: function (dependencies) {\n                this.options.dependencies = dependencies;\n                this._dependencies();\n                if (this.options.autoBind) {\n                    dependencies.fetch();\n                }\n            },\n            items: function () {\n                return this.wrapper.children('.k-task');\n            },\n            _updateAssignments: function (id, resources) {\n                var dataSource = this.assignments.dataSource;\n                var taskId = this.assignments.dataTaskIdField;\n                var resourceId = this.assignments.dataResourceIdField;\n                var hasMatch = false;\n                var assignments = new Query(dataSource.view()).filter({\n                    field: taskId,\n                    operator: 'eq',\n                    value: id\n                }).toArray();\n                var assignment;\n                var resource;\n                var value;\n                while (assignments.length) {\n                    assignment = assignments[0];\n                    for (var i = 0, length = resources.length; i < length; i++) {\n                        resource = resources[i];\n                        if (assignment.get(resourceId) === resource.get('id')) {\n                            value = resources[i].get('value');\n                            this._updateAssignment(assignment, value);\n                            resources.splice(i, 1);\n                            hasMatch = true;\n                            break;\n                        }\n                    }\n                    if (!hasMatch) {\n                        this._removeAssignment(assignment);\n                    }\n                    hasMatch = false;\n                    assignments.shift();\n                }\n                for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                    resource = resources[j];\n                    this._createAssignment(resource, id);\n                }\n                dataSource.sync();\n            },\n            cancelTask: function () {\n                var editor = this._editor;\n                var container = editor.container;\n                if (container) {\n                    editor.close();\n                }\n            },\n            editTask: function (uid) {\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\n                if (!task) {\n                    return;\n                }\n                var taskCopy = this.dataSource._createNewModel(task.toJSON());\n                taskCopy.uid = task.uid;\n                this.cancelTask();\n                this._editTask(taskCopy);\n            },\n            _editTask: function (task) {\n                this._editor.editTask(task, this.options.editable.plannedTasks);\n            },\n            saveTask: function (task, updateInfo) {\n                var editor = this._editor;\n                var container = editor.container;\n                var editable = editor.editable;\n                if (container && editable && editable.end()) {\n                    this._updateTask(task, updateInfo);\n                }\n            },\n            _updateTask: function (task, updateInfo) {\n                var that = this;\n                var resourcesField = that.resources.field;\n                if (!that.trigger('save', {\n                        task: task,\n                        values: updateInfo\n                    })) {\n                    if (updateInfo) {\n                        that._preventRefresh = true;\n                        that.dataSource.update(task, updateInfo);\n                        if (updateInfo[resourcesField]) {\n                            that._updateAssignments(task.get('id'), updateInfo[resourcesField]);\n                        }\n                    }\n                    that._syncDataSource();\n                } else if (that.dataSource.hasChanges()) {\n                    that.dataSource.cancelChanges();\n                    that._preventRefresh = false;\n                    that.refresh();\n                }\n            },\n            _updateAssignment: function (assignment, value) {\n                var resourceValueField = this.assignments.dataValueField;\n                assignment.set(resourceValueField, value);\n            },\n            removeTask: function (uid) {\n                var that = this;\n                var task = typeof uid === 'string' ? this.dataSource.getByUid(uid) : uid;\n                if (!task) {\n                    return;\n                }\n                this._taskConfirm(function (cancel) {\n                    if (!cancel) {\n                        that._removeTask(task);\n                    }\n                }, task);\n            },\n            _createTask: function (task, index) {\n                if (!this.trigger('add', {\n                        task: task,\n                        dependency: null\n                    })) {\n                    var dataSource = this.dataSource;\n                    this._preventRefresh = true;\n                    if (index === undefined) {\n                        dataSource.add(task);\n                    } else {\n                        dataSource.insert(index, task);\n                    }\n                    this._scrollToUid = task.uid;\n                    this._syncDataSource();\n                }\n            },\n            _createDependency: function (dependency) {\n                if (!this.trigger('add', {\n                        task: null,\n                        dependency: dependency\n                    })) {\n                    this._preventDependencyRefresh = true;\n                    this.dependencies.add(dependency);\n                    this._preventDependencyRefresh = false;\n                    this.dependencies.sync();\n                }\n            },\n            _createAssignment: function (resource, id) {\n                var assignments = this.assignments;\n                var dataSource = assignments.dataSource;\n                var taskId = assignments.dataTaskIdField;\n                var resourceId = assignments.dataResourceIdField;\n                var resourceValue = assignments.dataValueField;\n                var assignment = dataSource._createNewModel();\n                assignment[taskId] = id;\n                assignment[resourceId] = resource.get('id');\n                assignment[resourceValue] = resource.get('value');\n                dataSource.add(assignment);\n            },\n            removeDependency: function (uid) {\n                var that = this;\n                var dependency = typeof uid === 'string' ? this.dependencies.getByUid(uid) : uid;\n                if (!dependency) {\n                    return;\n                }\n                this._dependencyConfirm(function (cancel) {\n                    if (!cancel) {\n                        that._removeDependency(dependency);\n                    }\n                }, dependency);\n            },\n            _removeTaskDependencies: function (task, dependencies) {\n                this._preventDependencyRefresh = true;\n                for (var i = 0, length = dependencies.length; i < length; i++) {\n                    this.dependencies.remove(dependencies[i]);\n                }\n                this._preventDependencyRefresh = false;\n                this.dependencies.sync();\n            },\n            _removeTaskAssignments: function (task) {\n                var dataSource = this.assignments.dataSource;\n                var assignments = dataSource.view();\n                var filter = {\n                    field: this.assignments.dataTaskIdField,\n                    operator: 'eq',\n                    value: task.get('id')\n                };\n                assignments = new Query(assignments).filter(filter).toArray();\n                this._preventRefresh = true;\n                for (var i = 0, length = assignments.length; i < length; i++) {\n                    dataSource.remove(assignments[i]);\n                }\n                this._preventRefresh = false;\n                dataSource.sync();\n            },\n            _removeTask: function (task) {\n                var dependencies = this.dependencies.dependencies(task.id);\n                if (!this.trigger('remove', {\n                        task: task,\n                        dependencies: dependencies\n                    })) {\n                    this._removeTaskDependencies(task, dependencies);\n                    this._removeTaskAssignments(task);\n                    this._preventRefresh = true;\n                    if (this.dataSource.remove(task)) {\n                        this._syncDataSource();\n                    }\n                    this._preventRefresh = false;\n                }\n            },\n            _removeDependency: function (dependency) {\n                if (!this.trigger('remove', {\n                        task: null,\n                        dependencies: [dependency]\n                    })) {\n                    if (this.dependencies.remove(dependency)) {\n                        this.dependencies.sync();\n                    }\n                }\n            },\n            _removeAssignment: function (assignment) {\n                this.assignments.dataSource.remove(assignment);\n            },\n            _taskConfirm: function (callback, task) {\n                var messages = this.options.messages;\n                this._confirm(callback, {\n                    model: task,\n                    text: messages.deleteTaskConfirmation,\n                    title: messages.deleteTaskWindowTitle\n                });\n            },\n            _dependencyConfirm: function (callback, dependency) {\n                var messages = this.options.messages;\n                this._confirm(callback, {\n                    model: dependency,\n                    text: messages.deleteDependencyConfirmation,\n                    title: messages.deleteDependencyWindowTitle\n                });\n            },\n            _confirm: function (callback, options) {\n                var editable = this.options.editable;\n                var messages;\n                var buttons;\n                if (editable === true || editable.confirmation !== false) {\n                    messages = this.options.messages;\n                    buttons = [\n                        {\n                            name: 'delete',\n                            text: messages.destroy,\n                            className: Gantt.styles.primary,\n                            click: function () {\n                                callback();\n                            }\n                        },\n                        {\n                            name: 'cancel',\n                            text: messages.cancel,\n                            click: function () {\n                                callback(true);\n                            }\n                        }\n                    ];\n                    this.showDialog(extend(true, {}, options, { buttons: buttons }));\n                } else {\n                    callback();\n                }\n            },\n            showDialog: function (options) {\n                this._editor.showDialog(options);\n            },\n            refresh: function () {\n                if (this._preventRefresh || !this.list || this.list.editor) {\n                    return;\n                }\n                this._progress(false);\n                var dataSource = this.dataSource;\n                var taskTree = dataSource.taskTree();\n                var scrollToUid = this._scrollToUid;\n                var current;\n                var cachedUid;\n                var cachedIndex = -1;\n                if (this.current) {\n                    cachedUid = this.current.closest('tr').attr(kendo.attr('uid'));\n                    cachedIndex = this.current.index();\n                }\n                if (this.trigger('dataBinding')) {\n                    return;\n                }\n                if (this.resources.dataSource.data().length !== 0) {\n                    this._assignResources(taskTree);\n                }\n                if (this._editor) {\n                    this._editor.close();\n                }\n                this.clearSelection();\n                this.list._renderTree(taskTree);\n                this.timeline._render(taskTree);\n                this.timeline._renderDependencies(this.dependencies.view());\n                if (scrollToUid) {\n                    this._scrollTo(scrollToUid);\n                    this.select(selector(scrollToUid));\n                }\n                if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                    current = this.list.element.find('tr' + selector(scrollToUid || cachedUid) + ' > td').eq(cachedIndex);\n                    this._current(current);\n                }\n                this._scrollToUid = null;\n                this.trigger('dataBound');\n            },\n            refreshDependencies: function () {\n                if (this._preventDependencyRefresh) {\n                    return;\n                }\n                if (this.trigger('dataBinding')) {\n                    return;\n                }\n                this.timeline._renderDependencies(this.dependencies.view());\n                this.trigger('dataBound');\n            },\n            _assignResources: function (taskTree) {\n                var resources = this.resources;\n                var assignments = this.assignments;\n                var groupAssigments = function () {\n                    var data = assignments.dataSource.view();\n                    var group = { field: assignments.dataTaskIdField };\n                    data = new Query(data).group(group).toArray();\n                    return data;\n                };\n                var assigments = groupAssigments();\n                var applyTaskResource = function (task, action) {\n                    var taskId = task.get('id');\n                    kendo.setter(resources.field)(task, new ObservableArray([]));\n                    for (var i = 0, length = assigments.length; i < length; i++) {\n                        if (assigments[i].value === taskId) {\n                            action(task, assigments[i].items);\n                        }\n                    }\n                };\n                var wrapTask = function (task, items) {\n                    for (var j = 0, length = items.length; j < length; j++) {\n                        var item = items[j];\n                        var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                        var resourceValue = item.get(assignments.dataValueField);\n                        var resourcedId = item.get(assignments.dataResourceIdField);\n                        var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                        var formatedValue = kendo.toString(resourceValue, valueFormat);\n                        task[resources.field].push(new ObservableObject({\n                            id: resourcedId,\n                            name: resource.get(resources.dataTextField),\n                            color: resource.get(resources.dataColorField),\n                            value: resourceValue,\n                            formatedValue: formatedValue\n                        }));\n                    }\n                };\n                for (var i = 0, length = taskTree.length; i < length; i++) {\n                    applyTaskResource(taskTree[i], wrapTask);\n                }\n            },\n            _wrapResourceData: function (id) {\n                var that = this;\n                var result = [];\n                var resource;\n                var resources = this.resources.dataSource.view();\n                var assignments = this.assignments.dataSource.view();\n                var taskAssignments = new Query(assignments).filter({\n                    field: that.assignments.dataTaskIdField,\n                    operator: 'eq',\n                    value: id\n                }).toArray();\n                var valuePerResource = function (id) {\n                    var resourceValue = null;\n                    new Query(taskAssignments).filter({\n                        field: that.assignments.dataResourceIdField,\n                        operator: 'eq',\n                        value: id\n                    }).select(function (assignment) {\n                        resourceValue += assignment.get(that.assignments.dataValueField);\n                    });\n                    return resourceValue;\n                };\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n                    result.push({\n                        id: resource.get('id'),\n                        name: resource.get(that.resources.dataTextField),\n                        format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                        value: valuePerResource(resource.id)\n                    });\n                }\n                return result;\n            },\n            _syncDataSource: function () {\n                this._preventRefresh = false;\n                this._requestStart();\n                this.dataSource.sync();\n            },\n            _requestStart: function () {\n                this._progress(true);\n            },\n            _error: function () {\n                this._progress(false);\n            },\n            _progress: function (toggle) {\n                kendo.ui.progress(this.element, toggle);\n            },\n            _resizable: function () {\n                var that = this;\n                var wrapper = this.wrapper;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var treeListWrapper = wrapper.find(DOT + ganttStyles.list);\n                var timelineWrapper = wrapper.find(DOT + ganttStyles.timeline);\n                var treeListWidth;\n                var timelineWidth;\n                var timelineScroll;\n                this._resizeDraggable = wrapper.find(DOT + ganttStyles.splitBar).height(treeListWrapper.height()).hover(function () {\n                    $(this).addClass(ganttStyles.splitBarHover);\n                }, function () {\n                    $(this).removeClass(ganttStyles.splitBarHover);\n                }).end().kendoResizable({\n                    orientation: 'horizontal',\n                    handle: DOT + ganttStyles.splitBar,\n                    'start': function () {\n                        treeListWidth = treeListWrapper.width();\n                        timelineWidth = timelineWrapper.width();\n                        timelineScroll = kendo.scrollLeft(timelineWrapper.find(contentSelector));\n                    },\n                    'resize': function (e) {\n                        var delta = e.x.initialDelta;\n                        if (kendo.support.isRtl(wrapper)) {\n                            delta *= -1;\n                        }\n                        if (treeListWidth + delta < 0 || timelineWidth - delta < 0) {\n                            return;\n                        }\n                        treeListWrapper.width(treeListWidth + delta);\n                        timelineWrapper.width(timelineWidth - delta);\n                        kendo.scrollLeft(timelineWrapper.find(contentSelector), timelineScroll + delta);\n                        that.timeline.view()._renderCurrentTime();\n                    }\n                }).data('kendoResizable');\n            },\n            _scrollable: function () {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n                var timelineHeader = this.timeline.element.find(headerSelector);\n                var timelineContent = this.timeline.element.find(contentSelector);\n                var treeListHeader = this.list.element.find(headerSelector);\n                var treeListContent = this.list.element.find(contentSelector);\n                if (mobileOS) {\n                    treeListContent.css('overflow-y', 'auto');\n                }\n                timelineContent.on('scroll', function () {\n                    that.scrollTop = this.scrollTop;\n                    kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                    treeListContent.scrollTop(this.scrollTop);\n                });\n                treeListContent.on('scroll', function () {\n                    kendo.scrollLeft(treeListHeader, this.scrollLeft);\n                }).on('DOMMouseScroll' + NS + ' mousewheel' + NS, function (e) {\n                    var scrollTop = timelineContent.scrollTop();\n                    var delta = kendo.wheelDeltaY(e);\n                    if (delta) {\n                        e.preventDefault();\n                        $(e.currentTarget).one('wheel' + NS, false);\n                        timelineContent.scrollTop(scrollTop + -delta);\n                    }\n                });\n            },\n            _navigatable: function () {\n                var that = this;\n                var navigatable = this.options.navigatable;\n                var editable = this.options.editable;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n                var headerTable = this.list.element.find(headerSelector).find('table');\n                var contentTable = this.list.element.find(contentSelector).find('table');\n                var isRtl = kendo.support.isRtl(this.wrapper);\n                var timelineContent = this.timeline.element.find(DOT + ganttStyles.gridContent);\n                var tables = headerTable.add(contentTable);\n                var attr = selector();\n                var cellIndex;\n                var expandState = {\n                    collapse: false,\n                    expand: true\n                };\n                var scroll = function (reverse) {\n                    var width = that.timeline.view()._timeSlots()[0].offsetWidth;\n                    kendo.scrollLeft(timelineContent, kendo.scrollLeft(timelineContent) + (reverse ? -width : width));\n                };\n                var scrollVertical = function (reverse) {\n                    var height = that.timeline.view()._rowHeight;\n                    timelineContent.scrollTop(timelineContent.scrollTop() + (reverse ? -height : height));\n                };\n                var moveVertical = function (method) {\n                    var parent = that.current.parent('tr' + selector());\n                    var index = that.current.index();\n                    var sibling = parent[method]('tr:visible').first();\n                    if (that.select().length !== 0) {\n                        that.clearSelection();\n                    }\n                    if (sibling.length !== 0) {\n                        that._current(sibling.children('td').eq(index));\n                        that._scrollTo(that.current);\n                    } else {\n                        if (that.current.is('td') && method == 'prevAll') {\n                            focusTable(headerTable);\n                        } else if (that.current.is('th') && method == 'nextAll') {\n                            focusTable(contentTable);\n                        }\n                    }\n                };\n                var moveHorizontal = function (method) {\n                    var subling = that.current[method]();\n                    if (subling.length !== 0) {\n                        that._current(subling);\n                        cellIndex = that.current.index();\n                    }\n                };\n                var toggleExpandedState = function (value) {\n                    var model = that.dataItem(that.current);\n                    if (model.summary && model.expanded !== value) {\n                        model.set('expanded', value);\n                    }\n                };\n                var deleteAction = function () {\n                    var editable = that.options.editable;\n                    if (!editable || editable.destroy === false || that.list.editor) {\n                        return;\n                    }\n                    var selectedTask = that.select();\n                    var uid = kendo.attr('uid');\n                    if (selectedTask.length) {\n                        that.removeTask(selectedTask.attr(uid));\n                    }\n                };\n                $(this.wrapper).on('mousedown' + NS, 'tr' + attr + ', div' + attr + ':not(' + DOT + ganttStyles.line + ')', function (e) {\n                    var currentTarget = $(e.currentTarget);\n                    var isInput = $(e.target).is(':button,a,:input,a>.k-icon,textarea,span.k-icon:not(.k-i-none),span.k-link,.k-input,.k-multiselect-wrap');\n                    var current;\n                    if (e.ctrlKey) {\n                        return;\n                    }\n                    if (navigatable) {\n                        if (currentTarget.is('tr')) {\n                            current = $(e.target).closest('td');\n                        } else {\n                            current = that.list.content.find('tr' + selector(currentTarget.attr(kendo.attr('uid'))) + ' > td').first();\n                        }\n                        that._current(current);\n                    }\n                    if ((navigatable || editable) && !isInput) {\n                        that._focusTimeout = setTimeout(function () {\n                            focusTable(that.list.content.find('table'), true);\n                        }, 2);\n                    }\n                }).on('keydown' + NS, function (e) {\n                    var key = e.keyCode;\n                    var that = this;\n                    var focusableItems = $(that._getToolbarItems());\n                    var idx = focusableItems.index(that.toolbar.find(DOT + ganttStyles.focused)[0]);\n                    if (idx === -1 && $(e.target).closest(DOT + ganttStyles.toolbar.views).length) {\n                        idx = focusableItems.index(that.toolbar.find('.k-gantt-views > .k-selected:visible, .k-views-dropdown:visible')[0]);\n                    }\n                    var itemToFocus = e.shiftKey ? focusableItems[idx - 1] : focusableItems[idx + 1];\n                    if (key === keys.F10) {\n                        that.toolbar.find('.k-button:visible').first().addClass(ganttStyles.focused).trigger('focus');\n                        e.preventDefault();\n                    } else if (key == keys.TAB && $(e.target).closest(DOT + ganttStyles.toolbar.toolbar).length) {\n                        that.toolbar.find(DOT + ganttStyles.focused).removeClass(ganttStyles.focused).trigger('blur');\n                        if (itemToFocus) {\n                            $(itemToFocus).addClass(ganttStyles.focused).trigger('focus');\n                            e.preventDefault();\n                            return;\n                        }\n                        if (this.list.element.is(':visible')) {\n                            this.list.element.find('table[role=treegrid]').trigger('focus');\n                        } else {\n                            this.element.find(DOT + ganttStyles.tasks)[0].focus();\n                        }\n                        e.preventDefault();\n                    }\n                }.bind(this));\n                if (navigatable !== true) {\n                    contentTable.on('keydown' + NS, function (e) {\n                        if (e.keyCode == keys.DELETE) {\n                            deleteAction();\n                        }\n                    });\n                    return;\n                }\n                tables.on('focus' + NS, function () {\n                    var selector = this === contentTable.get(0) ? 'td' : 'th';\n                    var selection = that.select();\n                    var current = that.current || $(selection.length ? selection : this).find(selector).eq(cellIndex || 0);\n                    that._current(current);\n                    $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                }).on('blur' + NS, function () {\n                    that._current();\n                    if (this == headerTable) {\n                        $(this).attr(TABINDEX, -1);\n                    }\n                }).on('keydown' + NS, function (e) {\n                    var key = e.keyCode;\n                    var isCell;\n                    if (!that.current) {\n                        return;\n                    }\n                    isCell = that.current.is('td');\n                    switch (key) {\n                    case keys.RIGHT:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scroll();\n                        } else if (e.ctrlKey) {\n                            toggleExpandedState(isRtl ? expandState.collapse : expandState.expand);\n                        } else {\n                            moveHorizontal(isRtl ? 'prev' : 'next');\n                        }\n                        break;\n                    case keys.LEFT:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scroll(true);\n                        } else if (e.ctrlKey) {\n                            toggleExpandedState(isRtl ? expandState.expand : expandState.collapse);\n                        } else {\n                            moveHorizontal(isRtl ? 'next' : 'prev');\n                        }\n                        break;\n                    case keys.UP:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scrollVertical(true);\n                        } else {\n                            moveVertical('prevAll');\n                        }\n                        break;\n                    case keys.DOWN:\n                        e.preventDefault();\n                        if (e.altKey) {\n                            scrollVertical();\n                        } else {\n                            moveVertical('nextAll');\n                        }\n                        break;\n                    case keys.SPACEBAR:\n                        e.preventDefault();\n                        if (isCell) {\n                            that.select(that.current.closest('tr'));\n                        }\n                        break;\n                    case keys.ENTER:\n                        e.preventDefault();\n                        if (isCell) {\n                            if (that.options.editable && that.options.editable.update !== false) {\n                                that.list._startEditHandler(that.current);\n                                $(this).one('keyup', function (e) {\n                                    e.stopPropagation();\n                                });\n                            }\n                        } else {\n                            that.current.children('a.k-link').click();\n                        }\n                        break;\n                    case keys.DELETE:\n                        if (isCell) {\n                            deleteAction();\n                        }\n                        break;\n                    default:\n                        if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== 'input') {\n                            that.view(that.timeline._viewByIndex(key - 49));\n                        }\n                        break;\n                    }\n                });\n            },\n            _getToolbarItems: function () {\n                return this.toolbar.find('> .k-button:visible').toArray().concat(this.toolbar.find('.k-views-dropdown:visible').toArray(), this.toolbar.find('.k-gantt-views > .k-selected:visible').toArray());\n            },\n            _current: function (element) {\n                var ganttStyles = Gantt.styles;\n                var activeElement;\n                if (this.current && this.current.length) {\n                    this.current.removeClass(ganttStyles.focusedCell).removeAttr('id');\n                }\n                if (element && element.length) {\n                    this.current = element.addClass(ganttStyles.focusedCell).attr('id', ACTIVE_CELL);\n                    activeElement = $(kendo._activeElement());\n                    if (activeElement.is('table') && this.wrapper.find(activeElement).length > 0) {\n                        activeElement.removeAttr(ARIA_DESCENDANT).attr(ARIA_DESCENDANT, ACTIVE_CELL);\n                    }\n                } else {\n                    this.current = null;\n                }\n            },\n            _dataBind: function () {\n                var that = this;\n                if (that.options.autoBind) {\n                    this._preventRefresh = true;\n                    this._preventDependencyRefresh = true;\n                    var promises = $.map([\n                        this.dataSource,\n                        this.dependencies,\n                        this.resources.dataSource,\n                        this.assignments.dataSource\n                    ], function (dataSource) {\n                        return dataSource.fetch();\n                    });\n                    $.when.apply(null, promises).done(function () {\n                        that._preventRefresh = false;\n                        that._preventDependencyRefresh = false;\n                        that.refresh();\n                    });\n                }\n            },\n            _resize: function () {\n                this._adjustDimensions();\n                this.timeline.view()._adjustHeight();\n                this.timeline.view()._renderCurrentTime();\n                this.list._adjustHeight();\n            },\n            _createPlannedTasksSwitch: function () {\n                var that = this;\n                var switchLabel = that.options.messages.plannedTasks.switchText;\n                var toggeSwitchWrap = $('<span class=\\'k-gantt-planned-wrap\\'><label>' + switchLabel + '</label></span>');\n                var plannedToggle = new kendo.ui.Switch($('<input id=\\'planned-switch\\' class=\\'k-gantt-planned-switch\\'>'), {\n                    checked: that.options.showPlannedTasks,\n                    change: proxy(that._togglePlannedTasks, that),\n                    messages: {\n                        checked: '',\n                        unchecked: ''\n                    }\n                });\n                toggeSwitchWrap.append(plannedToggle.wrapper);\n                that.toggeSwitchWrap = toggeSwitchWrap;\n                that.toggleSwitch = plannedToggle;\n            },\n            _togglePlannedTasks: function (e) {\n                var timeline = this.timeline;\n                if (!this.trigger('togglePlannedTasks', { showPlannedTasks: !timeline.options.showPlannedTasks })) {\n                    this.wrapper.toggleClass(ganttStyles.plannedTasks);\n                    timeline._setPlanned(!timeline.options.showPlannedTasks);\n                    timeline._render(this.dataSource.taskTree());\n                    timeline._renderDependencies(this.dependencies.view());\n                } else {\n                    e.preventDefault();\n                }\n            }\n        });\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Gantt.fn);\n            Gantt.fn._drawPDF = function () {\n                var ganttStyles = Gantt.styles;\n                var listTableWidth = this.wrapper.find(DOT + ganttStyles.list + ' ' + DOT + ganttStyles.gridContent + '>table').width();\n                var content = this.wrapper.clone();\n                content.find(DOT + ganttStyles.list).css('width', listTableWidth);\n                return this._drawPDFShadow({ content: content }, { avoidLinks: this.options.pdf.avoidLinks });\n            };\n        }\n        kendo.ui.plugin(Gantt);\n        extend(true, Gantt, { styles: ganttStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}