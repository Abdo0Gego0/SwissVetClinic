{"version":3,"sources":["kendo.list.js"],"names":["f","define","$","undefined","unifyType","value","type","toLowerCase","last","list","length","getSelectedOption","select","index","selectedIndex","options","mapChangedItems","selected","itemsToMatch","dataItem","found","i","j","itemsLength","selectedLength","changed","unchanged","push","item","isValidFilterExpr","expression","isEmptyObject","filters","removeFiltersForField","field","grep","filter","STATIC_LIST_NS","StaticList","kendo","window","ui","outerHeight","_outerHeight","percentageUnitsRegex","Widget","keys","support","htmlEncode","activeElement","_activeElement","outerWidth","_outerWidth","ObservableArray","data","ID","CHANGE","FOCUSED","HOVER","KSELECTED","LOADING","LIST","TABLE","DATA_TABLE","TABLE_MD","LIST_UL","TABLE_LIST","FIXED_GROUP_HEADER","GROUP_LABEL","ITEMSELECTOR","LABELIDPART","OPEN","CLOSE","CASCADE","SELECT","CLICK","MOUSELEAVE","MOUSEENTER","ACTIVATE","DEACTIVATE","DATA_BINDING","DATA_BOUND","SELECTED_ITEM_CHANGE","SELECTED","REQUESTSTART","REQUESTEND","BLUR","FOCUS","FOCUSOUT","extend","proxy","isArray","Array","browser","HIDDENCLASS","WIDTH","TEXT","VALUE","isIE","msie","quotRegExp","alternativeNames","ComboBox","DropDownList","MultiColumnComboBox","UL_EL","LIST_EL","LIST_HEADER_EL","NO_DATA_EL","LIST_FOOTER_EL","MOUSEDOWN","LIST_SUFFIX","LISTBOX_SUFFIX","ARIA_LABELLEDBY","ARIA_LABEL","ARIA_ACTIVEDESCENDANT","ARIA_AUTOCOMPLETE","ARIA_CONTROLS","ARIA_LIVE","ARIA_EXPANDED","ARIA_HIDDEN","ARIA_BUSY","ARIA_MULTISELECTABLE","ARIA_SELECTED","GROUP_ROW_SEL","DOT","List","DataBoundWidget","init","element","id","that","this","ns","fn","call","_isSelect","is","dataSource","dataTextField","dataValueField","_listSize","cssProperties","getValidClass","widget","propName","size","ul","attr","tabIndex","aria-hidden","addClass","append","on","_listMousedown","guid","columns","removeClass","_columnsHeader","_header","_noData","_footer","_accessors","_initValue","valuePrimitive","footerTemplate","headerTemplate","noDataTemplate","messages","noData","clear","setOptions","enable","enabled","_renderFooter","_renderNoData","focus","_focused","trigger","readonly","_editable","disable","wrapper","header","template","_angularElement","destroy","remove","wrap","parent","prepend","colGroup","row","idx","currentColumn","title","columnsHeaderTemplate","currentWidth","currentWidthInt","widthStyle","columnsHeader","width","parseInt","isNaN","test","angular","elements","appendTo","footer","_listOptions","currentOptions","virtual","changeEventOption","change","_listChange","listBoundHandler","_listBound","focusedElm","inputId","labelElm","labelledBy","_generateLabelId","autoBind","selectable","click","_click","activate","_activateItem","deactivate","_deactivateItem","dataBinding","dataBound","height","groupTemplate","fixedGroupTemplate","ariaLabel","ariaLabelledBy","listSize","expr","$angular","_initList","listOptions","selectedItemChange","listView","VirtualList","find","bind","_setListValue","done","_updateSelectionState","noop","e","filterInput","target","preventDefault","_isFilterEnabled","_hideClear","_clear","_showClear","_clearValue","_clearText","_accessor","_customOption","enforceMinLength","_filter","word","open","highlightFirst","_change","text","_clearFilter","bound","_filterSource","force","newExpression","dataSourceState","isMultiColumnFiltering","filterFields","logic","resetPageSettings","removed","_clearFilterExpressions","Deferred","reject","promise","_pushFilterExpression","concat","_cascading","setDSFilter","page","pageSize","sort","group","aggregate","_mergeState","filtersToRemove","splice","action","html","instance","_toggleNoData","show","toggle","_toggleHeader","groupHeader","content","prev","_allowOpening","flatView","val","_old","_ignoreCase","model","reader","fields","ignoreCase","_focus","candidate","widgetOptions","fromFilter","_buildExpression","_open","accentFoldingFiltering","toLocaleLowerCase","operator","_clearButton","clearTitle","role","clearButton","search","_inputValue","clearTimeout","_typingTimeout","minLength","_state","_emptySearch","trim","_searchByWord","current","items","children","_unbindDataSource","off","popup","_form","_resetHandler","selectedDataItems","getByUid","add","removeAttr","getter","textField","valueField","_text","_value","_aria","autocomplete","suggest","aria-owns","aria-controls","_ariaLabel","labelId","inputElm","label","_blur","close","_userTriggered","_isValueChanged","optionValue","_valueBeforeCascade","_oldIndex","isFiltered","_typing","typing","_data","view","_enable","disabled","_dataValue","_offsetHeight","offsetHeight","siblings","prevAll","each","_height","offsetTop","popups","footerHeight","visible","hide","scrollHeight","_openHandler","_adjustListWidth","computedStyle","computedWidth","style","getComputedStyle","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","css","fontFamily","autoWidth","minWidth","whiteSpace","_closeHandler","_focusItem","noFocusedItem","scrollToIndex","_calculateGroupPadding","li","first","padding","direction","display","scrollbar","parents","_calculatePopupHeight","_calculateColumnsHeaderPadding","isRtl","_refreshScroll","enableYScroll","overflowX","overflowY","_resizePopup","one","_popup","Popup","anchor","animation","autosize","_toggleHover","currentTarget","toggleClass","_toggle","preventFocus","touchEnabled","mobileOS","touch","MSPointers","pointers","_prevent","_triggerCascade","_cascadeTriggered","_cascadedValue","userTriggered","_triggerChange","unbind","_requestStartHandler","_requestEndHandler","_errorHandler","requireValueMapper","hasValue","valueMapper","Error","inArray","node","parentNode","Select","_initial","setDataSource","_dataSource","_initialIndex","_current","fetch","_parentWidget","_cascadeSelect","_select","_cascadeValue","_accessorInput","_accessorSelect","_custom","_syncValueAndText","custom","_hideBusy","_busy","_arrowIcon","_showBusy","isDefaultPrevented","_request","setTimeout","_requestEnd","DataSource","create","_firstItem","focusFirst","_lastItem","focusLast","_nextItem","focusNext","_prevItem","focusPrev","_getNormalizedDataItem","isIndex","hasOptionLabel","optionLabel","getElementIndex","dataItemByIndex","_getNormalizedSelectCandidate","normalizedCandidate","_move","pressed","moveIndex","selectCandidate","activeFilter","selection","shouldTrigger","key","keyCode","down","DOWN","isVirtual","UP","altKey","firstChild","_fetch","hasClass","total","_get","ENTER","TAB","input","_focusElement","focusout","ESC","PAGEDOWN","PAGEUP","scrollWith","screenHeight","_fetchData","hasItems","cascadeFrom","_options","option","dataText","dataValue","htmlElement","indexOf","replace","setAttribute","_reset","formId","form","closest","parentElement","name","_cascade","cascade","_cascadeHandlerProxy","_cascadeHandler","_cascadeFilterRequests","_selectedValue","_toggleCascadeOnFocus","valueBeforeCascade","_clearSelection","_cascadeChange","expressions","handler","filterValue","cascadeFromParentField","cascadeFromField","currentHandler","shift","thead","_touchHandlers","before","_optionID","_selectedIndices","_view","_dataItems","_values","slice","_getter","_templates","_onScroll","_scrollId","_renderHeader","events","source","_refreshHandler","refresh","_fixedHeader","startY","endY","tapPosition","event","originalEvent","changedTouches","pageY","Math","abs","_touchTriggered","_triggerClick","get","skip","_render","clientHeight","scroll","scrollTop","itemOffsetTop","itemOffsetHeight","contentScrollTop","contentOffsetHeight","bottomDistance","dataItems","_getValues","_valueGetter","map","next","hasCandidate","focusIndex","skipUpdate","_skipUpdate","indices","result","deferred","filtered","singleSelection","selectedIndices","uiSelectedIndices","added","resolve","_deselectFiltered","_deselect","_valueComparer","removeAt","position","setValue","_valueDeferred","state","_valueIndices","_valueExpr","values","body","comparer","normalized","_valueType","Function","_dataItemPosition","valueExpr","removedIndices","_template","useWithBlock","templateText","templates","_normalizeIndices","newIndices","_firstVisibleItem","itemHeight","itemIndex","floor","lastChild","forward","nextSibling","previousSibling","isGrouped","visibleItem","_renderItem","context","notFirstItem","hasColumns","altRow","newGroup","isLastGroupedItem","_renderColumns","dataContext","_selected","innerHTML","_lastDSFilter","Query","compareFilters","skipUpdateOnBind","isItemChange","_angularItems","_bound","plugin","registerPrefix","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.list.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.list', [\n        'kendo.data',\n        'kendo.popup'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'list',\n        name: 'List',\n        category: 'framework',\n        depends: [\n            'data',\n            'popup'\n        ],\n        hidden: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, ui = kendo.ui, outerHeight = kendo._outerHeight, percentageUnitsRegex = /^\\d+(\\.\\d+)?%$/i, Widget = ui.Widget, keys = kendo.keys, support = kendo.support, htmlEncode = kendo.htmlEncode, activeElement = kendo._activeElement, outerWidth = kendo._outerWidth, ObservableArray = kendo.data.ObservableArray, ID = 'id', CHANGE = 'change', FOCUSED = 'k-focus', HOVER = 'k-hover', KSELECTED = 'k-selected', LOADING = 'k-i-loading', LIST = 'k-list', TABLE = 'k-table', DATA_TABLE = 'k-data-table', TABLE_MD = 'k-table-md', LIST_UL = 'k-list-ul', TABLE_LIST = 'k-table-list', FIXED_GROUP_HEADER = '.k-list-group-sticky-header', GROUP_LABEL = '.k-list-item-group-label', ITEMSELECTOR = '.k-list-item', LABELIDPART = '_label', OPEN = 'open', CLOSE = 'close', CASCADE = 'cascade', SELECT = 'select', CLICK = 'click', MOUSELEAVE = 'mouseleave', MOUSEENTER = 'mouseenter', ACTIVATE = 'activate', DEACTIVATE = 'deactivate', DATA_BINDING = 'dataBinding', DATA_BOUND = 'dataBound', SELECTED_ITEM_CHANGE = 'selectedItemChange', SELECTED = 'selected', REQUESTSTART = 'requestStart', REQUESTEND = 'requestEnd', BLUR = 'blur', FOCUS = 'focus', FOCUSOUT = 'focusout', extend = $.extend, proxy = $.proxy, isArray = Array.isArray, browser = support.browser, HIDDENCLASS = 'k-hidden', WIDTH = 'width', TEXT = 'text', VALUE = 'value', isIE = browser.msie, quotRegExp = /\"/g, alternativeNames = {\n                'ComboBox': [\n                    'DropDownList',\n                    'MultiColumnComboBox'\n                ],\n                'DropDownList': [\n                    'ComboBox',\n                    'MultiColumnComboBox'\n                ],\n                'MultiColumnComboBox': [\n                    'ComboBox',\n                    'DropDownList'\n                ]\n            }, UL_EL = '<ul unselectable=\"on\"/>', LIST_EL = '<div class=\\'k-list\\'/>', LIST_HEADER_EL = '<div class=\"k-list-header\">', NO_DATA_EL = '<div class=\"k-no-data\" style=\"display: none;\"></div>', LIST_FOOTER_EL = '<div class=\"k-list-footer\"></div>', MOUSEDOWN = 'mousedown', LIST_SUFFIX = '-list', LISTBOX_SUFFIX = '_listbox', ARIA_LABELLEDBY = 'aria-labelledby', ARIA_LABEL = 'aria-label', ARIA_ACTIVEDESCENDANT = 'aria-activedescendant', ARIA_AUTOCOMPLETE = 'aria-autocomplete', ARIA_CONTROLS = 'aria-controls', ARIA_LIVE = 'aria-live', ARIA_EXPANDED = 'aria-expanded', ARIA_HIDDEN = 'aria-hidden', ARIA_BUSY = 'aria-busy', ARIA_MULTISELECTABLE = 'aria-multiselectable', ARIA_SELECTED = 'aria-selected', GROUP_ROW_SEL = '.k-table-group-row', DOT = '.';\n        var List = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                var that = this, ns = that.ns, id;\n                Widget.fn.init.call(that, element, options);\n                element = that.element;\n                options = that.options;\n                that._isSelect = element.is(SELECT);\n                if (that._isSelect && that.element[0].length) {\n                    if (!options.dataSource) {\n                        options.dataTextField = options.dataTextField || TEXT;\n                        options.dataValueField = options.dataValueField || VALUE;\n                    }\n                }\n                that._listSize = kendo.cssProperties.getValidClass({\n                    widget: 'List',\n                    propName: 'size',\n                    value: options.size\n                });\n                that.ul = $(UL_EL).attr({\n                    tabIndex: -1,\n                    'aria-hidden': true\n                });\n                that.list = $(LIST_EL).addClass(that._listSize).append(that.ul).on(MOUSEDOWN + ns, proxy(that._listMousedown, that));\n                id = element.attr(ID);\n                if (!id) {\n                    id = kendo.guid();\n                }\n                that.list.attr(ID, id + LIST_SUFFIX);\n                that.ul.attr(ID, id + LISTBOX_SUFFIX);\n                if (options.columns && options.columns.length) {\n                    that.list.removeClass(LIST).addClass(DATA_TABLE);\n                    that.list.removeClass(that._listSize).addClass(TABLE_MD);\n                    that.ul.removeClass(LIST_UL).addClass(TABLE);\n                    that._columnsHeader();\n                }\n                that._header();\n                that._noData();\n                that._footer();\n                that._accessors();\n                that._initValue();\n            },\n            options: {\n                valuePrimitive: false,\n                footerTemplate: '',\n                headerTemplate: '',\n                noDataTemplate: true,\n                size: 'medium',\n                messages: {\n                    'noData': 'No data found.',\n                    'clear': 'clear'\n                }\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                if (options && options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (options.columns && options.columns.length) {\n                    this._columnsHeader();\n                }\n                this._header();\n                this._noData();\n                this._footer();\n                this._renderFooter();\n                this._renderNoData();\n            },\n            focus: function () {\n                this._focused.trigger(FOCUS);\n            },\n            readonly: function (readonly) {\n                this._editable({\n                    readonly: readonly === undefined ? true : readonly,\n                    disable: false\n                });\n            },\n            enable: function (enable) {\n                this._editable({\n                    readonly: false,\n                    disable: !(enable = enable === undefined ? true : enable)\n                });\n            },\n            _header: function () {\n                var list = this;\n                var header = $(list.header);\n                var template = list.options.headerTemplate;\n                var wrapper;\n                this._angularElement(header, 'cleanup');\n                kendo.destroy(header);\n                header.remove();\n                if (!template) {\n                    list.header = null;\n                    return;\n                }\n                var headerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                header = $(headerTemplate({}));\n                list.header = header[0] ? header : null;\n                wrapper = header.wrap(LIST_HEADER_EL).parent();\n                list.list.prepend(wrapper);\n                this._angularElement(list.header, 'compile');\n            },\n            _columnsHeader: function () {\n                var list = this;\n                var columnsHeader = $(list.columnsHeader);\n                this._angularElement(columnsHeader, 'cleanup');\n                kendo.destroy(columnsHeader);\n                columnsHeader.remove();\n                var header = '<div class=\\'k-table-header\\'><div class=\\'k-table-header-wrap\\'><table class=\\'k-table\\' role=\\'presentation\\'>';\n                var colGroup = '<colgroup>';\n                var row = '<tr class=\\'k-table-row\\'>';\n                for (var idx = 0; idx < this.options.columns.length; idx++) {\n                    var currentColumn = this.options.columns[idx];\n                    var title = currentColumn.title || currentColumn.field || '';\n                    var template = currentColumn.headerTemplate || title;\n                    var columnsHeaderTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n                    var currentWidth = currentColumn.width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += 'style=\\'width:';\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? '%' : 'px';\n                        widthStyle += ';\\'';\n                    }\n                    colGroup += '<col ' + widthStyle + '/>';\n                    row += '<th class=\\'k-table-th\\'>';\n                    row += columnsHeaderTemplate(currentColumn);\n                    row += '</th>';\n                }\n                colGroup += '</colgroup>';\n                row += '</tr>';\n                header += colGroup;\n                header += '<thead class=\\'k-table-thead\\'>';\n                header += row;\n                header += '</thead></table></div></div>';\n                list.columnsHeader = columnsHeader = $(header);\n                list.list.prepend(columnsHeader);\n                this._angularElement(list.columnsHeader, 'compile');\n            },\n            _noData: function () {\n                var list = this;\n                var noData = $(list.noData);\n                var template = list.options.noDataTemplate === true ? list.options.messages.noData : list.options.noDataTemplate;\n                list.angular('cleanup', function () {\n                    return { elements: noData };\n                });\n                kendo.destroy(noData);\n                noData.remove();\n                if (!template) {\n                    list.noData = null;\n                    return;\n                }\n                list.noData = $(NO_DATA_EL).appendTo(list.list);\n                list.noDataTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _footer: function () {\n                var list = this;\n                var footer = $(list.footer);\n                var template = list.options.footerTemplate;\n                this._angularElement(footer, 'cleanup');\n                kendo.destroy(footer);\n                footer.remove();\n                if (!template) {\n                    list.footer = null;\n                    return;\n                }\n                list.footer = $(LIST_FOOTER_EL).appendTo(list.list);\n                list.footerTemplate = typeof template !== 'function' ? kendo.template(template) : template;\n            },\n            _listOptions: function (options) {\n                var that = this;\n                var currentOptions = that.options;\n                var virtual = currentOptions.virtual;\n                var changeEventOption = { change: proxy(that._listChange, that) };\n                var listBoundHandler = proxy(that._listBound, that);\n                var focusedElm = that._focused;\n                var inputId = that.element.attr('id');\n                var labelElm = $('label[for=\"' + that.element.attr('id') + '\"]');\n                var labelledBy = focusedElm.attr(ARIA_LABELLEDBY);\n                if (!labelledBy && labelElm.length) {\n                    labelledBy = labelElm.attr('id') || that._generateLabelId(labelElm, inputId || kendo.guid());\n                }\n                virtual = typeof virtual === 'object' ? virtual : {};\n                options = $.extend({\n                    autoBind: false,\n                    selectable: true,\n                    dataSource: that.dataSource,\n                    click: proxy(that._click, that),\n                    activate: proxy(that._activateItem, that),\n                    columns: currentOptions.columns,\n                    deactivate: proxy(that._deactivateItem, that),\n                    dataBinding: function () {\n                        that.trigger(DATA_BINDING);\n                    },\n                    dataBound: listBoundHandler,\n                    height: currentOptions.height,\n                    dataValueField: currentOptions.dataValueField,\n                    dataTextField: currentOptions.dataTextField,\n                    groupTemplate: currentOptions.groupTemplate,\n                    fixedGroupTemplate: currentOptions.fixedGroupTemplate,\n                    template: currentOptions.template,\n                    ariaLabel: focusedElm.attr(ARIA_LABEL),\n                    ariaLabelledBy: labelledBy,\n                    listSize: that._listSize\n                }, options, virtual, changeEventOption);\n                if (!options.template) {\n                    options.template = '#:' + kendo.expr(options.dataTextField, 'data') + '#';\n                }\n                if (currentOptions.$angular) {\n                    options.$angular = currentOptions.$angular;\n                }\n                return options;\n            },\n            _initList: function () {\n                var that = this;\n                var listOptions = that._listOptions({ selectedItemChange: proxy(that._listChange, that) });\n                if (!that.options.virtual) {\n                    that.listView = new kendo.ui.StaticList(that.ul, listOptions);\n                } else {\n                    that.listView = new kendo.ui.VirtualList(that.ul, listOptions);\n                    that.list.find(DOT + LIST).addClass('k-virtual-list');\n                    that.list.find(DOT + DATA_TABLE).addClass('k-virtual-table');\n                }\n                that.listView.bind('listBound', proxy(that._listBound, that));\n                that._setListValue();\n            },\n            _setListValue: function (value) {\n                value = value || this.options.value;\n                if (value !== undefined) {\n                    this.listView.value(value).done(proxy(this._updateSelectionState, this));\n                }\n            },\n            _updateSelectionState: $.noop,\n            _listMousedown: function (e) {\n                if (!this.filterInput || this.filterInput[0] !== e.target) {\n                    e.preventDefault();\n                }\n            },\n            _isFilterEnabled: function () {\n                var filter = this.options.filter;\n                return filter && filter !== 'none';\n            },\n            _hideClear: function () {\n                var list = this;\n                if (list._clear) {\n                    list._clear.addClass(HIDDENCLASS);\n                }\n            },\n            _showClear: function () {\n                if (this._clear) {\n                    this._clear.removeClass(HIDDENCLASS);\n                }\n            },\n            _clearValue: function () {\n                this._clearText();\n                this._accessor('');\n                this.listView.value([]);\n                if (this._isSelect) {\n                    this._customOption = undefined;\n                }\n                if (this._isFilterEnabled() && !this.options.enforceMinLength) {\n                    this._filter({\n                        word: '',\n                        open: false\n                    });\n                    if (this.options.highlightFirst) {\n                        this.listView.focus(0);\n                    }\n                }\n                this._change();\n            },\n            _clearText: function () {\n                this.text('');\n            },\n            _clearFilter: function () {\n                if (!this.options.virtual) {\n                    this.listView.bound(false);\n                }\n                this._filterSource();\n            },\n            _filterSource: function (filter, force) {\n                var that = this;\n                var options = that.options;\n                var isMultiColumnFiltering = options.filterFields && filter && filter.logic && filter.filters && filter.filters.length;\n                var dataSource = that.dataSource;\n                var expression = extend({}, dataSource.filter() || {});\n                var resetPageSettings = filter || expression.filters && expression.filters.length && !filter;\n                var removed = removeFiltersForField(expression, options.dataTextField);\n                this._clearFilterExpressions(expression);\n                if ((filter || removed) && that.trigger('filtering', { filter: filter })) {\n                    return $.Deferred().reject().promise();\n                }\n                var newExpression = {\n                    filters: [],\n                    logic: 'and'\n                };\n                if (isMultiColumnFiltering) {\n                    newExpression.filters.push(filter);\n                } else {\n                    this._pushFilterExpression(newExpression, filter);\n                }\n                if (isValidFilterExpr(expression)) {\n                    if (newExpression.logic === expression.logic) {\n                        newExpression.filters = newExpression.filters.concat(expression.filters);\n                    } else {\n                        newExpression.filters.push(expression);\n                    }\n                }\n                if (that._cascading) {\n                    this.listView.setDSFilter(newExpression);\n                }\n                var dataSourceState = extend({}, {\n                    page: resetPageSettings ? 1 : dataSource.page(),\n                    pageSize: resetPageSettings ? dataSource.options.pageSize : dataSource.pageSize(),\n                    sort: dataSource.sort(),\n                    filter: dataSource.filter(),\n                    group: dataSource.group(),\n                    aggregate: dataSource.aggregate()\n                }, { filter: newExpression });\n                return dataSource[force ? 'read' : 'query'](dataSource._mergeState(dataSourceState));\n            },\n            _pushFilterExpression: function (newExpression, filter) {\n                if (isValidFilterExpr(filter) && filter.value !== '') {\n                    newExpression.filters.push(filter);\n                }\n            },\n            _clearFilterExpressions: function (expression) {\n                if (!expression.filters) {\n                    return;\n                }\n                var filtersToRemove;\n                for (var i = 0; i < expression.filters.length; i++) {\n                    if ('fromFilter' in expression.filters[i]) {\n                        filtersToRemove = i;\n                    }\n                }\n                if (!isNaN(filtersToRemove)) {\n                    expression.filters.splice(filtersToRemove, 1);\n                }\n            },\n            _angularElement: function (element, action) {\n                if (!element) {\n                    return;\n                }\n                this.angular(action, function () {\n                    return { elements: element };\n                });\n            },\n            _renderNoData: function () {\n                var list = this;\n                var noData = list.noData;\n                if (!noData) {\n                    return;\n                }\n                this._angularElement(noData, 'cleanup');\n                noData.html(list.noDataTemplate({ instance: list }));\n                this._angularElement(noData, 'compile');\n            },\n            _toggleNoData: function (show) {\n                $(this.noData).toggle(show);\n            },\n            _toggleHeader: function (show) {\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                groupHeader.toggle(show);\n            },\n            _renderFooter: function () {\n                var list = this, footer = list.footer;\n                if (!footer) {\n                    return;\n                }\n                this._angularElement(footer, 'cleanup');\n                footer.html(list.footerTemplate({ instance: list }));\n                this._angularElement(footer, 'compile');\n            },\n            _allowOpening: function () {\n                return this.options.noDataTemplate || this.dataSource.flatView().length;\n            },\n            _initValue: function () {\n                var that = this, value = that.options.value;\n                if (value !== null) {\n                    that.element.val(value);\n                } else {\n                    value = that._accessor();\n                    that.options.value = value;\n                }\n                that._old = value;\n            },\n            _ignoreCase: function () {\n                var that = this, model = that.dataSource.reader.model, field;\n                if (model && model.fields) {\n                    field = model.fields[that.options.dataTextField];\n                    if (field && field.type && field.type !== 'string') {\n                        that.options.ignoreCase = false;\n                    }\n                }\n            },\n            _focus: function (candidate) {\n                return this.listView.focus(candidate);\n            },\n            _filter: function (options) {\n                var that = this;\n                var widgetOptions = that.options;\n                var word = options.word;\n                var filterFields = widgetOptions.filterFields;\n                var field = widgetOptions.dataTextField;\n                var expression;\n                if (filterFields && filterFields.length) {\n                    expression = {\n                        logic: 'or',\n                        filters: [],\n                        fromFilter: true\n                    };\n                    for (var i = 0; i < filterFields.length; i++) {\n                        this._pushFilterExpression(expression, that._buildExpression(word, filterFields[i]));\n                    }\n                } else {\n                    expression = that._buildExpression(word, field);\n                }\n                that._open = options.open;\n                that._filterSource(expression);\n            },\n            _buildExpression: function (value, field) {\n                var that = this;\n                var widgetOptions = that.options;\n                var ignoreCase = widgetOptions.ignoreCase;\n                var accentFoldingFiltering = that.dataSource.options.accentFoldingFiltering;\n                return {\n                    value: ignoreCase ? accentFoldingFiltering ? value.toLocaleLowerCase(accentFoldingFiltering) : value.toLowerCase() : value,\n                    field: field,\n                    operator: widgetOptions.filter,\n                    ignoreCase: ignoreCase\n                };\n            },\n            _clearButton: function () {\n                var list = this;\n                var clearTitle = list.options.messages.clear;\n                if (!list._clear) {\n                    list._clear = $('<span unselectable=\"on\" class=\"k-clear-value\" title=\"' + clearTitle + '\"><span class=\"k-icon k-i-x\"></span></span>').attr({\n                        'role': 'button',\n                        'tabIndex': -1\n                    });\n                }\n                if (!list.options.clearButton) {\n                    list._clear.remove();\n                }\n                this._hideClear();\n            },\n            search: function (word) {\n                var options = this.options;\n                word = typeof word === 'string' ? word : this._inputValue();\n                clearTimeout(this._typingTimeout);\n                if (!options.enforceMinLength && !word.length || word.length >= options.minLength) {\n                    this._state = 'filter';\n                    if (this.listView) {\n                        this.listView._emptySearch = !kendo.trim(word).length;\n                    }\n                    if (!this._isFilterEnabled()) {\n                        this._searchByWord(word);\n                    } else {\n                        this._filter({\n                            word: word,\n                            open: true\n                        });\n                    }\n                }\n            },\n            current: function (candidate) {\n                return this._focus(candidate);\n            },\n            items: function () {\n                return this.ul[0].children;\n            },\n            destroy: function () {\n                var that = this;\n                var ns = that.ns;\n                Widget.fn.destroy.call(that);\n                that._unbindDataSource();\n                that.listView.destroy();\n                that.list.off(ns);\n                that.popup.destroy();\n                if (that._form) {\n                    that._form.off('reset', that._resetHandler);\n                }\n            },\n            dataItem: function (index) {\n                var that = this;\n                if (index === undefined) {\n                    return that.listView.selectedDataItems()[0];\n                }\n                if (typeof index !== 'number') {\n                    if (that.options.virtual) {\n                        return that.dataSource.getByUid($(index).data('uid'));\n                    }\n                    index = $(that.items()).index(index);\n                }\n                return that.dataSource.flatView()[index];\n            },\n            _activateItem: function () {\n                var current = this.listView.focus();\n                if (current) {\n                    this._focused.add(this.filterInput).attr(ARIA_ACTIVEDESCENDANT, current.attr('id'));\n                }\n            },\n            _deactivateItem: function () {\n                this._focused.add(this.filterInput).removeAttr(ARIA_ACTIVEDESCENDANT);\n            },\n            _accessors: function () {\n                var that = this;\n                var element = that.element;\n                var options = that.options;\n                var getter = kendo.getter;\n                var textField = element.attr(kendo.attr('text-field'));\n                var valueField = element.attr(kendo.attr('value-field'));\n                if (!options.dataTextField && textField) {\n                    options.dataTextField = textField;\n                }\n                if (!options.dataValueField && valueField) {\n                    options.dataValueField = valueField;\n                }\n                that._text = getter(options.dataTextField);\n                that._value = getter(options.dataValueField);\n            },\n            _aria: function (id) {\n                var that = this, options = that.options, element = that._focused, autocomplete;\n                if (options.suggest !== undefined) {\n                    if (options.filter === 'none') {\n                        if (options.suggest === true) {\n                            autocomplete = 'inline';\n                        } else {\n                            autocomplete = 'none';\n                        }\n                    } else {\n                        if (options.suggest === true) {\n                            autocomplete = 'both';\n                        } else {\n                            autocomplete = 'list';\n                        }\n                    }\n                    element.attr(ARIA_AUTOCOMPLETE, autocomplete);\n                }\n                id = id ? id + ' ' + that.ul[0].id : that.ul[0].id;\n                element.attr({\n                    'aria-owns': id,\n                    'aria-controls': id\n                });\n                if (that.filterInput && that.filterInput.length > 0) {\n                    that.filterInput.attr(ARIA_CONTROLS, id);\n                }\n                that.ul.attr(ARIA_LIVE, !that._isFilterEnabled() ? 'off' : 'polite');\n                that._ariaLabel();\n            },\n            _ariaLabel: function () {\n                var that = this;\n                var focusedElm = that._focused;\n                var inputElm = that.element;\n                var inputId = inputElm.attr('id');\n                var labelElm = $('label[for=\"' + inputId + '\"]');\n                var ariaLabel = inputElm.attr(ARIA_LABEL);\n                var ariaLabelledBy = inputElm.attr(ARIA_LABELLEDBY);\n                if (focusedElm === inputElm) {\n                    return;\n                }\n                if (ariaLabel) {\n                    focusedElm.attr(ARIA_LABEL, ariaLabel);\n                } else if (ariaLabelledBy) {\n                    focusedElm.attr(ARIA_LABELLEDBY, ariaLabelledBy);\n                } else if (labelElm.length) {\n                    var labelId = labelElm.attr('id') || that._generateLabelId(labelElm, inputId || kendo.guid());\n                    focusedElm.attr(ARIA_LABELLEDBY, labelId);\n                }\n            },\n            _generateLabelId: function (label, inputId) {\n                var labelId = inputId + LABELIDPART;\n                label.attr('id', labelId);\n                return labelId;\n            },\n            _blur: function () {\n                var that = this;\n                that._change();\n                that.close();\n                that._userTriggered = false;\n            },\n            _isValueChanged: function (value) {\n                return value !== unifyType(this._old, typeof value);\n            },\n            _change: function () {\n                var that = this;\n                var index = that.selectedIndex;\n                var optionValue = that.options.value;\n                var value = that.value();\n                var trigger;\n                if (that._isSelect && !that.listView.bound() && optionValue) {\n                    value = optionValue;\n                }\n                if (that._isValueChanged(value)) {\n                    trigger = true;\n                } else if (that._valueBeforeCascade !== undefined && that._valueBeforeCascade !== unifyType(that._old, typeof that._valueBeforeCascade) && that._userTriggered) {\n                    trigger = true;\n                } else if (index !== undefined && index !== that._oldIndex && !that.listView.isFiltered()) {\n                    trigger = true;\n                }\n                if (trigger) {\n                    if (that._old === null || that._old === '' || value === '') {\n                        that._valueBeforeCascade = that._old = value;\n                    } else {\n                        if (that.dataItem()) {\n                            that._valueBeforeCascade = that._old = that.options.dataValueField ? that.dataItem()[that.options.dataValueField] : that.dataItem();\n                        } else {\n                            that._valueBeforeCascade = that._old = null;\n                        }\n                    }\n                    that._oldIndex = index;\n                    if (!that._typing) {\n                        that.element.trigger(CHANGE);\n                    }\n                    that.trigger(CHANGE);\n                }\n                that.typing = false;\n            },\n            _data: function () {\n                return this.dataSource.view();\n            },\n            _enable: function () {\n                var that = this, options = that.options, disabled = that.element.is('[disabled]');\n                if (options.enable !== undefined) {\n                    options.enabled = options.enable;\n                }\n                if (!options.enabled || disabled) {\n                    that.enable(false);\n                } else {\n                    that.readonly(that.element.is('[readonly]'));\n                }\n            },\n            _dataValue: function (dataItem) {\n                var value = this._value(dataItem);\n                if (value === undefined) {\n                    value = this._text(dataItem);\n                }\n                return value;\n            },\n            _offsetHeight: function () {\n                var offsetHeight = 0;\n                var siblings = this.listView.content.prevAll(':visible');\n                siblings.each(function () {\n                    var element = $(this);\n                    offsetHeight += outerHeight(element, true);\n                });\n                return offsetHeight;\n            },\n            _height: function (length) {\n                var that = this;\n                var list = that.list;\n                var height = that.options.height;\n                var visible = that.popup.visible();\n                var offsetTop;\n                var popups;\n                var footerHeight;\n                if (length || that.options.noDataTemplate) {\n                    popups = list.add(list.parent('.k-animation-container')).show();\n                    if (!list.is(':visible')) {\n                        popups.hide();\n                        return;\n                    }\n                    height = that.listView.content[0].scrollHeight > height ? height : 'auto';\n                    popups.height(height);\n                    if (height !== 'auto') {\n                        offsetTop = that._offsetHeight();\n                        footerHeight = outerHeight($(that.footer)) || 0;\n                        height = height - offsetTop - footerHeight;\n                    }\n                    that.listView.content.height(height);\n                    if (!visible) {\n                        popups.hide();\n                    }\n                }\n                return height;\n            },\n            _openHandler: function (e) {\n                this._adjustListWidth();\n                if (this.trigger(OPEN)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, true);\n                    this.ul.attr(ARIA_HIDDEN, false);\n                }\n            },\n            _adjustListWidth: function () {\n                var that = this, list = that.list, width = list[0].style.width, wrapper = that.wrapper, computedStyle, computedWidth;\n                if (!list.data(WIDTH) && width) {\n                    return;\n                }\n                computedStyle = window.getComputedStyle ? window.getComputedStyle(wrapper[0], null) : 0;\n                computedWidth = parseFloat(computedStyle && computedStyle.width) || outerWidth(wrapper);\n                if (computedStyle && browser.msie) {\n                    computedWidth += parseFloat(computedStyle.paddingLeft) + parseFloat(computedStyle.paddingRight) + parseFloat(computedStyle.borderLeftWidth) + parseFloat(computedStyle.borderRightWidth);\n                }\n                if (list.css('box-sizing') !== 'border-box') {\n                    width = computedWidth - (outerWidth(list) - list.width());\n                } else {\n                    width = computedWidth;\n                }\n                list.css({\n                    fontFamily: wrapper.css('font-family'),\n                    width: that.options.autoWidth ? 'auto' : width,\n                    minWidth: width,\n                    whiteSpace: that.options.autoWidth ? 'nowrap' : 'normal'\n                }).data(WIDTH, width);\n                return true;\n            },\n            _closeHandler: function (e) {\n                if (this.trigger(CLOSE)) {\n                    e.preventDefault();\n                } else {\n                    this._focused.attr(ARIA_EXPANDED, false);\n                    this.ul.attr(ARIA_HIDDEN, true);\n                }\n            },\n            _focusItem: function () {\n                var listView = this.listView;\n                var noFocusedItem = !listView.focus();\n                var index = last(listView.select());\n                if (index === undefined && this.options.highlightFirst && noFocusedItem) {\n                    index = 0;\n                }\n                if (index !== undefined) {\n                    listView.focus(index);\n                } else if (noFocusedItem) {\n                    listView.scrollToIndex(0);\n                }\n            },\n            _calculateGroupPadding: function (height) {\n                var li = this.ul.children('.k-first').first();\n                var groupHeader = this.listView.content.prev(FIXED_GROUP_HEADER);\n                var padding = 0;\n                var direction = 'right';\n                if (groupHeader[0] && groupHeader[0].style.display !== 'none') {\n                    if (height !== 'auto') {\n                        padding = kendo.support.scrollbar();\n                    }\n                    if (this.element.parents('.k-rtl').length) {\n                        direction = 'left';\n                    }\n                    padding += parseFloat(li.css('border-' + direction + '-width'), 10) + parseFloat(li.children(GROUP_LABEL).css('padding-' + direction), 10);\n                    groupHeader.css('padding-' + direction, padding);\n                }\n            },\n            _calculatePopupHeight: function (force) {\n                var height = this._height(this.dataSource.flatView().length || force);\n                this._calculateGroupPadding(height);\n                this._calculateColumnsHeaderPadding(height);\n            },\n            _calculateColumnsHeaderPadding: function (height) {\n                if (this.options.columns && this.options.columns.length) {\n                    var list = this;\n                    var isRtl = support.isRtl(list.wrapper);\n                    var scrollbar = kendo.support.scrollbar();\n                    list.columnsHeader.css(isRtl ? 'padding-left' : 'padding-right', height !== 'auto' ? scrollbar : 0);\n                }\n            },\n            _refreshScroll: function () {\n                var listView = this.listView;\n                var enableYScroll = listView.element.height() > listView.content.height();\n                if (this.options.autoWidth) {\n                    listView.content.css({\n                        overflowX: 'hidden',\n                        overflowY: enableYScroll ? 'scroll' : 'auto'\n                    });\n                }\n            },\n            _resizePopup: function (force) {\n                if (this.options.virtual) {\n                    return;\n                }\n                if (!this.popup.element.is(':visible')) {\n                    this.popup.one('open', function (force) {\n                        return proxy(function () {\n                            this._calculatePopupHeight(force);\n                        }, this);\n                    }.call(this, force));\n                    this.popup.one(ACTIVATE, proxy(this._refreshScroll, this));\n                } else {\n                    this._calculatePopupHeight(force);\n                }\n            },\n            _popup: function () {\n                var list = this;\n                list.list = list.list.wrap('<div>').parent();\n                list.popup = new ui.Popup(list.list, extend({}, list.options.popup, {\n                    anchor: list.wrapper,\n                    open: proxy(list._openHandler, list),\n                    close: proxy(list._closeHandler, list),\n                    animation: list.options.animation,\n                    isRtl: support.isRtl(list.wrapper),\n                    autosize: list.options.autoWidth\n                }));\n            },\n            _toggleHover: function (e) {\n                $(e.currentTarget).toggleClass(HOVER, e.type === MOUSEENTER);\n            },\n            _toggle: function (open, preventFocus) {\n                var that = this;\n                var touchEnabled = support.mobileOS && (support.touch || support.MSPointers || support.pointers);\n                open = open !== undefined ? open : !that.popup.visible();\n                if (!preventFocus && !touchEnabled && that._focused[0] !== activeElement()) {\n                    that._prevent = true;\n                    that._focused.trigger(FOCUS);\n                    that._prevent = false;\n                }\n                that[open ? OPEN : CLOSE]();\n            },\n            _triggerCascade: function () {\n                var that = this;\n                if (!that._cascadeTriggered || that.value() !== unifyType(that._cascadedValue, typeof that.value())) {\n                    that._cascadedValue = that.value();\n                    that._cascadeTriggered = true;\n                    that.trigger(CASCADE, { userTriggered: that._userTriggered });\n                }\n            },\n            _triggerChange: function () {\n                if (this._valueBeforeCascade !== this.value()) {\n                    this.trigger(CHANGE);\n                }\n            },\n            _unbindDataSource: function () {\n                var that = this;\n                that.dataSource.unbind(REQUESTSTART, that._requestStartHandler).unbind(REQUESTEND, that._requestEndHandler).unbind('error', that._errorHandler);\n            },\n            requireValueMapper: function (options, value) {\n                var hasValue = (options.value instanceof Array ? options.value.length : options.value) || (value instanceof Array ? value.length : value);\n                if (hasValue && options.virtual && typeof options.virtual.valueMapper !== 'function') {\n                    throw new Error('ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function');\n                }\n            }\n        });\n        function unifyType(value, type) {\n            if (value !== undefined && value !== '' && value !== null) {\n                if (type === 'boolean') {\n                    if (typeof value !== 'boolean') {\n                        value = value.toString().toLowerCase() === 'true';\n                    }\n                    value = Boolean(value);\n                } else if (type === 'number') {\n                    value = Number(value);\n                } else if (type === 'string') {\n                    value = value.toString();\n                }\n            }\n            return value;\n        }\n        extend(List, {\n            inArray: function (node, parentNode) {\n                var idx, length, siblings = parentNode.children;\n                if (!node || node.parentNode !== parentNode) {\n                    return -1;\n                }\n                for (idx = 0, length = siblings.length; idx < length; idx++) {\n                    if (node === siblings[idx]) {\n                        return idx;\n                    }\n                }\n                return -1;\n            },\n            unifyType: unifyType\n        });\n        kendo.ui.List = List;\n        ui.Select = List.extend({\n            init: function (element, options) {\n                List.fn.init.call(this, element, options);\n                this._initial = this.element.val();\n            },\n            setDataSource: function (dataSource) {\n                var that = this;\n                var parent;\n                that.options.dataSource = dataSource;\n                that._dataSource();\n                if (that.listView.bound()) {\n                    that._initialIndex = null;\n                    that.listView._current = null;\n                }\n                that.listView.setDataSource(that.dataSource);\n                if (that.options.autoBind) {\n                    that.dataSource.fetch();\n                }\n                parent = that._parentWidget();\n                if (parent) {\n                    that._cascadeSelect(parent);\n                }\n            },\n            close: function () {\n                this.popup.close();\n            },\n            select: function (candidate) {\n                var that = this;\n                if (candidate === undefined) {\n                    return that.selectedIndex;\n                } else {\n                    return that._select(candidate).done(function () {\n                        that._cascadeValue = that._old = that._accessor();\n                        that._oldIndex = that.selectedIndex;\n                    });\n                }\n            },\n            _accessor: function (value, idx) {\n                return this[this._isSelect ? '_accessorSelect' : '_accessorInput'](value, idx);\n            },\n            _accessorInput: function (value) {\n                var element = this.element[0];\n                if (value === undefined) {\n                    return element.value;\n                } else {\n                    if (value === null) {\n                        value = '';\n                    }\n                    element.value = value;\n                }\n            },\n            _accessorSelect: function (value, idx) {\n                var element = this.element[0];\n                var hasValue;\n                if (value === undefined) {\n                    return getSelectedOption(element).value || '';\n                }\n                getSelectedOption(element).selected = false;\n                if (idx === undefined) {\n                    idx = -1;\n                }\n                hasValue = value !== null && value !== '';\n                if (hasValue && idx == -1) {\n                    this._custom(value);\n                } else {\n                    if (value) {\n                        element.value = value;\n                    } else {\n                        element.selectedIndex = idx;\n                    }\n                }\n            },\n            _syncValueAndText: function () {\n                return true;\n            },\n            _custom: function (value) {\n                var that = this;\n                var element = that.element;\n                var custom = that._customOption;\n                if (!custom) {\n                    custom = $('<option/>');\n                    that._customOption = custom;\n                    element.append(custom);\n                }\n                custom.text(value);\n                custom[0].selected = true;\n            },\n            _hideBusy: function () {\n                var that = this;\n                clearTimeout(that._busy);\n                that._arrowIcon.removeClass(LOADING);\n                that._focused.attr(ARIA_BUSY, false);\n                that._busy = null;\n                that._showClear();\n            },\n            _showBusy: function (e) {\n                var that = this;\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n                that._request = true;\n                if (that._busy) {\n                    return;\n                }\n                that._busy = setTimeout(function () {\n                    if (that._arrowIcon) {\n                        that._focused.attr(ARIA_BUSY, true);\n                        that._arrowIcon.addClass(LOADING);\n                        that._hideClear();\n                    }\n                }, 100);\n            },\n            _requestEnd: function () {\n                this._request = false;\n                this._hideBusy();\n            },\n            _dataSource: function () {\n                var that = this, element = that.element, options = that.options, dataSource = options.dataSource || {}, idx;\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                if (that._isSelect) {\n                    idx = element[0].selectedIndex;\n                    if (idx > -1) {\n                        options.index = idx;\n                    }\n                    dataSource.select = element;\n                    dataSource.fields = [\n                        { field: options.dataTextField },\n                        { field: options.dataValueField }\n                    ];\n                }\n                if (that.dataSource) {\n                    that._unbindDataSource();\n                } else {\n                    that._requestStartHandler = proxy(that._showBusy, that);\n                    that._requestEndHandler = proxy(that._requestEnd, that);\n                    that._errorHandler = proxy(that._hideBusy, that);\n                }\n                that.dataSource = kendo.data.DataSource.create(dataSource).bind(REQUESTSTART, that._requestStartHandler).bind(REQUESTEND, that._requestEndHandler).bind('error', that._errorHandler);\n            },\n            _firstItem: function () {\n                this.listView.focusFirst();\n            },\n            _lastItem: function () {\n                this.listView.focusLast();\n            },\n            _nextItem: function () {\n                return this.listView.focusNext();\n            },\n            _prevItem: function () {\n                return this.listView.focusPrev();\n            },\n            _getNormalizedDataItem: function (candidate) {\n                var that = this, listView = that.listView, isIndex = typeof candidate === 'number', hasOptionLabel = that.optionLabel && that.optionLabel.length, index;\n                if (isIndex) {\n                    index = hasOptionLabel ? --candidate : candidate;\n                } else {\n                    index = listView.getElementIndex(candidate);\n                }\n                return listView.dataItemByIndex(index);\n            },\n            _getNormalizedSelectCandidate: function (candidate) {\n                var that = this, hasOptionLabel = that.optionLabel && that.optionLabel.length, isIndex = typeof candidate === 'number', normalizedCandidate = candidate;\n                if (hasOptionLabel && isIndex) {\n                    normalizedCandidate++;\n                }\n                return normalizedCandidate;\n            },\n            _move: function (e) {\n                var that = this;\n                var listView = that.listView;\n                var key = e.keyCode;\n                var down = key === keys.DOWN;\n                var isVirtual = that.options.virtual;\n                var dataItem;\n                var pressed;\n                var current;\n                var moveIndex;\n                var selectCandidate;\n                if (key === keys.UP || down) {\n                    if (e.altKey) {\n                        that.toggle(down);\n                    } else {\n                        if (!listView.bound() && !that.ul[0].firstChild) {\n                            if (!that._fetch) {\n                                that.dataSource.one(CHANGE, function () {\n                                    that._fetch = false;\n                                    that._move(e);\n                                });\n                                that._fetch = true;\n                                that._filterSource();\n                            }\n                            e.preventDefault();\n                            return true;\n                        }\n                        current = that._focus();\n                        if (!that._fetch && (!current || current.hasClass(KSELECTED))) {\n                            if (down) {\n                                moveIndex = that._nextItem();\n                                if (isVirtual && moveIndex <= 0 || !that._focus() && !moveIndex) {\n                                    that._lastItem();\n                                }\n                            } else {\n                                moveIndex = that._prevItem();\n                                if (isVirtual && moveIndex >= listView.dataSource.total() - 1 || !that._focus() && !moveIndex) {\n                                    that._firstItem();\n                                }\n                            }\n                        }\n                        selectCandidate = that._getNormalizedSelectCandidate(that._get(that._focus()) || moveIndex || 0);\n                        that._select(selectCandidate, true).done(function () {\n                            var done = function () {\n                                if (!that.popup.visible()) {\n                                    that._blur();\n                                }\n                                if (that._cascadedValue === null) {\n                                    that._cascadedValue = that.value();\n                                } else {\n                                    that._cascadedValue = that.dataItem() ? that.dataItem()[that.options.dataValueField] || that.dataItem() : null;\n                                }\n                            };\n                            if (that.trigger(SELECT, {\n                                    dataItem: that._getNormalizedDataItem(selectCandidate),\n                                    item: that._focus()\n                                })) {\n                                that._select(current).done(done);\n                            } else {\n                                done();\n                            }\n                        });\n                    }\n                    e.preventDefault();\n                    pressed = true;\n                } else if (key === keys.ENTER || key === keys.TAB) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    current = that._focus();\n                    dataItem = that.dataItem();\n                    if (!that.popup.visible() && (!dataItem || that.text() !== that._text(dataItem))) {\n                        current = null;\n                    }\n                    var activeFilter = that.filterInput && that.filterInput[0] === activeElement();\n                    var selection;\n                    if (current) {\n                        dataItem = listView.dataItemByIndex(listView.getElementIndex(current));\n                        var shouldTrigger = true;\n                        if (dataItem) {\n                            shouldTrigger = that._value(dataItem) !== List.unifyType(that.value(), typeof that._value(dataItem));\n                        }\n                        if (shouldTrigger && that.trigger(SELECT, {\n                                dataItem: dataItem,\n                                item: current\n                            })) {\n                            return;\n                        }\n                        selection = that._select(current);\n                    } else if (that.input) {\n                        if (that._syncValueAndText() || that._isSelect) {\n                            that._accessor(that.input.val());\n                        }\n                        that.listView.value(that.input.val());\n                    }\n                    if (that._focusElement) {\n                        that._focusElement(that.wrapper);\n                    }\n                    if (activeFilter && key === keys.TAB) {\n                        that.wrapper.focusout();\n                    } else {\n                        if (selection && typeof selection.done === 'function') {\n                            selection.done(function () {\n                                that._blur();\n                            });\n                        } else {\n                            that._blur();\n                        }\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (key === keys.ESC) {\n                    if (that.popup.visible()) {\n                        e.preventDefault();\n                    }\n                    that.close();\n                    pressed = true;\n                } else if (that.popup.visible() && (key === keys.PAGEDOWN || key === keys.PAGEUP)) {\n                    e.preventDefault();\n                    var direction = key === keys.PAGEDOWN ? 1 : -1;\n                    listView.scrollWith(direction * listView.screenHeight());\n                    pressed = true;\n                }\n                return pressed;\n            },\n            _fetchData: function () {\n                var that = this;\n                var hasItems = !!that.dataSource.view().length;\n                if (that._request || that.options.cascadeFrom) {\n                    return;\n                }\n                if (!that.listView.bound() && !that._fetch && !hasItems) {\n                    that._fetch = true;\n                    that.dataSource.fetch().done(function () {\n                        that._fetch = false;\n                    });\n                }\n            },\n            _options: function (data, optionLabel, value) {\n                var that = this, element = that.element, htmlElement = element[0], length = data.length, options = '', option, dataItem, dataText, dataValue, idx = 0;\n                if (optionLabel) {\n                    options = optionLabel;\n                }\n                for (; idx < length; idx++) {\n                    option = '<option';\n                    dataItem = data[idx];\n                    dataText = that._text(dataItem);\n                    dataValue = that._value(dataItem);\n                    if (dataValue !== undefined) {\n                        dataValue += '';\n                        if (dataValue.indexOf('\"') !== -1) {\n                            dataValue = dataValue.replace(quotRegExp, '&quot;');\n                        }\n                        option += ' value=\"' + dataValue + '\"';\n                    }\n                    option += '>';\n                    if (dataText !== undefined) {\n                        option += htmlEncode(dataText);\n                    }\n                    option += '</option>';\n                    options += option;\n                }\n                element.html(options);\n                if (value !== undefined) {\n                    htmlElement.value = value;\n                    if (htmlElement.value && !value) {\n                        htmlElement.selectedIndex = -1;\n                    }\n                }\n                if (htmlElement.selectedIndex !== -1) {\n                    option = getSelectedOption(htmlElement);\n                    if (option) {\n                        option.setAttribute(SELECTED, SELECTED);\n                    }\n                }\n            },\n            _reset: function () {\n                var that = this, element = that.element, formId = element.attr('form'), form = formId ? $('#' + formId) : element.closest('form');\n                if (form[0]) {\n                    that._resetHandler = function () {\n                        setTimeout(function () {\n                            that.value(that._initial);\n                        });\n                    };\n                    that._form = form.on('reset', that._resetHandler);\n                }\n            },\n            _parentWidget: function () {\n                var name = this.options.name;\n                if (!this.options.cascadeFrom) {\n                    return;\n                }\n                var parentElement = $('#' + this.options.cascadeFrom);\n                var parent = parentElement.data('kendo' + name);\n                if (!parent) {\n                    for (var i = 0; i < alternativeNames[name].length; i += 1) {\n                        parent = parentElement.data('kendo' + alternativeNames[name][i]);\n                        if (!!parent) {\n                            break;\n                        }\n                    }\n                }\n                return parent;\n            },\n            _cascade: function () {\n                var that = this;\n                var options = that.options;\n                var cascade = options.cascadeFrom;\n                var parent;\n                if (cascade) {\n                    parent = that._parentWidget();\n                    if (!parent) {\n                        return;\n                    }\n                    that._cascadeHandlerProxy = proxy(that._cascadeHandler, that);\n                    that._cascadeFilterRequests = [];\n                    options.autoBind = false;\n                    parent.bind('set', function () {\n                        that.one('set', function (e) {\n                            that._selectedValue = e.value || that._accessor();\n                        });\n                    });\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                    if (parent.listView.bound()) {\n                        that._toggleCascadeOnFocus();\n                        that._cascadeSelect(parent);\n                    } else {\n                        parent.one(DATA_BOUND, function () {\n                            that._toggleCascadeOnFocus();\n                            if (parent.popup.visible()) {\n                                parent._focused.trigger(FOCUS);\n                            }\n                        });\n                        if (!parent.value()) {\n                            that.enable(false);\n                        }\n                    }\n                }\n            },\n            _toggleCascadeOnFocus: function () {\n                var that = this;\n                var parent = that._parentWidget();\n                var focusout = isIE && parent instanceof ui.DropDownList ? BLUR : FOCUSOUT;\n                parent._focused.add(parent.filterInput).on(FOCUS, function () {\n                    parent.unbind(CASCADE, that._cascadeHandlerProxy);\n                    parent.first(CHANGE, that._cascadeHandlerProxy);\n                });\n                parent._focused.add(parent.filterInput).on(focusout, function () {\n                    parent.unbind(CHANGE, that._cascadeHandlerProxy);\n                    parent.first(CASCADE, that._cascadeHandlerProxy);\n                });\n            },\n            _cascadeHandler: function (e) {\n                var parent = this._parentWidget();\n                var valueBeforeCascade = this.value();\n                this._userTriggered = e.userTriggered || parent._userTriggered;\n                if (this.listView.bound()) {\n                    this._clearSelection(parent, true);\n                }\n                this._cascadeSelect(parent, valueBeforeCascade);\n            },\n            _cascadeChange: function (parent) {\n                var that = this;\n                var value = that._accessor() || that._selectedValue;\n                if (!that._cascadeFilterRequests.length) {\n                    that._selectedValue = null;\n                }\n                if (that._userTriggered) {\n                    that._clearSelection(parent, true);\n                } else if (value) {\n                    if (value !== unifyType(that.listView.value()[0], typeof value)) {\n                        that.value(value);\n                    }\n                    if (!that.dataSource.view()[0] || that.selectedIndex === -1) {\n                        that._clearSelection(parent, true);\n                    }\n                } else if (that.dataSource.flatView().length) {\n                    that.select(that.options.index);\n                }\n                that.enable();\n                that._triggerCascade();\n                that._triggerChange();\n                that._userTriggered = false;\n            },\n            _cascadeSelect: function (parent, valueBeforeCascade) {\n                var that = this;\n                var dataItem = parent.dataItem();\n                var filterValue = dataItem ? dataItem[that.options.cascadeFromParentField] || parent._value(dataItem) : null;\n                var valueField = that.options.cascadeFromField || parent.options.dataValueField;\n                var expressions;\n                that._valueBeforeCascade = valueBeforeCascade !== undefined ? valueBeforeCascade : that.value();\n                if (filterValue || filterValue === 0) {\n                    expressions = that.dataSource.filter() || {};\n                    removeFiltersForField(expressions, valueField);\n                    var handler = function () {\n                        var currentHandler = that._cascadeFilterRequests.shift();\n                        if (currentHandler) {\n                            that.unbind('dataBound', currentHandler);\n                        }\n                        currentHandler = that._cascadeFilterRequests[0];\n                        if (currentHandler) {\n                            that.first('dataBound', currentHandler);\n                        }\n                        that._cascadeChange(parent);\n                    };\n                    that._cascadeFilterRequests.push(handler);\n                    if (that._cascadeFilterRequests.length === 1) {\n                        that.first('dataBound', handler);\n                    }\n                    that._cascading = true;\n                    that._filterSource({\n                        field: valueField,\n                        operator: 'eq',\n                        value: filterValue\n                    });\n                    that._cascading = false;\n                } else {\n                    that.enable(false);\n                    that._clearSelection(parent);\n                    that._triggerCascade();\n                    that._triggerChange();\n                    that._userTriggered = false;\n                }\n            }\n        });\n        var STATIC_LIST_NS = '.StaticList';\n        var StaticList = kendo.ui.DataBoundWidget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.element.attr('role', 'listbox').on(CLICK + STATIC_LIST_NS, 'li', proxy(this._click, this)).on(MOUSEENTER + STATIC_LIST_NS, 'li', function () {\n                    $(this).addClass(HOVER);\n                }).on(MOUSELEAVE + STATIC_LIST_NS, 'li', function () {\n                    $(this).removeClass(HOVER);\n                });\n                if (options && options.ariaLabel) {\n                    this.element.attr(ARIA_LABEL, options.ariaLabel);\n                } else if (options && options.ariaLabelledBy) {\n                    this.element.attr(ARIA_LABELLEDBY, options.ariaLabelledBy);\n                }\n                if (support.touch) {\n                    this._touchHandlers();\n                }\n                if (this.options.selectable === 'multiple') {\n                    this.element.attr(ARIA_MULTISELECTABLE, true);\n                }\n                if (this.options.columns && this.options.columns.length) {\n                    var thead = this.element.parent().find('.k-table-thead');\n                    var row = $('<tr class=\"k-table-group-row\">' + '<th class=\"k-table-th\" colspan=\"' + this.options.columns.length + '\"></th>' + '</tr>');\n                    thead.append(row);\n                    this.header = row.find('.k-table-th');\n                    this.content = this.element.wrap('<div class=\\'k-table-body k-table-scroller\\' unselectable=\\'on\\'></div>').parent();\n                    this.element.addClass(TABLE_LIST);\n                } else {\n                    this.content = this.element.wrap('<div class=\\'k-list-content k-list-scroller\\' unselectable=\\'on\\'></div>').parent();\n                    this.header = this.content.before('<div class=\"k-list-group-sticky-header\" style=\"display:none\"></div>').prev();\n                    this.element.addClass(LIST_UL);\n                }\n                this.bound(false);\n                this._optionID = kendo.guid();\n                this._selectedIndices = [];\n                this._view = [];\n                this._dataItems = [];\n                this._values = [];\n                var value = this.options.value;\n                if (value) {\n                    this._values = Array.isArray(value) ? value.slice(0) : [value];\n                }\n                this._getter();\n                this._templates();\n                this.setDataSource(this.options.dataSource);\n                this._onScroll = proxy(function () {\n                    var that = this;\n                    clearTimeout(that._scrollId);\n                    that._scrollId = setTimeout(function () {\n                        that._renderHeader();\n                    }, 50);\n                }, this);\n            },\n            options: {\n                name: 'StaticList',\n                dataValueField: null,\n                valuePrimitive: false,\n                selectable: true,\n                template: null,\n                groupTemplate: null,\n                fixedGroupTemplate: null,\n                ariaLabel: null,\n                ariaLabelledBy: null\n            },\n            events: [\n                CLICK,\n                CHANGE,\n                ACTIVATE,\n                DEACTIVATE,\n                DATA_BINDING,\n                DATA_BOUND,\n                SELECTED_ITEM_CHANGE\n            ],\n            setDataSource: function (source) {\n                var that = this;\n                var dataSource = source || {};\n                var value;\n                dataSource = Array.isArray(dataSource) ? { data: dataSource } : dataSource;\n                dataSource = kendo.data.DataSource.create(dataSource);\n                if (that.dataSource) {\n                    that.dataSource.unbind(CHANGE, that._refreshHandler);\n                    value = that.value();\n                    that.value([]);\n                    that.bound(false);\n                    that.value(value);\n                } else {\n                    that._refreshHandler = proxy(that.refresh, that);\n                }\n                that.setDSFilter(dataSource.filter());\n                that.dataSource = dataSource.bind(CHANGE, that._refreshHandler);\n                that._fixedHeader();\n            },\n            _touchHandlers: function () {\n                var that = this;\n                var startY;\n                var endY;\n                var tapPosition = function (event) {\n                    return (event.originalEvent || event).changedTouches[0].pageY;\n                };\n                that.element.on('touchstart' + STATIC_LIST_NS, function (e) {\n                    startY = tapPosition(e);\n                });\n                that.element.on('touchend' + STATIC_LIST_NS, function (e) {\n                    if (e.isDefaultPrevented()) {\n                        return;\n                    }\n                    endY = tapPosition(e);\n                    if (Math.abs(endY - startY) < 10) {\n                        that._touchTriggered = true;\n                        that._triggerClick($(e.target).closest(ITEMSELECTOR).get(0));\n                    }\n                });\n            },\n            skip: function () {\n                return this.dataSource.skip();\n            },\n            setOptions: function (options) {\n                Widget.fn.setOptions.call(this, options);\n                this._getter();\n                this._templates();\n                this._render();\n            },\n            destroy: function () {\n                this.element.off(STATIC_LIST_NS);\n                if (this._refreshHandler) {\n                    this.dataSource.unbind(CHANGE, this._refreshHandler);\n                }\n                clearTimeout(this._scrollId);\n                Widget.fn.destroy.call(this);\n            },\n            dataItemByIndex: function (index) {\n                return this.dataSource.flatView()[index];\n            },\n            screenHeight: function () {\n                return this.content[0].clientHeight;\n            },\n            scrollToIndex: function (index) {\n                var item = this.element[0].children[index];\n                if (item) {\n                    this.scroll(item);\n                }\n            },\n            scrollWith: function (value) {\n                this.content.scrollTop(this.content.scrollTop() + value);\n            },\n            scroll: function (item) {\n                if (!item) {\n                    return;\n                }\n                if (item[0]) {\n                    item = item[0];\n                }\n                var content = this.content[0], itemOffsetTop = item.offsetTop, itemOffsetHeight = item.offsetHeight, contentScrollTop = content.scrollTop, contentOffsetHeight = content.clientHeight, bottomDistance = itemOffsetTop + itemOffsetHeight;\n                if (contentScrollTop > itemOffsetTop) {\n                    contentScrollTop = itemOffsetTop;\n                } else if (bottomDistance > contentScrollTop + contentOffsetHeight) {\n                    contentScrollTop = bottomDistance - contentOffsetHeight;\n                }\n                content.scrollTop = contentScrollTop;\n            },\n            selectedDataItems: function (dataItems) {\n                if (dataItems === undefined) {\n                    return this._dataItems.slice();\n                }\n                this._dataItems = dataItems;\n                this._values = this._getValues(dataItems);\n            },\n            _getValues: function (dataItems) {\n                var getter = this._valueGetter;\n                return $.map(dataItems, function (dataItem) {\n                    return getter(dataItem);\n                });\n            },\n            focusNext: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = 0;\n                } else {\n                    current = current.next();\n                }\n                this.focus(current);\n            },\n            focusPrev: function () {\n                var current = this.focus();\n                if (!current) {\n                    current = this.element[0].children.length - 1;\n                } else {\n                    current = current.prev();\n                }\n                this.focus(current);\n            },\n            focusFirst: function () {\n                this.focus(this.element[0].children[0]);\n            },\n            focusLast: function () {\n                this.focus(last(this.element[0].children));\n            },\n            focus: function (candidate) {\n                var that = this;\n                var id = that._optionID;\n                var hasCandidate;\n                if (candidate === undefined) {\n                    return that._current;\n                }\n                candidate = last(that._get(candidate));\n                candidate = $(this.element[0].children[candidate]);\n                if (that._current) {\n                    that._current.removeClass(FOCUSED).removeAttr(ID);\n                    that.trigger(DEACTIVATE);\n                }\n                hasCandidate = !!candidate[0];\n                if (hasCandidate) {\n                    candidate.addClass(FOCUSED);\n                    that.scroll(candidate);\n                    candidate.attr('id', id);\n                }\n                that._current = hasCandidate ? candidate : null;\n                that.trigger(ACTIVATE);\n            },\n            focusIndex: function () {\n                return this.focus() ? this.focus().index() : undefined;\n            },\n            skipUpdate: function (skipUpdate) {\n                this._skipUpdate = skipUpdate;\n            },\n            select: function (indices) {\n                var that = this;\n                var selectable = that.options.selectable;\n                var singleSelection = selectable !== 'multiple' && selectable !== false;\n                var selectedIndices = that._selectedIndices;\n                var uiSelectedIndices = [this.element.find('.k-selected').index()];\n                var added = [];\n                var removed = [];\n                var result;\n                if (indices === undefined) {\n                    return selectedIndices.slice();\n                }\n                indices = that._get(indices);\n                if (indices.length === 1 && indices[0] === -1) {\n                    indices = [];\n                }\n                var deferred = $.Deferred().resolve();\n                var filtered = that.isFiltered();\n                if (filtered && !singleSelection && that._deselectFiltered(indices)) {\n                    return deferred;\n                }\n                if (singleSelection && !filtered && $.inArray(last(indices), selectedIndices) !== -1 && $.inArray(last(indices), uiSelectedIndices) !== -1) {\n                    if (that._dataItems.length && that._view.length) {\n                        that._dataItems = [that._view[selectedIndices[0]].item];\n                    }\n                    return deferred;\n                }\n                result = that._deselect(indices);\n                removed = result.removed;\n                indices = result.indices;\n                if (indices.length) {\n                    if (singleSelection) {\n                        indices = [last(indices)];\n                    }\n                    added = that._select(indices);\n                }\n                if (added.length || removed.length) {\n                    that._valueComparer = null;\n                    that.trigger(CHANGE, {\n                        added: added,\n                        removed: removed\n                    });\n                }\n                return deferred;\n            },\n            removeAt: function (position) {\n                this._selectedIndices.splice(position, 1);\n                this._values.splice(position, 1);\n                this._valueComparer = null;\n                return {\n                    position: position,\n                    dataItem: this._dataItems.splice(position, 1)[0]\n                };\n            },\n            setValue: function (value) {\n                value = Array.isArray(value) || value instanceof ObservableArray ? value.slice(0) : [value];\n                this._values = value;\n                this._valueComparer = null;\n            },\n            value: function (value) {\n                var that = this;\n                var deferred = that._valueDeferred;\n                var indices;\n                if (value === undefined) {\n                    return that._values.slice();\n                }\n                that.setValue(value);\n                if (!deferred || deferred.state() === 'resolved') {\n                    that._valueDeferred = deferred = $.Deferred();\n                }\n                if (that.bound()) {\n                    indices = that._valueIndices(that._values);\n                    if (that.options.selectable === 'multiple') {\n                        that.select(-1);\n                    }\n                    that.select(indices);\n                    deferred.resolve();\n                }\n                that._skipUpdate = false;\n                return deferred;\n            },\n            items: function () {\n                return this.element.children(ITEMSELECTOR);\n            },\n            _click: function (e) {\n                if (this._touchTriggered) {\n                    this._touchTriggered = false;\n                    return;\n                }\n                if (!e.isDefaultPrevented()) {\n                    this._triggerClick(e.currentTarget);\n                }\n            },\n            _triggerClick: function (item) {\n                if (!this.trigger(CLICK, { item: $(item) })) {\n                    this.select(item);\n                }\n            },\n            _valueExpr: function (type, values) {\n                var that = this;\n                var idx = 0;\n                var body;\n                var comparer;\n                var normalized = [];\n                if (!that._valueComparer || that._valueType !== type) {\n                    that._valueType = type;\n                    for (; idx < values.length; idx++) {\n                        normalized.push(unifyType(values[idx], type));\n                    }\n                    body = 'for (var idx = 0; idx < ' + normalized.length + '; idx++) {' + ' if (current === values[idx]) {' + '   return idx;' + ' }' + '} ' + 'return -1;';\n                    comparer = new Function('current', 'values', body);\n                    that._valueComparer = function (current) {\n                        return comparer(current, normalized);\n                    };\n                }\n                return that._valueComparer;\n            },\n            _dataItemPosition: function (dataItem, values) {\n                var value = this._valueGetter(dataItem);\n                var valueExpr = this._valueExpr(typeof value, values);\n                return valueExpr(value);\n            },\n            _getter: function () {\n                this._valueGetter = kendo.getter(this.options.dataValueField);\n            },\n            _deselect: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var selectable = that.options.selectable;\n                var selectedIndices = that._selectedIndices;\n                var dataItems = that._dataItems;\n                var values = that._values;\n                var removed = [];\n                var i = 0;\n                var j;\n                var index, selectedIndex;\n                var removedIndices = 0;\n                indices = indices.slice();\n                if (selectable === true || !indices.length) {\n                    for (; i < selectedIndices.length; i++) {\n                        $(children[selectedIndices[i]]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                        removed.push({\n                            position: i,\n                            dataItem: dataItems[i]\n                        });\n                    }\n                    that._values = [];\n                    that._dataItems = [];\n                    that._selectedIndices = [];\n                } else if (selectable === 'multiple') {\n                    for (; i < indices.length; i++) {\n                        index = indices[i];\n                        if (!$(children[index]).hasClass(KSELECTED)) {\n                            continue;\n                        }\n                        for (j = 0; j < selectedIndices.length; j++) {\n                            selectedIndex = selectedIndices[j];\n                            if (selectedIndex === index) {\n                                $(children[selectedIndex]).removeClass(KSELECTED).attr(ARIA_SELECTED, false);\n                                var dataItem = this._view[index].item;\n                                var position = this._dataItemPosition(dataItem, this._values);\n                                removed.push({\n                                    position: position,\n                                    dataItem: dataItem\n                                });\n                                dataItems.splice(j, 1);\n                                selectedIndices.splice(j, 1);\n                                indices.splice(i, 1);\n                                values.splice(j, 1);\n                                removedIndices += 1;\n                                i -= 1;\n                                j -= 1;\n                                break;\n                            }\n                        }\n                    }\n                }\n                return {\n                    indices: indices,\n                    removed: removed\n                };\n            },\n            _deselectFiltered: function (indices) {\n                var children = this.element[0].children;\n                var dataItem, index, position;\n                var removed = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = this._view[index].item;\n                    position = this._dataItemPosition(dataItem, this._values);\n                    if (position > -1) {\n                        removed.push(this.removeAt(position));\n                        $(children[index]).removeClass(KSELECTED);\n                    }\n                }\n                if (removed.length) {\n                    this.trigger(CHANGE, {\n                        added: [],\n                        removed: removed\n                    });\n                    return true;\n                }\n                return false;\n            },\n            _select: function (indices) {\n                var that = this;\n                var children = that.element[0].children;\n                var data = that._view;\n                var dataItem, index;\n                var added = [];\n                var idx = 0;\n                if (last(indices) !== -1) {\n                    that.focus(indices);\n                }\n                for (; idx < indices.length; idx++) {\n                    index = indices[idx];\n                    dataItem = data[index];\n                    if (index === -1 || !dataItem) {\n                        continue;\n                    }\n                    dataItem = dataItem.item;\n                    that._selectedIndices.push(index);\n                    that._dataItems.push(dataItem);\n                    that._values.push(that._valueGetter(dataItem));\n                    $(children[index]).addClass(KSELECTED).attr(ARIA_SELECTED, true);\n                    added.push({ dataItem: dataItem });\n                }\n                return added;\n            },\n            getElementIndex: function (element) {\n                return $(element).data('offset-index');\n            },\n            _get: function (candidate) {\n                if (typeof candidate === 'number') {\n                    candidate = [candidate];\n                } else if (!isArray(candidate)) {\n                    candidate = this.getElementIndex(candidate);\n                    candidate = [candidate !== undefined ? candidate : -1];\n                }\n                return candidate;\n            },\n            _template: function () {\n                var that = this;\n                var options = that.options;\n                var template = options.template;\n                if (!template) {\n                    template = kendo.template('<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\"><span class=\"k-list-item-text\">${' + kendo.expr(options.dataTextField, 'data') + '}</span></li>', { useWithBlock: false });\n                } else {\n                    template = kendo.template(template);\n                    template = function (data) {\n                        return '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" class=\"k-list-item\">' + template(data) + '</li>';\n                    };\n                }\n                return template;\n            },\n            _templates: function () {\n                var template;\n                var options = this.options;\n                var templates = {\n                    template: options.template,\n                    groupTemplate: options.groupTemplate,\n                    fixedGroupTemplate: options.fixedGroupTemplate\n                };\n                if (options.columns) {\n                    for (var i = 0; i < options.columns.length; i++) {\n                        var currentColumn = options.columns[i];\n                        var templateText = currentColumn.field ? currentColumn.field.toString() : TEXT;\n                        templates['column' + i] = currentColumn.template || '#: ' + templateText + '#';\n                    }\n                }\n                for (var key in templates) {\n                    template = templates[key];\n                    if (template && typeof template !== 'function') {\n                        templates[key] = kendo.template(template);\n                    }\n                }\n                this.templates = templates;\n            },\n            _normalizeIndices: function (indices) {\n                var newIndices = [];\n                var idx = 0;\n                for (; idx < indices.length; idx++) {\n                    if (indices[idx] !== undefined) {\n                        newIndices.push(indices[idx]);\n                    }\n                }\n                return newIndices;\n            },\n            _valueIndices: function (values, indices) {\n                var data = this._view;\n                var idx = 0;\n                var index;\n                indices = indices ? indices.slice() : [];\n                if (!values.length) {\n                    return [];\n                }\n                for (; idx < data.length; idx++) {\n                    index = this._dataItemPosition(data[idx].item, values);\n                    if (index !== -1) {\n                        indices[index] = idx;\n                    }\n                }\n                return this._normalizeIndices(indices);\n            },\n            _firstVisibleItem: function () {\n                var element = this.element[0];\n                var content = this.content[0];\n                var scrollTop = content.scrollTop;\n                var itemHeight = $(element.children[0]).height();\n                var itemIndex = Math.floor(scrollTop / itemHeight) || 0;\n                var item = element.children[itemIndex] || element.lastChild;\n                var forward = item.offsetTop < scrollTop;\n                while (item) {\n                    if (forward) {\n                        if (item.offsetTop + itemHeight > scrollTop || !item.nextSibling) {\n                            break;\n                        }\n                        item = item.nextSibling;\n                    } else {\n                        if (item.offsetTop <= scrollTop || !item.previousSibling) {\n                            break;\n                        }\n                        item = item.previousSibling;\n                    }\n                }\n                return this._view[$(item).data('offset-index')];\n            },\n            _fixedHeader: function () {\n                if (this.isGrouped() && this.templates.fixedGroupTemplate) {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).show();\n                    } else {\n                        this.header.show();\n                    }\n                    this.content.scroll(this._onScroll);\n                } else {\n                    if (this.header.closest(GROUP_ROW_SEL).length) {\n                        this.header.closest(GROUP_ROW_SEL).hide();\n                    } else {\n                        this.header.hide();\n                    }\n                    this.content.off('scroll', this._onScroll);\n                }\n            },\n            _renderHeader: function () {\n                var template = this.templates.fixedGroupTemplate;\n                if (!template) {\n                    return;\n                }\n                var visibleItem = this._firstVisibleItem();\n                if (visibleItem && visibleItem.group.toString().length) {\n                    this.header.html(template(visibleItem.group));\n                }\n            },\n            _renderItem: function (context) {\n                var item = '<li tabindex=\"-1\" role=\"option\" unselectable=\"on\" ';\n                var dataItem = context.item;\n                var notFirstItem = context.index !== 0;\n                var selected = context.selected;\n                var isGrouped = this.isGrouped();\n                var hasColumns = this.options.columns && this.options.columns.length;\n                var altRow = context.index % 2 === 1 ? ' k-table-alt-row' : '';\n                if (hasColumns) {\n                    item += 'class=\"k-table-row' + altRow;\n                } else {\n                    item += 'class=\"k-list-item';\n                }\n                if (notFirstItem && context.newGroup) {\n                    item += ' k-first';\n                }\n                if (context.isLastGroupedItem && hasColumns) {\n                    item += ' k-last';\n                }\n                if (selected) {\n                    item += ' k-selected';\n                }\n                item += '\" aria-selected=\"' + (selected ? 'true' : 'false') + '\" data-offset-index=\"' + context.index + '\">';\n                if (hasColumns) {\n                    item += this._renderColumns(dataItem);\n                } else {\n                    item += '<span class=\"k-list-item-text\">';\n                    item += this.templates.template(dataItem);\n                    item += '</span>';\n                }\n                if (notFirstItem && context.newGroup) {\n                    if (hasColumns) {\n                        item += '<span class=\"k-table-td k-table-group-td\"><span>' + this.templates.groupTemplate(context.group) + '</span></span>';\n                    } else {\n                        item += '<div class=\"k-list-item-group-label\">' + this.templates.groupTemplate(context.group) + '</div>';\n                    }\n                } else if (isGrouped && hasColumns) {\n                    item += '<span class=\"k-table-td k-table-spacer-td\"></span>';\n                }\n                return item + '</li>';\n            },\n            _renderColumns: function (dataItem) {\n                var item = '';\n                for (var i = 0; i < this.options.columns.length; i++) {\n                    var currentWidth = this.options.columns[i].width;\n                    var currentWidthInt = parseInt(currentWidth, 10);\n                    var widthStyle = '';\n                    if (currentWidth && !isNaN(currentWidthInt)) {\n                        widthStyle += 'style=\\'width:';\n                        widthStyle += currentWidthInt;\n                        widthStyle += percentageUnitsRegex.test(currentWidth) ? '%' : 'px';\n                        widthStyle += ';\\'';\n                    }\n                    item += '<span class=\\'k-table-td\\' ' + widthStyle + '>';\n                    item += this.templates['column' + i](dataItem);\n                    item += '</span>';\n                }\n                return item;\n            },\n            _render: function () {\n                var html = '';\n                var i = 0;\n                var idx = 0;\n                var context;\n                var dataContext = [];\n                var view = this.dataSource.view();\n                var values = this.value();\n                var group, newGroup, j;\n                var isGrouped = this.isGrouped();\n                if (isGrouped) {\n                    for (i = 0; i < view.length; i++) {\n                        group = view[i];\n                        newGroup = true;\n                        for (j = 0; j < group.items.length; j++) {\n                            context = {\n                                selected: this._selected(group.items[j], values),\n                                item: group.items[j],\n                                group: group.value,\n                                newGroup: newGroup,\n                                isLastGroupedItem: j === group.items.length - 1,\n                                index: idx\n                            };\n                            dataContext[idx] = context;\n                            idx += 1;\n                            html += this._renderItem(context);\n                            newGroup = false;\n                        }\n                    }\n                } else {\n                    for (i = 0; i < view.length; i++) {\n                        context = {\n                            selected: this._selected(view[i], values),\n                            item: view[i],\n                            index: i\n                        };\n                        dataContext[i] = context;\n                        html += this._renderItem(context);\n                    }\n                }\n                this._view = dataContext;\n                this.element[0].innerHTML = html;\n                if (isGrouped && dataContext.length) {\n                    this._renderHeader();\n                }\n            },\n            _selected: function (dataItem, values) {\n                var select = !this.isFiltered() || this.options.selectable === 'multiple';\n                return select && this._dataItemPosition(dataItem, values) !== -1;\n            },\n            setDSFilter: function (filter) {\n                this._lastDSFilter = extend({}, filter);\n            },\n            isFiltered: function () {\n                if (!this._lastDSFilter) {\n                    this.setDSFilter(this.dataSource.filter());\n                }\n                return !kendo.data.Query.compareFilters(this.dataSource.filter(), this._lastDSFilter);\n            },\n            refresh: function (e) {\n                var that = this;\n                var action = e && e.action;\n                var skipUpdateOnBind = that.options.skipUpdateOnBind;\n                var isItemChange = action === 'itemchange';\n                var result;\n                that.trigger(DATA_BINDING);\n                that._angularItems('cleanup');\n                that._fixedHeader();\n                that._render();\n                that.bound(true);\n                if (isItemChange || action === 'remove') {\n                    result = mapChangedItems(that._dataItems, e.items);\n                    if (result.changed.length) {\n                        if (isItemChange) {\n                            that.trigger(SELECTED_ITEM_CHANGE, { items: result.changed });\n                        } else {\n                            that.value(that._getValues(result.unchanged));\n                        }\n                    }\n                } else if (that.isFiltered() || that._skipUpdate || that._emptySearch) {\n                    that.focus(0);\n                    if (that._skipUpdate) {\n                        that._skipUpdate = false;\n                        that._selectedIndices = that._valueIndices(that._values, that._selectedIndices);\n                    }\n                } else if (!skipUpdateOnBind && (!action || action === 'add')) {\n                    that.value(that._values);\n                }\n                if (that._valueDeferred) {\n                    that._valueDeferred.resolve();\n                }\n                that._angularItems('compile');\n                that.trigger(DATA_BOUND);\n            },\n            bound: function (bound) {\n                if (bound === undefined) {\n                    return this._bound;\n                }\n                this._bound = bound;\n            },\n            isGrouped: function () {\n                return (this.dataSource.group() || []).length;\n            }\n        });\n        ui.plugin(StaticList);\n        function last(list) {\n            return list[list.length - 1];\n        }\n        function getSelectedOption(select) {\n            var index = select.selectedIndex;\n            return index > -1 ? select.options[index] : {};\n        }\n        function mapChangedItems(selected, itemsToMatch) {\n            var itemsLength = itemsToMatch.length;\n            var selectedLength = selected.length;\n            var dataItem;\n            var found;\n            var i, j;\n            var changed = [];\n            var unchanged = [];\n            if (selectedLength) {\n                for (i = 0; i < selectedLength; i++) {\n                    dataItem = selected[i];\n                    found = false;\n                    for (j = 0; j < itemsLength; j++) {\n                        if (dataItem === itemsToMatch[j]) {\n                            found = true;\n                            changed.push({\n                                index: i,\n                                item: dataItem\n                            });\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        unchanged.push(dataItem);\n                    }\n                }\n            }\n            return {\n                changed: changed,\n                unchanged: unchanged\n            };\n        }\n        function isValidFilterExpr(expression) {\n            if (!expression || $.isEmptyObject(expression)) {\n                return false;\n            }\n            if (expression.filters && !expression.filters.length) {\n                return false;\n            }\n            return true;\n        }\n        function removeFiltersForField(expression, field) {\n            var filters;\n            var found = false;\n            if (expression.filters) {\n                filters = $.grep(expression.filters, function (filter) {\n                    found = removeFiltersForField(filter, field);\n                    if (filter.filters) {\n                        return filter.filters.length;\n                    } else {\n                        return filter.field != field;\n                    }\n                });\n                if (!found && expression.filters.length !== filters.length) {\n                    found = true;\n                }\n                expression.filters = filters;\n            }\n            return found;\n        }\n        kendo.cssProperties.registerPrefix('List', 'k-list-');\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}