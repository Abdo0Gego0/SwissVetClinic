{"version":3,"sources":["kendo.gantt.timeline.js"],"names":["f","define","$","trimOptions","options","name","prefix","views","getWorkDays","workDays","dayIndex","workWeekStart","push","workWeekEnd","blurActiveElement","activeElement","kendo","_activeElement","nodeName","toLowerCase","trigger","timelineStyles","GanttTimeline","Widget","ui","kendoDomElement","dom","element","kendoTextElement","text","kendoHtmlElement","html","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","extend","proxy","isRtl","keys","Query","data","STRING","NS","CLICK","DBLCLICK","MOUSEMOVE","MOUSEENTER","MOUSELEAVE","KEYDOWN","DOT","TIME_HEADER_TEMPLATE","template","DAY_HEADER_TEMPLATE","WEEK_HEADER_TEMPLATE","MONTH_HEADER_TEMPLATE","YEAR_HEADER_TEMPLATE","RESIZE_HINT","RESIZE_TOOLTIP_TEMPLATE","PERCENT_RESIZE_TOOLTIP_TEMPLATE","TASK_TOOLTIP_TEMPLATE","OFFSET_TOOLTIP_TEMPLATE","PLANNED_TOOLTIP_TEMPLATE","SIZE_CALCULATION_TEMPLATE","defaultViews","day","type","week","month","year","viewStyles","alt","reset","nonWorking","header","gridHeader","gridHeaderWrap","gridContent","tasksWrapper","rowsTable","columnsTable","tasksTable","dependenciesWrapper","resource","resourceAlt","task","taskSingle","taskMilestone","taskSummary","taskWrap","taskMilestoneWrap","taskSummaryWrap","taskPlanned","taskPlannedMoment","taskPlannedDuration","taskPlannedMomentLeft","taskAdvanced","taskDelayed","taskOffset","taskOffsetWrap","taskInnerWrap","resourcesWrap","taskDot","taskDotStart","taskDotEnd","taskDragHandle","taskContent","taskTemplate","taskActions","taskDelete","taskComplete","taskDetails","taskDetailsPercent","link","icon","iconDelete","taskResizeHandle","taskResizeHandleWest","taskResizeHandleEast","taskSummaryProgress","taskSummaryComplete","line","lineHorizontal","lineVertical","arrowWest","arrowEast","dragHint","dependencyHint","tooltipWrapper","tooltipContent","tooltipCallout","callout","marquee","marqueeColor","offsetTooltipAdvanced","offsetTooltipDelay","plannedTooltip","GanttView","init","fn","call","this","title","find","styles","content","contentWidth","width","_workDays","_headerTree","headerTree","_taskTree","taskTree","_taskTemplate","Template","templateSettings","_dependencyTree","dependencyTree","_taskCoordinates","_currentTime","destroy","clearTimeout","_tooltipTimeout","headerRow","_dragHint","_resizeHint","_resizeTooltip","_taskTooltip","_percentCompleteResizeTooltip","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","hourSpan","slotSize","currentTimeMarker","updateInterval","renderLayout","_slots","_createSlots","_tableWidth","_calculateTableWidth","createLayout","_layout","_slotDimensions","_adjustHeight","height","rows","headers","_headers","colgroup","_colgroup","tree","table","style","role","render","first","last","slot","i","length","children","slots","_timeSlots","offsetLeft","offsetWidth","tasks","contentTable","totalHeight","taskCount","_rowsTable","_columnsTable","_tasksTable","calculatedSize","row","_contentHeight","_rowHeight","undefined","_renderCurrentTime","rowCount","attributes","className","_createTable","slotSpan","cells","slotsCount","totalSpan","span","colspan","isNonWorking","cell","position","plannedPosition","resourcesPosition","resourceStyle","l","coordinates","size","_calculateMilestoneWidth","milestoneWidth","Math","round","resourcesField","resourcesMargin","_calculateResourcesMargin","taskBorderWidth","_calculateTaskBorderWidth","showPlannedTasks","addCoordinates","rowIndex","taskLeft","left","taskRight","isMilestone","id","start","end","_taskPosition","_taskPositionPlanned","borderWidth","_renderTask","max","clientWidth","_renderResources","tbody","cols","currentSpan","tableWidth","maxSpan","boundingClientRect","milestone","append","getBoundingClientRect","right","remove","margin","wrapper","parseInt","css","computedStyle","getComputedStyles","parseFloat","taskWrapper","taskElement","progressHandleOffset","plannedElement","endTaskDotLeft","offsetElement","editable","wrapClassName","dragHandleStyle","taskWrapAttr","endTaskDotRight","taskFullWidth","_renderPlannedMilestone","_renderPlannedSingleTask","summary","_renderSummary","_renderMilestone","_renderSingleTask","plannedStart","plannedEnd","resize","update","href","aria-label","dependencyCreate","dragPercentComplete","percentComplete","progressWidth","taskChildren","classes","widthExceptDelay","data-uid","uid","showPlanned","margin-left","margin-right","resources","color","get","reverse","startLeft","_offset","endLeft","date","startOffset","slotDuration","startIndex","slotOffset","_slotIndex","field","value","middle","startIdx","endIdx","slice","ceil","_timeByPosition","x","snap","snapToEnd","duration","_slotByPosition","offset","getTime","slotIndex","_renderDependencies","dependencies","elements","apply","_renderDependency","dependency","method","predecessor","predecessorId","successor","successorId","attr","_renderFF","from","to","lines","_dependencyFF","_arrow","_renderSS","_renderFS","_dependencyFS","_renderSF","delta","that","top","dir","overlap","arrowOverlap","rowHeight","minLineWidth","fromTop","floor","toTop","addHorizontal","_line","addVertical","abs","minLineHeight","minDistance","direction","j","count","_createDragHint","clone","addClass","cursor","visibility","closest","_updateDragHint","_removeDragHint","_createResizeHint","tooltipHeight","tooltipTop","taskTop","messages","format","resizeTooltipFormat","_resizeTooltipWidth","_resizeTooltipTop","_updateResizeHint","resizeStart","tooltipLeft","tablesWidth","support","scrollbar","tooltipWidth","tableOffset","min-width","appendTo","_removeResizeHint","_updatePercentCompleteTooltip","tooltip","tooltipMiddle","arrow","arrowHeight","_removePercentCompleteTooltip","_updateDependencyDragHint","_removeDependencyDragHint","_creteDependencyDragHint","deltaX","deltaY","y","sqrt","angle","atan","PI","transform-origin","-ms-transform-origin","-webkit-transform-origin","transform","-ms-transform","-webkit-transform","_createTaskTooltip","mouseLeft","contentOffset","contentScrollLeft","scrollLeft","parents","rowOffset","scrollTop","_adjustTooltipDimensions","_removeTaskTooltip","_createOffsetTooltip","hours","days","_offsetTooltip","offsetValue","plannedTasksMessages","plannedTasks","minutes","offsetText","offsetPrefix","_removeOffsetTooltip","_createPlannedTooltip","_plannedTooltip","editorMessages","editor","startDate","toString","endDate","_removePlannedTooltip","_scrollTo","elementLeft","elementWidth","elementRight","rowTop","rowBottom","contentTop","contentHeight","contentBottom","contentLeft","contentRight","scrollbarWidth","_scrollToDate","viewStart","viewEnd","columnLevels","level","column","headerText","levelIndex","levelCount","columnIndex","columnCount","_hours","slotEnd","isWorkHour","getHours","setHours","_days","isWorkDay","nextDay","_isWorkDay","_weeks","daySlots","firstDay","calendarInfo","dayOfWeek","addDays","_months","endMonth","firstDayOfMonth","setMonth","getMonth","_years","monthSpan","_slotHeaders","columns","getDay","getCulture","calendars","standard","currentTime","_getCurrentTime","timeOffset","tablesWrap","markerOptions","_currentTimeUpdateTimer","setInterval","GanttDayView","timeHeaderTemplate","dayHeaderTemplate","range","optionsRange","getDate","getMilliseconds","daySlot","hourSlots","GanttWeekView","weekHeaderTemplate","endDay","rangeEnd","setDate","GanttMonthView","monthHeaderTemplate","lastDayOfMonth","GanttYearView","yearHeaderTemplate","monthSlots","each","index","gridContentWrap","taskWrapActive","hovered","selected","origin","_wrapper","_domTrees","_views","_selectable","_draggable","_resizable","_percentResizeDraggable","_createDependencyDraggable","_attachEvents","_tooltip","selectable","clearInterval","_unbindView","_selectedView","_moveDraggable","_resizeDraggable","_percentDraggable","_dependencyDraggable","touch","off","calculateSize","calculatedRowHeight","calculatedCellHeight","_calculatedSize","Tree","view","isSettings","defaultView","_selectedViewName","_selectView","action","_initializeView","_viewByIndex","newRange","newDate","getter","window","Error","_range","startOrder","endOrder","sort","toArray","_render","_tasks","_taskByUid","currentStart","cleanUp","dragInProgress","move","Draggable","distance","filter","holdToDrag","mobileOS","ignore","bind","e","currentTarget","parent","preventDefault","location","throttle","updateHintDate","userEvents","currentEnd","hasClass","taskElementOffset","timelineOffset","originalPercentWidth","maxPercentWidth","currentPercentComplete","updateElement","siblings","initialDelta","currentWidth","min","originalHandle","startX","startY","hoveredHandle","hoveredTask","removeClass","toggleHandles","toggleClass","elementOffset","tablesOffset","target","currentX","currentY","elementUnderCursor","fromStart","toStart","predecessorElement","successorElement","on","stopPropagation","ctrlKey","document","elementFromPoint","clientX","clientY","click","selectDependency","clearSelection","select","_tabindex","selectedDependency","keyCode","DELETE","dependencyDestroy","kendoTouch","doubletap","currentMousePosition","tooltipOptions","mouseMoveHandler","visible","relatedTarget","currentPosition","client","setTimeout","_offsetTooltipTimeout","_plannedTooltipTimeout","_setPlanned","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.gantt.timeline.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.gantt.timeline', [\n        'kendo.dom',\n        'kendo.touch',\n        'kendo.draganddrop'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'gantt.timeline',\n        name: 'Gantt Timeline',\n        category: 'web',\n        description: 'The Gantt Timeline',\n        depends: [\n            'dom',\n            'touch',\n            'draganddrop'\n        ],\n        hidden: true\n    };\n    (function ($) {\n        var Widget = kendo.ui.Widget;\n        var kendoDomElement = kendo.dom.element;\n        var kendoTextElement = kendo.dom.text;\n        var kendoHtmlElement = kendo.dom.html;\n        var isPlainObject = $.isPlainObject;\n        var outerWidth = kendo._outerWidth;\n        var outerHeight = kendo._outerHeight;\n        var extend = $.extend;\n        var proxy = $.proxy;\n        var isRtl = false;\n        var keys = kendo.keys;\n        var Query = kendo.data.Query;\n        var STRING = 'string';\n        var NS = '.kendoGanttTimeline';\n        var CLICK = 'click';\n        var DBLCLICK = 'dblclick';\n        var MOUSEMOVE = 'mousemove';\n        var MOUSEENTER = 'mouseenter';\n        var MOUSELEAVE = 'mouseleave';\n        var KEYDOWN = 'keydown';\n        var DOT = '.';\n        var TIME_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'t\\')#');\n        var DAY_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'ddd M/dd\\')#');\n        var WEEK_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'ddd M/dd\\')# - #=kendo.toString(kendo.date.addDays(end, -1), \\'ddd M/dd\\')#');\n        var MONTH_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'MMM\\')#');\n        var YEAR_HEADER_TEMPLATE = kendo.template('#=kendo.toString(start, \\'yyyy\\')#');\n        var RESIZE_HINT = kendo.template('<div class=\"#=styles.marquee#\">' + '<div class=\"#=styles.marqueeColor#\"></div>' + '</div>');\n        var RESIZE_TOOLTIP_TEMPLATE = kendo.template('<div style=\"z-index: 100002;\" class=\"#=styles.tooltipWrapper# k-gantt-resize-hint\">' + '<div class=\"#=styles.tooltipContent#\">' + '<div>#=messages.start#: #=kendo.toString(start, format)#</div>' + '<div>#=messages.end#: #=kendo.toString(end, format)#</div>' + '</div>' + '</div>');\n        var PERCENT_RESIZE_TOOLTIP_TEMPLATE = kendo.template('<div style=\"z-index: 100002;\" class=\"#=styles.tooltipWrapper#\" >' + '<div class=\"#=styles.tooltipContent#\">#=text#%</div>' + '<div class=\"#=styles.tooltipCallout#\" style=\"left:13px;\"></div>' + '</div>');\n        var TASK_TOOLTIP_TEMPLATE = kendo.template('<div class=\"#=kendo.htmlEncode(styles.taskDetails)#\">' + '<strong>#=kendo.htmlEncode(task.title)#</strong>' + '<div class=\"#=styles.taskDetailsPercent#\">#=kendo.toString(task.percentComplete, \"p0\")#</div>' + '<ul class=\"#=styles.reset#\">' + '<li>#=messages.start#: #=kendo.toString(task.start, \"h:mm tt ddd, MMM d\")#</li>' + '<li>#=messages.end#: #=kendo.toString(task.end, \"h:mm tt ddd, MMM d\")#</li>' + '</ul>' + '</div>');\n        var OFFSET_TOOLTIP_TEMPLATE = kendo.template('<span>#=offsetPrefix#: #=offsetText#</span>');\n        var PLANNED_TOOLTIP_TEMPLATE = kendo.template('<div class=\"k-task-content\">' + '<div>#=plannedStart#: #=startDate#</div>' + '<div>#=plannedEnd#: #=endDate#</div>' + '</div>');\n        var SIZE_CALCULATION_TEMPLATE = '<table style=\\'visibility: hidden;\\'>' + '<tbody>' + '<tr style=\\'height:{0}\\'>' + '<td>&nbsp;</td>' + '</tr>' + '</tbody>' + '</table>';\n        var defaultViews = {\n            day: { type: 'kendo.ui.GanttDayView' },\n            week: { type: 'kendo.ui.GanttWeekView' },\n            month: { type: 'kendo.ui.GanttMonthView' },\n            year: { type: 'kendo.ui.GanttYearView' }\n        };\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n            delete options.views;\n            return options;\n        }\n        function getWorkDays(options) {\n            var workDays = [];\n            var dayIndex = options.workWeekStart;\n            workDays.push(dayIndex);\n            while (options.workWeekEnd != dayIndex) {\n                if (dayIndex > 6) {\n                    dayIndex -= 7;\n                } else {\n                    dayIndex++;\n                }\n                workDays.push(dayIndex);\n            }\n            return workDays;\n        }\n        function blurActiveElement() {\n            var activeElement = kendo._activeElement();\n            if (activeElement && activeElement.nodeName.toLowerCase() !== 'body') {\n                $(activeElement).trigger('blur');\n            }\n        }\n        var viewStyles = {\n            alt: 'k-alt',\n            reset: 'k-reset',\n            nonWorking: 'k-nonwork-hour',\n            header: 'k-header',\n            gridHeader: 'k-grid-header',\n            gridHeaderWrap: 'k-grid-header-wrap',\n            gridContent: 'k-grid-content',\n            tasksWrapper: 'k-gantt-tables',\n            rowsTable: 'k-gantt-rows',\n            columnsTable: 'k-gantt-columns',\n            tasksTable: 'k-gantt-tasks',\n            dependenciesWrapper: 'k-gantt-dependencies',\n            resource: 'k-resource',\n            resourceAlt: 'k-resource k-alt',\n            task: 'k-task',\n            taskSingle: 'k-task-single',\n            taskMilestone: 'k-task-milestone',\n            taskSummary: 'k-task-summary',\n            taskWrap: 'k-task-wrap',\n            taskMilestoneWrap: 'k-milestone-wrap',\n            taskSummaryWrap: 'k-summary-wrap',\n            taskPlanned: 'k-task-planned',\n            taskPlannedMoment: 'k-task-moment',\n            taskPlannedDuration: 'k-task-duration',\n            taskPlannedMomentLeft: 'k-moment-left',\n            taskAdvanced: 'k-task-advanced',\n            taskDelayed: 'k-task-delayed',\n            taskOffset: 'k-task-offset',\n            taskOffsetWrap: 'k-task-offset-wrap',\n            taskInnerWrap: 'k-task-inner-wrap',\n            resourcesWrap: 'k-resources-wrap',\n            taskDot: 'k-task-dot',\n            taskDotStart: 'k-task-start',\n            taskDotEnd: 'k-task-end',\n            taskDragHandle: 'k-task-draghandle',\n            taskContent: 'k-task-content',\n            taskTemplate: 'k-task-template',\n            taskActions: 'k-task-actions',\n            taskDelete: 'k-task-delete',\n            taskComplete: 'k-task-complete',\n            taskDetails: 'k-task-details',\n            taskDetailsPercent: 'k-task-pct',\n            link: 'k-link',\n            icon: 'k-icon',\n            iconDelete: 'k-i-close',\n            taskResizeHandle: 'k-resize-handle',\n            taskResizeHandleWest: 'k-resize-w',\n            taskResizeHandleEast: 'k-resize-e',\n            taskSummaryProgress: 'k-task-summary-progress',\n            taskSummaryComplete: 'k-task-summary-complete',\n            line: 'k-gantt-line',\n            lineHorizontal: 'k-gantt-line-h',\n            lineVertical: 'k-gantt-line-v',\n            arrowWest: 'k-arrow-w',\n            arrowEast: 'k-arrow-e',\n            dragHint: 'k-drag-hint',\n            dependencyHint: 'k-gantt-dependency-hint',\n            tooltipWrapper: 'k-tooltip',\n            tooltipContent: 'k-tooltip-content',\n            tooltipCallout: 'k-callout k-callout-s',\n            callout: 'k-callout',\n            marquee: 'k-marquee k-gantt-marquee',\n            marqueeColor: 'k-marquee-color',\n            offsetTooltipAdvanced: 'k-offset-tooltip-advanced',\n            offsetTooltipDelay: 'k-offset-tooltip-delayed',\n            plannedTooltip: 'k-planned-tooltip'\n        };\n        var GanttView = kendo.ui.GanttView = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                this.title = this.options.title || this.options.name;\n                this.header = this.element.find(DOT + GanttView.styles.gridHeader);\n                this.content = this.element.find(DOT + GanttView.styles.gridContent);\n                this.contentWidth = this.content.width();\n                this._workDays = getWorkDays(this.options);\n                this._headerTree = options.headerTree;\n                this._taskTree = options.taskTree;\n                this._taskTemplate = options.taskTemplate ? kendo.template(options.taskTemplate, extend({}, kendo.Template, options.templateSettings)) : null;\n                this._dependencyTree = options.dependencyTree;\n                this._taskCoordinates = {};\n                this._currentTime();\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                clearTimeout(this._tooltipTimeout);\n                this.headerRow = null;\n                this.header = null;\n                this.content = null;\n                this._dragHint = null;\n                this._resizeHint = null;\n                this._resizeTooltip = null;\n                this._taskTooltip = null;\n                this._percentCompleteResizeTooltip = null;\n                this._headerTree = null;\n                this._taskTree = null;\n                this._dependencyTree = null;\n            },\n            options: {\n                showWorkHours: false,\n                showWorkDays: false,\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n                workWeekStart: 1,\n                workWeekEnd: 5,\n                hourSpan: 1,\n                slotSize: 100,\n                currentTimeMarker: { updateInterval: 10000 }\n            },\n            renderLayout: function () {\n                this._slots = this._createSlots();\n                this._tableWidth = this._calculateTableWidth();\n                this.createLayout(this._layout());\n                this._slotDimensions();\n                this._adjustHeight();\n                this.content.find(DOT + GanttView.styles.dependenciesWrapper).width(this._tableWidth);\n            },\n            _adjustHeight: function () {\n                if (this.content) {\n                    this.content.height(this.element.height() - outerHeight(this.header));\n                }\n            },\n            createLayout: function (rows) {\n                var headers = this._headers(rows);\n                var colgroup = this._colgroup();\n                var tree = this._headerTree;\n                var header = kendoDomElement('tbody', null, headers);\n                var table = kendoDomElement('table', {\n                    style: { width: this._tableWidth + 'px' },\n                    role: 'presentation'\n                }, [\n                    colgroup,\n                    header\n                ]);\n                tree.render([table]);\n                this.headerRow = this.header.find('table').first().find('tr').last();\n            },\n            _slotDimensions: function () {\n                var headers = this.headerRow[0].children;\n                var slots = this._timeSlots();\n                var slot;\n                var header;\n                for (var i = 0, length = headers.length; i < length; i++) {\n                    header = headers[i];\n                    slot = slots[i];\n                    slot.offsetLeft = header.offsetLeft;\n                    slot.offsetWidth = header.offsetWidth;\n                }\n            },\n            render: function (tasks) {\n                var taskCount = tasks.length;\n                var styles = GanttView.styles;\n                var contentTable;\n                var rowsTable = this._rowsTable(taskCount);\n                var columnsTable = this._columnsTable(taskCount);\n                var tasksTable = this._tasksTable(tasks);\n                var currentTimeMarker = this.options.currentTimeMarker;\n                var calculatedSize = this.options.calculatedSize;\n                var totalHeight;\n                this._taskTree.render([\n                    rowsTable,\n                    columnsTable,\n                    tasksTable\n                ]);\n                contentTable = this.content.find(DOT + styles.rowsTable);\n                if (calculatedSize) {\n                    totalHeight = calculatedSize.row * tasks.length;\n                    this.content.find(DOT + styles.tasksTable).height(totalHeight);\n                    contentTable.height(totalHeight);\n                }\n                this._contentHeight = contentTable.height();\n                this._rowHeight = calculatedSize ? calculatedSize.row : this._contentHeight / contentTable.find('tr').length;\n                this.content.find(DOT + styles.columnsTable).height(this._contentHeight);\n                if (currentTimeMarker !== false && currentTimeMarker.updateInterval !== undefined) {\n                    this._renderCurrentTime();\n                }\n            },\n            _rowsTable: function (rowCount) {\n                var rows = [];\n                var row;\n                var styles = GanttView.styles;\n                var attributes = [\n                    null,\n                    { className: styles.alt }\n                ];\n                for (var i = 0; i < rowCount; i++) {\n                    row = kendoDomElement('tr', attributes[i % 2], [kendoDomElement('td', null, [kendoTextElement('\\xA0')])]);\n                    rows.push(row);\n                }\n                return this._createTable(1, rows, { className: styles.rowsTable });\n            },\n            _columnsTable: function () {\n                var cells = [];\n                var row;\n                var styles = GanttView.styles;\n                var slots = this._timeSlots();\n                var slotsCount = slots.length;\n                var slot;\n                var slotSpan;\n                var totalSpan = 0;\n                var attributes;\n                for (var i = 0; i < slotsCount; i++) {\n                    slot = slots[i];\n                    attributes = {};\n                    slotSpan = slot.span;\n                    totalSpan += slotSpan;\n                    if (slotSpan !== 1) {\n                        attributes.colspan = slotSpan;\n                    }\n                    if (slot.isNonWorking) {\n                        attributes.className = styles.nonWorking;\n                    }\n                    cells.push(kendoDomElement('td', attributes, [kendoTextElement('\\xA0')]));\n                }\n                row = kendoDomElement('tr', null, cells);\n                return this._createTable(totalSpan, [row], { className: styles.columnsTable });\n            },\n            _tasksTable: function (tasks) {\n                var rows = [];\n                var row;\n                var cell;\n                var position;\n                var plannedPosition;\n                var task;\n                var styles = GanttView.styles;\n                var coordinates = this._taskCoordinates = {};\n                var size = this._calculateMilestoneWidth();\n                var milestoneWidth = Math.round(size.width);\n                var resourcesField = this.options.resourcesField;\n                var className = [\n                    styles.resource,\n                    styles.resourceAlt\n                ];\n                var calculatedSize = this.options.calculatedSize;\n                var resourcesPosition;\n                var resourcesMargin = this._calculateResourcesMargin();\n                var taskBorderWidth = this._calculateTaskBorderWidth();\n                var resourceStyle;\n                var showPlannedTasks = this.options.showPlannedTasks;\n                var addCoordinates = function (rowIndex) {\n                    var taskLeft;\n                    var taskRight;\n                    taskLeft = position.left;\n                    taskRight = taskLeft + position.width;\n                    if (task.isMilestone()) {\n                        taskLeft -= milestoneWidth / 2;\n                        taskRight = taskLeft + milestoneWidth;\n                    }\n                    coordinates[task.id] = {\n                        start: taskLeft,\n                        end: taskRight,\n                        rowIndex: rowIndex\n                    };\n                };\n                for (var i = 0, l = tasks.length; i < l; i++) {\n                    task = tasks[i];\n                    position = this._taskPosition(task);\n                    if (showPlannedTasks) {\n                        plannedPosition = this._taskPositionPlanned(task);\n                        plannedPosition.borderWidth = taskBorderWidth;\n                    }\n                    position.borderWidth = taskBorderWidth;\n                    row = kendoDomElement('tr', null);\n                    cell = kendoDomElement('td');\n                    if (task.start <= this.end && task.end >= this.start) {\n                        cell.children.push(this._renderTask(tasks[i], position, plannedPosition));\n                        if (task[resourcesField] && task[resourcesField].length) {\n                            if (isRtl) {\n                                resourcesPosition = this._tableWidth - position.left;\n                            } else {\n                                resourcesPosition = Math.max(position.width || size.clientWidth, 0) + position.left;\n                            }\n                            resourceStyle = { width: this._tableWidth - (resourcesPosition + resourcesMargin) + 'px' };\n                            resourceStyle[isRtl ? 'right' : 'left'] = resourcesPosition + 'px';\n                            if (calculatedSize) {\n                                resourceStyle.height = calculatedSize.cell + 'px';\n                            }\n                            cell.children.push(kendoDomElement('div', {\n                                className: styles.resourcesWrap,\n                                style: resourceStyle\n                            }, this._renderResources(task[resourcesField], className[i % 2])));\n                        }\n                        addCoordinates(i);\n                    }\n                    row.children.push(cell);\n                    rows.push(row);\n                }\n                return this._createTable(1, rows, { className: GanttView.styles.tasksTable });\n            },\n            _createTable: function (colspan, rows, styles) {\n                var cols = [];\n                var colgroup;\n                var tbody;\n                for (var i = 0; i < colspan; i++) {\n                    cols.push(kendoDomElement('col'));\n                }\n                colgroup = kendoDomElement('colgroup', null, cols);\n                tbody = kendoDomElement('tbody', null, rows);\n                if (!styles.style) {\n                    styles.style = {};\n                }\n                styles.style.width = this._tableWidth + 'px';\n                styles.role = 'presentation';\n                return kendoDomElement('table', styles, [\n                    colgroup,\n                    tbody\n                ]);\n            },\n            _calculateTableWidth: function () {\n                var slots = this._timeSlots();\n                var maxSpan = 0;\n                var totalSpan = 0;\n                var currentSpan;\n                var tableWidth;\n                for (var i = 0, length = slots.length; i < length; i++) {\n                    currentSpan = slots[i].span;\n                    totalSpan += currentSpan;\n                    if (currentSpan > maxSpan) {\n                        maxSpan = currentSpan;\n                    }\n                }\n                tableWidth = Math.round(totalSpan * this.options.slotSize / maxSpan);\n                return tableWidth;\n            },\n            _calculateMilestoneWidth: function () {\n                var size;\n                var className = GanttView.styles.task + ' ' + GanttView.styles.taskMilestone;\n                var milestone = $('<div class=\\'' + className + '\\' style=\\'visibility: hidden; position: absolute\\'>');\n                var boundingClientRect;\n                this.content.append(milestone);\n                boundingClientRect = milestone[0].getBoundingClientRect();\n                size = {\n                    'width': boundingClientRect.right - boundingClientRect.left,\n                    'clientWidth': milestone[0].clientWidth\n                };\n                milestone.remove();\n                return size;\n            },\n            _calculateResourcesMargin: function () {\n                var margin;\n                var wrapper = $('<div class=\\'' + GanttView.styles.resourcesWrap + '\\' style=\\'visibility: hidden; position: absolute\\'>');\n                this.content.append(wrapper);\n                margin = parseInt(wrapper.css(isRtl ? 'margin-right' : 'margin-left'), 10);\n                wrapper.remove();\n                return margin;\n            },\n            _calculateTaskBorderWidth: function () {\n                var width;\n                var className = GanttView.styles.task + ' ' + GanttView.styles.taskSingle;\n                var task = $('<div class=\\'' + className + '\\' style=\\'visibility: hidden; position: absolute\\'>');\n                var computedStyle;\n                this.content.append(task);\n                computedStyle = kendo.getComputedStyles(task[0], ['border-left-width']);\n                width = parseFloat(computedStyle['border-left-width'], 10);\n                task.remove();\n                return width;\n            },\n            _renderTask: function (task, position, plannedPosition) {\n                var editable = this.options.editable;\n                var taskLeft = position.left;\n                var styles = GanttView.styles;\n                var wrapClassName = styles.taskWrap;\n                var calculatedSize = this.options.calculatedSize;\n                var dragHandleStyle = {};\n                var taskWrapAttr = {\n                    className: wrapClassName,\n                    style: { left: taskLeft + 'px' }\n                };\n                var children = [];\n                var endTaskDotRight = 0;\n                var taskFullWidth = position.width;\n                var taskWrapper, taskElement, progressHandleOffset, plannedElement;\n                var endTaskDotLeft, taskOffsetWrap, offsetElement, offsetWidth;\n                if (calculatedSize) {\n                    taskWrapAttr.style.height = calculatedSize.cell + 'px';\n                }\n                if (plannedPosition) {\n                    if (task.isMilestone()) {\n                        plannedElement = this._renderPlannedMilestone(position, plannedPosition);\n                    } else {\n                        plannedElement = this._renderPlannedSingleTask(position, plannedPosition, task);\n                    }\n                    children.push(plannedElement);\n                    if (isRtl && plannedPosition.left <= position.left) {\n                        taskWrapAttr.style.left = plannedPosition.left + 'px';\n                    }\n                }\n                if (task.summary) {\n                    taskElement = this._renderSummary(task, position, plannedPosition);\n                    taskWrapAttr.className += ' ' + styles.taskSummaryWrap;\n                } else if (task.isMilestone()) {\n                    taskElement = this._renderMilestone(task, position);\n                    taskWrapAttr.className += ' ' + styles.taskMilestoneWrap;\n                } else {\n                    taskElement = this._renderSingleTask(task, position, plannedPosition);\n                }\n                if (plannedPosition && !task.isMilestone() && task.plannedStart < task.end && task.plannedEnd > task.start && task.plannedEnd < task.end) {\n                    if (isRtl) {\n                        taskFullWidth = position.left + position.width - plannedPosition.left;\n                    } else {\n                        taskFullWidth = plannedPosition.left + plannedPosition.width - position.left;\n                    }\n                    if (isRtl) {\n                        offsetWidth = plannedPosition.left - position.left;\n                    } else {\n                        offsetWidth = position.left + position.width - (plannedPosition.left + plannedPosition.width);\n                    }\n                    offsetElement = kendoDomElement('div', {\n                        className: styles.taskOffset,\n                        style: { width: offsetWidth - 2 * plannedPosition.borderWidth + 'px' }\n                    });\n                    if (editable && editable.resize !== false && editable.update !== false && !task.summary) {\n                        if (editable.destroy !== false) {\n                            offsetElement.children.push(kendoDomElement('span', { className: styles.taskActions }, [kendoDomElement('a', {\n                                    className: styles.link + ' ' + styles.taskDelete,\n                                    href: '#',\n                                    'aria-label': 'Delete'\n                                }, [kendoDomElement('span', { className: styles.icon + ' ' + styles.iconDelete })])]));\n                        }\n                        if (isRtl) {\n                            offsetElement.children.push(kendoDomElement('span', {\n                                className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleWest,\n                                style: { right: position.width - 5 + 'px' }\n                            }));\n                        } else {\n                            offsetElement.children.push(kendoDomElement('span', { className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleEast }));\n                        }\n                    }\n                    taskOffsetWrap = kendoDomElement('div', { className: styles.taskOffsetWrap + ' ' + styles.taskInnerWrap }, [\n                        taskElement,\n                        offsetElement\n                    ]);\n                    children.push(taskOffsetWrap);\n                } else if (plannedPosition) {\n                    children.push(kendoDomElement('div', { className: styles.taskInnerWrap }, [taskElement]));\n                } else {\n                    children.push(taskElement);\n                }\n                taskWrapper = kendoDomElement('div', taskWrapAttr, children);\n                if (editable && editable.dependencyCreate !== false) {\n                    if (plannedPosition && task.plannedEnd > task.end) {\n                        endTaskDotRight = plannedPosition.left + plannedPosition.width - position.left - position.width - 3 + 'px';\n                    }\n                    taskWrapper.children.push(kendoDomElement('div', { className: styles.taskDot + ' ' + styles.taskDotStart }));\n                    if (isRtl) {\n                        endTaskDotRight = 'auto';\n                        if (plannedPosition && task.plannedEnd > task.end) {\n                            endTaskDotLeft = position.left - plannedPosition.left + 'px';\n                        }\n                    }\n                    taskWrapper.children.push(kendoDomElement('div', {\n                        className: styles.taskDot + ' ' + styles.taskDotEnd,\n                        style: {\n                            right: endTaskDotRight,\n                            left: endTaskDotLeft\n                        }\n                    }));\n                }\n                if (!task.summary && !task.isMilestone() && editable && editable.dragPercentComplete !== false && editable.update !== false && this._taskTemplate === null) {\n                    progressHandleOffset = Math.round(taskFullWidth * task.percentComplete);\n                    dragHandleStyle[isRtl ? 'right' : 'left'] = progressHandleOffset + 'px';\n                    taskWrapper.children.push(kendoDomElement('div', {\n                        className: styles.taskDragHandle,\n                        style: dragHandleStyle\n                    }));\n                }\n                return taskWrapper;\n            },\n            _renderSingleTask: function (task, position, plannedPosition) {\n                var styles = GanttView.styles;\n                var progressWidth;\n                var taskChildren = [];\n                var taskContent;\n                var editable = this.options.editable;\n                var classes = styles.task + ' ' + styles.taskSingle;\n                var widthExceptDelay = position.width;\n                if (plannedPosition) {\n                    if (task.plannedEnd && task.plannedEnd <= task.start) {\n                        classes += ' ' + styles.taskDelayed;\n                    } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                        classes += ' ' + styles.taskAdvanced;\n                    } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                        if (!isRtl) {\n                            widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                        } else {\n                            widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                        }\n                    }\n                }\n                progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n                if (this._taskTemplate !== null) {\n                    taskContent = kendoHtmlElement(this._taskTemplate(task));\n                } else {\n                    taskContent = kendoTextElement(task.title);\n                    taskChildren.push(kendoDomElement('div', {\n                        className: styles.taskComplete,\n                        style: { width: progressWidth + 'px' }\n                    }));\n                }\n                var content = kendoDomElement('div', { className: styles.taskContent }, [kendoDomElement('div', { className: styles.taskTemplate }, [taskContent])]);\n                taskChildren.push(content);\n                if (editable) {\n                    if (editable.destroy !== false && (!plannedPosition || !task.plannedEnd || (task.end <= task.plannedEnd || task.start >= task.plannedEnd))) {\n                        content.children.push(kendoDomElement('span', { className: styles.taskActions }, [kendoDomElement('a', {\n                                className: styles.link + ' ' + styles.taskDelete,\n                                href: '#',\n                                'aria-label': 'Delete'\n                            }, [kendoDomElement('span', { className: styles.icon + ' ' + styles.iconDelete })])]));\n                    }\n                    if (editable.resize !== false && editable.update !== false) {\n                        content.children.push(kendoDomElement('span', { className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleWest }));\n                        content.children.push(kendoDomElement('span', { className: styles.taskResizeHandle + ' ' + styles.taskResizeHandleEast }));\n                    }\n                }\n                var element = kendoDomElement('div', {\n                    className: classes,\n                    'data-uid': task.uid,\n                    style: { width: Math.max(widthExceptDelay - position.borderWidth * 2, 0) + 'px' }\n                }, taskChildren);\n                return element;\n            },\n            _renderMilestone: function (task) {\n                var styles = GanttView.styles;\n                var classes = styles.task + ' ' + styles.taskMilestone;\n                var showPlanned = this.options.showPlannedTasks;\n                if (showPlanned && task.plannedEnd && task.plannedEnd < task.start) {\n                    classes += ' ' + styles.taskDelayed;\n                } else if (task.plannedStart && task.plannedStart > task.end) {\n                    classes += ' ' + styles.taskAdvanced;\n                }\n                return kendoDomElement('div', {\n                    className: classes,\n                    'data-uid': task.uid\n                });\n            },\n            _renderSummary: function (task, position, plannedPosition) {\n                var styles = GanttView.styles;\n                var widthExceptDelay = position.width;\n                var progressWidth;\n                var classes = styles.task + ' ' + styles.taskSummary;\n                if (plannedPosition) {\n                    if (task.plannedEnd && task.plannedEnd <= task.start) {\n                        classes += ' ' + styles.taskDelayed;\n                    } else if (task.plannedEnd && task.plannedEnd > task.end) {\n                        classes += ' ' + styles.taskAdvanced;\n                    } else if (task.plannedEnd && task.plannedEnd < task.end) {\n                        if (!isRtl) {\n                            widthExceptDelay = widthExceptDelay - (position.left + position.width - plannedPosition.left - plannedPosition.width);\n                        } else {\n                            widthExceptDelay = widthExceptDelay + position.left - plannedPosition.left;\n                        }\n                    }\n                }\n                progressWidth = Math.round(widthExceptDelay * task.percentComplete);\n                var element = kendoDomElement('div', {\n                    className: classes,\n                    'data-uid': task.uid,\n                    style: { width: widthExceptDelay + 'px' }\n                }, [kendoDomElement('div', {\n                        className: styles.taskSummaryProgress,\n                        style: { width: progressWidth + 'px' }\n                    }, [kendoDomElement('div', {\n                            className: styles.taskSummaryComplete,\n                            style: { width: position.width + 'px' }\n                        })])]);\n                return element;\n            },\n            _renderPlannedSingleTask: function (position, plannedPosition, task) {\n                var styles = GanttView.styles;\n                var children = [];\n                var style = {};\n                if (task.plannedStart && task.plannedEnd) {\n                    children.push(kendoDomElement('div', { className: styles.taskPlannedMoment + ' ' + styles.taskPlannedMomentLeft }));\n                    children.push(kendoDomElement('div', {\n                        className: styles.taskPlannedDuration,\n                        style: { width: Math.max(plannedPosition.width - plannedPosition.borderWidth * 2 - 16, 0) + 'px' }\n                    }));\n                    children.push(kendoDomElement('div', { className: styles.taskPlannedMoment }));\n                } else if (task.plannedStart) {\n                    children.push(kendoDomElement('div', { className: styles.taskPlannedMoment + ' ' + styles.taskPlannedMomentLeft }));\n                } else if (task.plannedEnd) {\n                    children.push(kendoDomElement('div', {\n                        className: styles.taskPlannedMoment,\n                        style: { 'margin-left': Math.max(plannedPosition.width - 5, 0) + 'px' }\n                    }));\n                }\n                if (isRtl) {\n                    style = { 'margin-right': position.left - plannedPosition.left + position.width - plannedPosition.width + 'px' };\n                } else {\n                    style = { 'margin-left': plannedPosition.left - position.left + 'px' };\n                }\n                var element = kendoDomElement('div', {\n                    className: styles.taskPlanned,\n                    style: style\n                }, children);\n                return element;\n            },\n            _renderPlannedMilestone: function (position, plannedPosition) {\n                var styles = GanttView.styles;\n                var style = {};\n                var element;\n                if (isRtl) {\n                    style = { 'margin-right': position.left - plannedPosition.left + 'px' };\n                } else {\n                    style = { 'margin-left': plannedPosition.left - position.left + 'px' };\n                }\n                element = kendoDomElement('div', {\n                    className: styles.taskPlanned,\n                    style: style\n                }, [kendoDomElement('div', { className: styles.taskPlannedMoment })]);\n                return element;\n            },\n            _renderResources: function (resources, className) {\n                var children = [];\n                var resource;\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n                    children.push(kendoDomElement('span', {\n                        className: className,\n                        style: { 'color': resource.get('color') }\n                    }, [kendoTextElement(resource.get('name'))]));\n                }\n                if (isRtl) {\n                    children.reverse();\n                }\n                return children;\n            },\n            _taskPosition: function (task) {\n                var round = Math.round;\n                var startLeft = round(this._offset(isRtl ? task.end : task.start));\n                var endLeft = round(this._offset(isRtl ? task.start : task.end));\n                return {\n                    left: startLeft,\n                    width: endLeft - startLeft\n                };\n            },\n            _taskPositionPlanned: function (task) {\n                var round = Math.round;\n                var startLeft = round(this._offset(isRtl ? task.plannedEnd : task.plannedStart));\n                var endLeft = round(this._offset(isRtl ? task.plannedStart : task.plannedEnd));\n                return {\n                    left: startLeft,\n                    width: endLeft - startLeft\n                };\n            },\n            _offset: function (date) {\n                var slots = this._timeSlots();\n                var slot;\n                var startOffset;\n                var slotDuration;\n                var slotOffset = 0;\n                var startIndex;\n                if (!slots.length) {\n                    return 0;\n                }\n                startIndex = this._slotIndex('start', date);\n                slot = slots[startIndex];\n                if (slot.end < date) {\n                    slotOffset = slot.offsetWidth;\n                } else if (slot.start <= date) {\n                    startOffset = date - slot.start;\n                    slotDuration = slot.end - slot.start;\n                    slotOffset = startOffset / slotDuration * slot.offsetWidth;\n                }\n                if (isRtl) {\n                    slotOffset = slot.offsetWidth + 1 - slotOffset;\n                }\n                return slot.offsetLeft + slotOffset;\n            },\n            _slotIndex: function (field, value, reverse) {\n                var slots = this._timeSlots();\n                var startIdx = 0;\n                var endIdx = slots.length - 1;\n                var middle;\n                if (reverse) {\n                    slots = [].slice.call(slots).reverse();\n                }\n                do {\n                    middle = Math.ceil((endIdx + startIdx) / 2);\n                    if (slots[middle][field] < value) {\n                        startIdx = middle;\n                    } else {\n                        if (middle === endIdx) {\n                            middle--;\n                        }\n                        endIdx = middle;\n                    }\n                } while (startIdx !== endIdx);\n                if (reverse) {\n                    startIdx = slots.length - 1 - startIdx;\n                }\n                return startIdx;\n            },\n            _timeByPosition: function (x, snap, snapToEnd) {\n                var slot = this._slotByPosition(x);\n                if (snap) {\n                    return snapToEnd ? slot.end : slot.start;\n                }\n                var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n                var duration = slot.end - slot.start;\n                var slotOffset = offsetLeft - slot.offsetLeft;\n                if (isRtl) {\n                    slotOffset = slot.offsetWidth - slotOffset;\n                }\n                return new Date(slot.start.getTime() + duration * (slotOffset / slot.offsetWidth));\n            },\n            _slotByPosition: function (x) {\n                var offsetLeft = x - this.element.find(DOT + GanttView.styles.tasksTable).offset().left;\n                var slotIndex = this._slotIndex('offsetLeft', offsetLeft, isRtl);\n                return this._timeSlots()[slotIndex];\n            },\n            _renderDependencies: function (dependencies) {\n                var elements = [];\n                var tree = this._dependencyTree;\n                for (var i = 0, l = dependencies.length; i < l; i++) {\n                    elements.push.apply(elements, this._renderDependency(dependencies[i]));\n                }\n                tree.render(elements);\n            },\n            _renderDependency: function (dependency) {\n                var predecessor = this._taskCoordinates[dependency.predecessorId];\n                var successor = this._taskCoordinates[dependency.successorId];\n                var elements;\n                var method;\n                if (!predecessor || !successor) {\n                    return [];\n                }\n                method = '_render' + [\n                    'FF',\n                    'FS',\n                    'SF',\n                    'SS'\n                ][isRtl ? 3 - dependency.type : dependency.type];\n                elements = this[method](predecessor, successor);\n                for (var i = 0, length = elements.length; i < length; i++) {\n                    elements[i].attr['data-uid'] = dependency.uid;\n                }\n                return elements;\n            },\n            _renderFF: function (from, to) {\n                var lines = this._dependencyFF(from, to, false);\n                lines[lines.length - 1].children[0] = this._arrow(true);\n                return lines;\n            },\n            _renderSS: function (from, to) {\n                var lines = this._dependencyFF(to, from, true);\n                lines[0].children[0] = this._arrow(false);\n                return lines.reverse();\n            },\n            _renderFS: function (from, to) {\n                var lines = this._dependencyFS(from, to, false);\n                lines[lines.length - 1].children[0] = this._arrow(false);\n                return lines;\n            },\n            _renderSF: function (from, to) {\n                var lines = this._dependencyFS(to, from, true);\n                lines[0].children[0] = this._arrow(true);\n                return lines.reverse();\n            },\n            _dependencyFF: function (from, to, reverse) {\n                var that = this;\n                var lines = [];\n                var left = 0;\n                var top = 0;\n                var width = 0;\n                var height = 0;\n                var dir = reverse ? 'start' : 'end';\n                var delta;\n                var overlap = 2;\n                var arrowOverlap = 1;\n                var rowHeight = this._rowHeight;\n                var minLineWidth = 10;\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var styles = GanttView.styles;\n                var addHorizontal = function () {\n                    lines.push(that._line(styles.line + ' ' + styles.lineHorizontal, {\n                        left: left + 'px',\n                        top: top + 'px',\n                        width: width + 'px'\n                    }));\n                };\n                var addVertical = function () {\n                    lines.push(that._line(styles.line + ' ' + styles.lineVertical, {\n                        left: left + 'px',\n                        top: top + 'px',\n                        height: height + 'px'\n                    }));\n                };\n                left = from[dir];\n                top = fromTop;\n                width = minLineWidth;\n                delta = to[dir] - from[dir];\n                if (delta > 0 !== reverse) {\n                    width = Math.abs(delta) + minLineWidth;\n                }\n                if (reverse) {\n                    left -= width;\n                    width -= arrowOverlap;\n                    addHorizontal();\n                } else {\n                    addHorizontal();\n                    left += width - overlap;\n                }\n                if (toTop < top) {\n                    height = top - toTop;\n                    height += overlap;\n                    top = toTop;\n                    addVertical();\n                } else {\n                    height = toTop - top;\n                    height += overlap;\n                    addVertical();\n                    top += height - overlap;\n                }\n                width = Math.abs(left - to[dir]);\n                if (!reverse) {\n                    width -= arrowOverlap;\n                    left -= width;\n                }\n                addHorizontal();\n                return lines;\n            },\n            _dependencyFS: function (from, to, reverse) {\n                var that = this;\n                var lines = [];\n                var left = 0;\n                var top = 0;\n                var width = 0;\n                var height = 0;\n                var rowHeight = this._rowHeight;\n                var minLineHeight = Math.floor(rowHeight / 2);\n                var minLineWidth = 10;\n                var minDistance = 2 * minLineWidth;\n                var delta = to.start - from.end;\n                var overlap = 2;\n                var arrowOverlap = 1;\n                var fromTop = from.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var toTop = to.rowIndex * rowHeight + Math.floor(rowHeight / 2) - 1;\n                var styles = GanttView.styles;\n                var addHorizontal = function () {\n                    lines.push(that._line(styles.line + ' ' + styles.lineHorizontal, {\n                        left: left + 'px',\n                        top: top + 'px',\n                        width: width + 'px'\n                    }));\n                };\n                var addVertical = function () {\n                    lines.push(that._line(styles.line + ' ' + styles.lineVertical, {\n                        left: left + 'px',\n                        top: top + 'px',\n                        height: height + 'px'\n                    }));\n                };\n                left = from.end;\n                top = fromTop;\n                width = minLineWidth;\n                if (reverse) {\n                    left += arrowOverlap;\n                    if (delta > minDistance) {\n                        width = delta - (minLineWidth - overlap);\n                    }\n                    width -= arrowOverlap;\n                }\n                addHorizontal();\n                left += width - overlap;\n                if (delta <= minDistance) {\n                    height = reverse ? Math.abs(toTop - fromTop) - minLineHeight : minLineHeight;\n                    if (toTop < fromTop) {\n                        top -= height;\n                        height += overlap;\n                        addVertical();\n                    } else {\n                        addVertical();\n                        top += height;\n                    }\n                    width = from.end - to.start + minDistance;\n                    if (width < minLineWidth) {\n                        width = minLineWidth;\n                    }\n                    left -= width - overlap;\n                    addHorizontal();\n                }\n                if (toTop < fromTop) {\n                    height = top - toTop;\n                    top = toTop;\n                    height += overlap;\n                    addVertical();\n                } else {\n                    height = toTop - top;\n                    addVertical();\n                    top += height;\n                }\n                width = to.start - left;\n                if (!reverse) {\n                    width -= arrowOverlap;\n                }\n                addHorizontal();\n                return lines;\n            },\n            _line: function (className, styles) {\n                return kendoDomElement('div', {\n                    className: className,\n                    style: styles\n                });\n            },\n            _arrow: function (direction) {\n                return kendoDomElement('span', { className: direction ? GanttView.styles.arrowWest : GanttView.styles.arrowEast });\n            },\n            _colgroup: function () {\n                var slots = this._timeSlots();\n                var count = slots.length;\n                var cols = [];\n                for (var i = 0; i < count; i++) {\n                    for (var j = 0, length = slots[i].span; j < length; j++) {\n                        cols.push(kendoDomElement('col'));\n                    }\n                }\n                return kendoDomElement('colgroup', null, cols);\n            },\n            _createDragHint: function (element) {\n                var styles = GanttView.styles;\n                var plannedElement;\n                this._dragHint = element.clone().addClass(styles.dragHint).css({ 'cursor': 'move' });\n                plannedElement = this._dragHint.find(DOT + styles.taskPlanned);\n                plannedElement.css({ 'visibility': 'hidden' });\n                if (isRtl && element.find(DOT + styles.taskAdvanced).length > 0) {\n                    plannedElement.css({\n                        'margin-right': 'auto',\n                        'width': 0\n                    });\n                    this._dragHint.find(DOT + styles.taskDotEnd).css({ 'left': 0 });\n                }\n                element.closest('td').append(this._dragHint);\n            },\n            _updateDragHint: function (start) {\n                var left = this._offset(start);\n                this._dragHint.css({ 'left': left });\n            },\n            _removeDragHint: function () {\n                this._dragHint.remove();\n                this._dragHint = null;\n            },\n            _createResizeHint: function (task) {\n                var styles = GanttView.styles;\n                var taskTop = this._taskCoordinates[task.id].rowIndex * this._rowHeight;\n                var tooltipHeight;\n                var tooltipTop;\n                var options = this.options;\n                var messages = options.messages;\n                this._resizeHint = $(RESIZE_HINT({ styles: styles })).css({\n                    'top': 0,\n                    'height': this._contentHeight\n                });\n                this.content.append(this._resizeHint);\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                    styles: styles,\n                    start: task.start,\n                    end: task.end,\n                    messages: messages.views,\n                    format: options.resizeTooltipFormat\n                })).css({\n                    'top': 0,\n                    'left': 0\n                });\n                this.content.append(this._resizeTooltip);\n                this._resizeTooltipWidth = outerWidth(this._resizeTooltip);\n                tooltipHeight = outerHeight(this._resizeTooltip);\n                tooltipTop = taskTop - tooltipHeight;\n                if (tooltipTop < 0) {\n                    tooltipTop = taskTop + this._rowHeight;\n                }\n                this._resizeTooltipTop = tooltipTop;\n            },\n            _updateResizeHint: function (start, end, resizeStart) {\n                var left = this._offset(isRtl ? end : start);\n                var right = this._offset(isRtl ? start : end);\n                var width = right - left;\n                var tooltipLeft = resizeStart !== isRtl ? left : right;\n                var tablesWidth = this._tableWidth - kendo.support.scrollbar();\n                var tooltipWidth = this._resizeTooltipWidth;\n                var options = this.options;\n                var messages = options.messages;\n                var tableOffset = this.element.find(DOT + GanttView.styles.tasksTable).offset().left - this.element.find(DOT + GanttView.styles.tasksWrapper).offset().left;\n                if (isRtl) {\n                    left += tableOffset;\n                }\n                this._resizeHint.css({\n                    'left': left,\n                    'width': width\n                });\n                if (this._resizeTooltip) {\n                    this._resizeTooltip.remove();\n                }\n                tooltipLeft -= Math.round(tooltipWidth / 2);\n                if (tooltipLeft < 0) {\n                    tooltipLeft = 0;\n                } else if (tooltipLeft + tooltipWidth > tablesWidth) {\n                    tooltipLeft = tablesWidth - tooltipWidth;\n                }\n                if (isRtl) {\n                    tooltipLeft += tableOffset;\n                }\n                this._resizeTooltip = $(RESIZE_TOOLTIP_TEMPLATE({\n                    styles: GanttView.styles,\n                    start: start,\n                    end: end,\n                    messages: messages.views,\n                    format: options.resizeTooltipFormat\n                })).css({\n                    'top': this._resizeTooltipTop,\n                    'left': tooltipLeft,\n                    'min-width': tooltipWidth\n                }).appendTo(this.content);\n            },\n            _removeResizeHint: function () {\n                this._resizeHint.remove();\n                this._resizeHint = null;\n                this._resizeTooltip.remove();\n                this._resizeTooltip = null;\n            },\n            _updatePercentCompleteTooltip: function (top, left, text) {\n                this._removePercentCompleteTooltip();\n                var tooltip = this._percentCompleteResizeTooltip = $(PERCENT_RESIZE_TOOLTIP_TEMPLATE({\n                    styles: GanttView.styles,\n                    text: text\n                })).appendTo(this.element);\n                var tooltipMiddle = Math.round(outerWidth(tooltip) / 2);\n                var arrow = tooltip.find(DOT + GanttView.styles.callout);\n                var arrowHeight = Math.round(outerWidth(arrow) / 2);\n                tooltip.css({\n                    'top': top - (outerHeight(tooltip) + arrowHeight),\n                    'left': left - tooltipMiddle\n                });\n                arrow.css('left', tooltipMiddle - arrowHeight);\n            },\n            _removePercentCompleteTooltip: function () {\n                if (this._percentCompleteResizeTooltip) {\n                    this._percentCompleteResizeTooltip.remove();\n                }\n                this._percentCompleteResizeTooltip = null;\n            },\n            _updateDependencyDragHint: function (from, to) {\n                this._removeDependencyDragHint();\n                this._creteDependencyDragHint(from, to);\n            },\n            _creteDependencyDragHint: function (from, to) {\n                var styles = GanttView.styles;\n                var deltaX = to.x - from.x;\n                var deltaY = to.y - from.y;\n                var width = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n                var angle = Math.atan(deltaY / deltaX);\n                if (deltaX < 0) {\n                    angle += Math.PI;\n                }\n                $('<div class=\\'' + styles.line + ' ' + styles.lineHorizontal + ' ' + styles.dependencyHint + '\\'></div>').css({\n                    'top': from.y,\n                    'left': from.x,\n                    'width': width,\n                    'transform-origin': '0% 0',\n                    '-ms-transform-origin': '0% 0',\n                    '-webkit-transform-origin': '0% 0',\n                    'transform': 'rotate(' + angle + 'rad)',\n                    '-ms-transform': 'rotate(' + angle + 'rad)',\n                    '-webkit-transform': 'rotate(' + angle + 'rad)'\n                }).appendTo(this.content);\n            },\n            _removeDependencyDragHint: function () {\n                this.content.find(DOT + GanttView.styles.dependencyHint).remove();\n            },\n            _createTaskTooltip: function (task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var options = this.options;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = $(element).parents('tr').first();\n                var rowOffset = row.offset();\n                var template = options.tooltip && options.tooltip.template ? kendo.template(options.tooltip.template) : TASK_TOOLTIP_TEMPLATE;\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar()) : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = rowOffset.top + outerHeight(row) - contentOffset.top + content.scrollTop();\n                var tooltip = this._taskTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + '\" >' + '<div class=\"' + styles.taskContent + '\"></div></div>');\n                tooltip.css({\n                    'left': left,\n                    'top': top\n                }).appendTo(content).find(DOT + styles.taskContent).append(template({\n                    styles: styles,\n                    task: task,\n                    messages: options.messages.views\n                }));\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n            _removeTaskTooltip: function () {\n                if (this._taskTooltip) {\n                    this._taskTooltip.remove();\n                }\n                this._taskTooltip = null;\n            },\n            _createOffsetTooltip: function (task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = element.parents('tr').first();\n                var rowOffset = row.offset();\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar()) : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = rowOffset.top + outerHeight(row) - contentOffset.top + content.scrollTop();\n                var tooltip = this._offsetTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + '\" ></div>');\n                var offsetValue = Math.round((task.end.getTime() - task.plannedEnd.getTime()) / 60000);\n                var plannedTasksMessages = this.options.messages.plannedTasks;\n                var minutes = offsetValue % 60;\n                var offsetText = minutes + ' ' + plannedTasksMessages.minutes;\n                var hours, days;\n                if (offsetValue >= 60) {\n                    hours = offsetValue = Math.floor(offsetValue / 60);\n                    offsetText = hours + ' ' + plannedTasksMessages.hours;\n                    if (minutes !== 0) {\n                        offsetText += ' ' + minutes + ' ' + plannedTasksMessages.minutes;\n                    }\n                    if (offsetValue >= 24) {\n                        hours = offsetValue % 24;\n                        days = offsetValue = Math.floor(offsetValue / 24);\n                        offsetText = days + ' ' + plannedTasksMessages.days;\n                        if (hours !== 0) {\n                            offsetText += ' ' + hours + ' ' + plannedTasksMessages.hours;\n                        }\n                    }\n                }\n                tooltip.css({\n                    'left': left,\n                    'top': top\n                }).addClass(styles.offsetTooltipDelay).appendTo(content).append(OFFSET_TOOLTIP_TEMPLATE({\n                    offsetPrefix: plannedTasksMessages.offsetTooltipDelay,\n                    offsetText: offsetText\n                }));\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n            _removeOffsetTooltip: function () {\n                if (this._offsetTooltip) {\n                    this._offsetTooltip.remove();\n                }\n                this._offsetTooltip = null;\n            },\n            _createPlannedTooltip: function (task, element, mouseLeft) {\n                var styles = GanttView.styles;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentScrollLeft = kendo.scrollLeft(content);\n                var row = element.parents('tr').first();\n                var rowOffset = row.offset();\n                var left = isRtl ? mouseLeft - (contentOffset.left + contentScrollLeft + kendo.support.scrollbar()) : mouseLeft - (contentOffset.left - contentScrollLeft);\n                var top = rowOffset.top + outerHeight(row) - contentOffset.top + content.scrollTop();\n                var tooltip = this._plannedTooltip = $('<div style=\"z-index: 100002;\" class=\"' + styles.tooltipWrapper + ' ' + styles.plannedTooltip + '\" ></div>');\n                var editorMessages = this.options.messages.editor;\n                tooltip.css({\n                    'left': left,\n                    'top': top\n                }).appendTo(content).append(PLANNED_TOOLTIP_TEMPLATE({\n                    plannedStart: editorMessages.plannedStart,\n                    startDate: kendo.toString(task.plannedStart, 'H:mm tt ddd, MMM dd'),\n                    plannedEnd: editorMessages.plannedEnd,\n                    endDate: kendo.toString(task.plannedEnd, 'H:mm tt ddd, MMM dd')\n                }));\n                this._adjustTooltipDimensions(tooltip, rowOffset, contentOffset, left, contentScrollLeft);\n            },\n            _removePlannedTooltip: function () {\n                if (this._plannedTooltip) {\n                    this._plannedTooltip.remove();\n                }\n                this._plannedTooltip = null;\n            },\n            _adjustTooltipDimensions: function (tooltip, rowOffset, contentOffset, left, contentScrollLeft) {\n                var content = this.content;\n                var contentWidth = content.width();\n                var tooltipWidth;\n                if (outerHeight(tooltip) < rowOffset.top - contentOffset.top) {\n                    tooltip.css('top', rowOffset.top - contentOffset.top - outerHeight(tooltip) + content.scrollTop());\n                }\n                tooltipWidth = outerWidth(tooltip);\n                if (tooltipWidth + left - contentScrollLeft > contentWidth) {\n                    left -= tooltipWidth;\n                    if (left < contentScrollLeft) {\n                        left = contentScrollLeft + contentWidth - (tooltipWidth + 17);\n                    }\n                    tooltip.css('left', left);\n                }\n            },\n            _scrollTo: function (element) {\n                var elementLeft = element.offset().left;\n                var elementWidth = element.width();\n                var elementRight = elementLeft + elementWidth;\n                var row = element.closest('tr');\n                var rowTop = row.offset().top;\n                var rowHeight = row.height();\n                var rowBottom = rowTop + rowHeight;\n                var content = this.content;\n                var contentOffset = content.offset();\n                var contentTop = contentOffset.top;\n                var contentHeight = content.height();\n                var contentBottom = contentTop + contentHeight;\n                var contentLeft = contentOffset.left;\n                var contentWidth = content.width();\n                var contentRight = contentLeft + contentWidth;\n                var scrollbarWidth = kendo.support.scrollbar();\n                if (rowTop < contentTop) {\n                    content.scrollTop(content.scrollTop() + (rowTop - contentTop));\n                } else if (rowBottom > contentBottom) {\n                    content.scrollTop(content.scrollTop() + (rowBottom + scrollbarWidth - contentBottom));\n                }\n                if (elementLeft < contentLeft && elementWidth > contentWidth && elementRight < contentRight || elementRight > contentRight && elementWidth < contentWidth) {\n                    kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementRight + scrollbarWidth - contentRight));\n                } else if (elementRight > contentRight && elementWidth > contentWidth && elementLeft > contentLeft || elementLeft < contentLeft && elementWidth < contentWidth) {\n                    kendo.scrollLeft(content, kendo.scrollLeft(content) + (elementLeft - contentLeft));\n                }\n            },\n            _scrollToDate: function (date) {\n                var viewStart = this.start;\n                var viewEnd = this.end;\n                var offset;\n                if (date >= viewStart && date < viewEnd) {\n                    offset = this._offset(date);\n                    if (kendo.support.isRtl(this.element)) {\n                        offset = this._tableWidth - offset;\n                    }\n                    kendo.scrollLeft(this.content, offset);\n                }\n            },\n            _timeSlots: function () {\n                if (!this._slots || !this._slots.length) {\n                    return [];\n                }\n                return this._slots[this._slots.length - 1];\n            },\n            _headers: function (columnLevels) {\n                var rows = [];\n                var level;\n                var headers;\n                var column;\n                var headerText;\n                var styles = GanttView.styles;\n                for (var levelIndex = 0, levelCount = columnLevels.length; levelIndex < levelCount; levelIndex++) {\n                    level = columnLevels[levelIndex];\n                    headers = [];\n                    for (var columnIndex = 0, columnCount = level.length; columnIndex < columnCount; columnIndex++) {\n                        column = level[columnIndex];\n                        headerText = kendoHtmlElement(column.text);\n                        headers.push(kendoDomElement('td', {\n                            colspan: column.span,\n                            className: styles.header + (column.isNonWorking ? ' ' + styles.nonWorking : '')\n                        }, [headerText]));\n                    }\n                    rows.push(kendoDomElement('tr', null, headers));\n                }\n                return rows;\n            },\n            _hours: function (start, end) {\n                var slotEnd;\n                var slots = [];\n                var options = this.options;\n                var workDayStart = options.workDayStart.getHours();\n                var workDayEnd = options.workDayEnd.getHours();\n                var isWorkHour;\n                var hours;\n                var hourSpan = options.hourSpan;\n                start = new Date(start);\n                end = new Date(end);\n                if (options.showWorkHours) {\n                    start.setHours(workDayStart);\n                }\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    hours = slotEnd.getHours();\n                    isWorkHour = hours >= workDayStart && hours < workDayEnd;\n                    slotEnd.setHours(slotEnd.getHours() + hourSpan);\n                    if (hours == slotEnd.getHours()) {\n                        slotEnd.setHours(slotEnd.getHours() + 2 * hourSpan);\n                    }\n                    if (!options.showWorkHours || isWorkHour) {\n                        slots.push({\n                            start: start,\n                            end: slotEnd,\n                            isNonWorking: !isWorkHour,\n                            span: 1\n                        });\n                    }\n                    start = slotEnd;\n                }\n                return slots;\n            },\n            _days: function (start, end) {\n                var slotEnd;\n                var slots = [];\n                var isWorkDay;\n                start = new Date(start);\n                end = new Date(end);\n                while (start < end) {\n                    slotEnd = end < kendo.date.nextDay(start) ? end : kendo.date.nextDay(start);\n                    isWorkDay = this._isWorkDay(start);\n                    if (!this.options.showWorkDays || isWorkDay) {\n                        slots.push({\n                            start: start,\n                            end: slotEnd,\n                            isNonWorking: !isWorkDay,\n                            span: 1\n                        });\n                    }\n                    start = slotEnd;\n                }\n                return slots;\n            },\n            _weeks: function (start, end) {\n                var slotEnd;\n                var slots = [];\n                var firstDay = this.calendarInfo().firstDay;\n                var daySlots;\n                var span;\n                start = new Date(start);\n                end = new Date(end);\n                while (start < end) {\n                    slotEnd = kendo.date.dayOfWeek(kendo.date.addDays(start, 1), firstDay, 1);\n                    if (slotEnd > end) {\n                        slotEnd = end;\n                    }\n                    daySlots = this._days(start, slotEnd);\n                    span = daySlots.length;\n                    if (span > 0) {\n                        slots.push({\n                            start: daySlots[0].start,\n                            end: daySlots[span - 1].end,\n                            span: span\n                        });\n                    }\n                    start = slotEnd;\n                }\n                return slots;\n            },\n            _months: function (start, end) {\n                var slotEnd;\n                var endMonth;\n                var slots = [];\n                var daySlots;\n                var span;\n                start = new Date(start);\n                end = new Date(end);\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    endMonth = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(slotEnd.getMonth() + 1)));\n                    slotEnd = end < endMonth ? end : endMonth;\n                    daySlots = this._days(start, slotEnd);\n                    span = daySlots.length;\n                    if (span > 0) {\n                        slots.push({\n                            start: daySlots[0].start,\n                            end: daySlots[span - 1].end,\n                            span: span\n                        });\n                    }\n                    start = slotEnd;\n                }\n                return slots;\n            },\n            _years: function (start, end) {\n                var slotEnd;\n                var monthSpan;\n                var endMonth;\n                var slots = [];\n                start = new Date(start);\n                end = new Date(end);\n                while (start < end) {\n                    slotEnd = new Date(start);\n                    slotEnd = kendo.date.firstDayOfMonth(new Date(slotEnd.setMonth(12)));\n                    if (slotEnd >= end) {\n                        slotEnd = end;\n                    }\n                    endMonth = slotEnd.getMonth() || 12;\n                    monthSpan = endMonth - start.getMonth();\n                    slots.push({\n                        start: start,\n                        end: slotEnd,\n                        span: monthSpan\n                    });\n                    start = slotEnd;\n                }\n                return slots;\n            },\n            _slotHeaders: function (slots, template) {\n                var columns = [];\n                var slot;\n                for (var i = 0, l = slots.length; i < l; i++) {\n                    slot = slots[i];\n                    columns.push({\n                        text: template(slot),\n                        isNonWorking: !!slot.isNonWorking,\n                        span: slot.span\n                    });\n                }\n                return columns;\n            },\n            _isWorkDay: function (date) {\n                var day = date.getDay();\n                var workDays = this._workDays;\n                for (var i = 0, l = workDays.length; i < l; i++) {\n                    if (workDays[i] === day) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            calendarInfo: function () {\n                return kendo.getCulture().calendars.standard;\n            },\n            _renderCurrentTime: function () {\n                var currentTime = this._getCurrentTime();\n                var timeOffset = this._offset(currentTime);\n                var element = $('<div class=\\'k-current-time\\'></div>');\n                var viewStyles = GanttView.styles;\n                var tablesWrap = this.element.find(DOT + viewStyles.tasksWrapper);\n                var tasksTable = this.element.find(DOT + viewStyles.tasksTable);\n                var slot;\n                if (!this.content || !this._timeSlots().length) {\n                    return;\n                }\n                this.content.find('.k-current-time').remove();\n                slot = this._timeSlots()[this._slotIndex('start', currentTime)];\n                if (currentTime < slot.start || currentTime > slot.end) {\n                    return;\n                }\n                if (tablesWrap.length && tasksTable.length) {\n                    timeOffset += tasksTable.offset().left - tablesWrap.offset().left;\n                }\n                element.css({\n                    left: timeOffset + 'px',\n                    top: '0px',\n                    width: '1px',\n                    height: this._contentHeight + 'px'\n                }).appendTo(this.content);\n            },\n            _getCurrentTime: function () {\n                return new Date();\n            },\n            _currentTime: function () {\n                var markerOptions = this.options.currentTimeMarker;\n                if (markerOptions !== false && markerOptions.updateInterval !== undefined) {\n                    this._renderCurrentTime();\n                    this._currentTimeUpdateTimer = setInterval(proxy(this._renderCurrentTime, this), markerOptions.updateInterval);\n                }\n            }\n        });\n        extend(true, GanttView, { styles: viewStyles });\n        kendo.ui.GanttDayView = GanttView.extend({\n            name: 'day',\n            options: {\n                timeHeaderTemplate: TIME_HEADER_TEMPLATE,\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n                resizeTooltipFormat: 'h:mm tt ddd, MMM d'\n            },\n            range: function (range) {\n                var optionsRange = this.options.range;\n                this.start = kendo.date.getDate(range.start);\n                this.end = kendo.date.getDate(range.end);\n                if (kendo.date.getMilliseconds(range.end) > 0 || this.end.getTime() === this.start.getTime()) {\n                    this.end = kendo.date.addDays(this.end, 1);\n                }\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                    this.start.setHours(optionsRange.start.getHours());\n                }\n                if (optionsRange && optionsRange.end) {\n                    this.end = kendo.date.getDate(optionsRange.end);\n                    this.end.setHours(optionsRange.end.getHours());\n                }\n            },\n            _createSlots: function () {\n                var daySlots;\n                var daySlot;\n                var hourSlots;\n                var hours;\n                var slots = [];\n                daySlots = this._days(this.start, this.end);\n                hourSlots = [];\n                for (var i = 0, l = daySlots.length; i < l; i++) {\n                    daySlot = daySlots[i];\n                    hours = this._hours(daySlot.start, daySlot.end);\n                    daySlot.span = hours.length;\n                    hourSlots.push.apply(hourSlots, hours);\n                }\n                slots.push(daySlots);\n                slots.push(hourSlots);\n                return slots;\n            },\n            _layout: function () {\n                var rows = [];\n                var options = this.options;\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.dayHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.timeHeaderTemplate)));\n                return rows;\n            }\n        });\n        kendo.ui.GanttWeekView = GanttView.extend({\n            name: 'week',\n            options: {\n                dayHeaderTemplate: DAY_HEADER_TEMPLATE,\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n                resizeTooltipFormat: 'h:mm tt ddd, MMM d'\n            },\n            range: function (range) {\n                var optionsRange = this.options.range;\n                var calendarInfo = this.calendarInfo();\n                var firstDay = calendarInfo.firstDay;\n                var rangeEnd = range.end;\n                var endDay;\n                if (firstDay === rangeEnd.getDay()) {\n                    rangeEnd.setDate(rangeEnd.getDate() + 7);\n                }\n                this.start = kendo.date.getDate(kendo.date.dayOfWeek(range.start, firstDay, -1));\n                this.end = kendo.date.getDate(kendo.date.dayOfWeek(rangeEnd, firstDay, 1));\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                }\n                if (optionsRange && optionsRange.end) {\n                    endDay = new Date(optionsRange.end);\n                    if (kendo.date.getDate(endDay) < optionsRange.end) {\n                        this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                    } else {\n                        this.end = kendo.date.getDate(endDay);\n                    }\n                }\n            },\n            _createSlots: function () {\n                var slots = [];\n                slots.push(this._weeks(this.start, this.end));\n                slots.push(this._days(this.start, this.end));\n                return slots;\n            },\n            _layout: function () {\n                var rows = [];\n                var options = this.options;\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.weekHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.dayHeaderTemplate)));\n                return rows;\n            }\n        });\n        kendo.ui.GanttMonthView = GanttView.extend({\n            name: 'month',\n            options: {\n                weekHeaderTemplate: WEEK_HEADER_TEMPLATE,\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n                resizeTooltipFormat: 'dddd, MMM d, yyyy'\n            },\n            range: function (range) {\n                var optionsRange = this.options.range;\n                var endDay;\n                this.start = kendo.date.firstDayOfMonth(range.start);\n                this.end = kendo.date.addDays(kendo.date.getDate(kendo.date.lastDayOfMonth(range.end)), 1);\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.getDate(optionsRange.start);\n                }\n                if (optionsRange && optionsRange.end) {\n                    endDay = new Date(optionsRange.end);\n                    if (kendo.date.getDate(endDay) < optionsRange.end) {\n                        this.end = kendo.date.getDate(new Date(endDay.setDate(endDay.getDate() + 1)));\n                    } else {\n                        this.end = kendo.date.getDate(endDay);\n                    }\n                }\n            },\n            _createSlots: function () {\n                var slots = [];\n                slots.push(this._months(this.start, this.end));\n                slots.push(this._weeks(this.start, this.end));\n                return slots;\n            },\n            _layout: function () {\n                var rows = [];\n                var options = this.options;\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.monthHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.weekHeaderTemplate)));\n                return rows;\n            }\n        });\n        kendo.ui.GanttYearView = GanttView.extend({\n            name: 'year',\n            options: {\n                yearHeaderTemplate: YEAR_HEADER_TEMPLATE,\n                monthHeaderTemplate: MONTH_HEADER_TEMPLATE,\n                resizeTooltipFormat: 'dddd, MMM d, yyyy'\n            },\n            range: function (range) {\n                var optionsRange = this.options.range;\n                var firstDayOfMonth;\n                this.start = kendo.date.firstDayOfMonth(new Date(range.start.setMonth(0)));\n                this.end = kendo.date.firstDayOfMonth(new Date(range.end.setMonth(12)));\n                if (optionsRange && optionsRange.start) {\n                    this.start = kendo.date.firstDayOfMonth(optionsRange.start);\n                }\n                if (optionsRange && optionsRange.end) {\n                    firstDayOfMonth = kendo.date.firstDayOfMonth(optionsRange.end);\n                    this.end = kendo.date.getDate(new Date(firstDayOfMonth.setMonth(firstDayOfMonth.getMonth() + 1)));\n                }\n            },\n            _createSlots: function () {\n                var slots = [];\n                var monthSlots = this._months(this.start, this.end);\n                $(monthSlots).each(function (index, slot) {\n                    slot.span = 1;\n                });\n                slots.push(this._years(this.start, this.end));\n                slots.push(monthSlots);\n                return slots;\n            },\n            _layout: function () {\n                var rows = [];\n                var options = this.options;\n                rows.push(this._slotHeaders(this._slots[0], kendo.template(options.yearHeaderTemplate)));\n                rows.push(this._slotHeaders(this._slots[1], kendo.template(options.monthHeaderTemplate)));\n                return rows;\n            }\n        });\n        var timelineStyles = {\n            wrapper: 'k-timeline k-grid k-widget',\n            gridHeader: 'k-grid-header',\n            gridHeaderWrap: 'k-grid-header-wrap',\n            gridContent: 'k-grid-content',\n            gridContentWrap: 'k-grid-content',\n            tasksWrapper: 'k-gantt-tables',\n            dependenciesWrapper: 'k-gantt-dependencies',\n            task: 'k-task',\n            taskOffset: 'k-task-offset',\n            taskOffsetWrap: 'k-task-offset-wrap',\n            taskPlanned: 'k-task-planned',\n            line: 'k-gantt-line',\n            taskResizeHandle: 'k-resize-handle',\n            taskResizeHandleWest: 'k-resize-w',\n            taskDragHandle: 'k-task-draghandle',\n            taskComplete: 'k-task-complete',\n            taskDelete: 'k-task-delete',\n            taskWrapActive: 'k-task-wrap-active',\n            taskWrap: 'k-task-wrap',\n            taskDot: 'k-task-dot',\n            taskDotStart: 'k-task-start',\n            taskDotEnd: 'k-task-end',\n            hovered: 'k-state-hover',\n            selected: 'k-state-selected',\n            origin: 'k-origin'\n        };\n        var GanttTimeline = kendo.ui.GanttTimeline = Widget.extend({\n            init: function (element, options) {\n                Widget.fn.init.call(this, element, options);\n                if (!this.options.views || !this.options.views.length) {\n                    this.options.views = [\n                        'day',\n                        'week',\n                        'month'\n                    ];\n                }\n                isRtl = kendo.support.isRtl(element);\n                this._wrapper();\n                this._domTrees();\n                this._views();\n                this._selectable();\n                this._draggable();\n                this._resizable();\n                this._percentResizeDraggable();\n                this._createDependencyDraggable();\n                this._attachEvents();\n                this._tooltip();\n            },\n            options: {\n                name: 'GanttTimeline',\n                messages: {\n                    views: {\n                        day: 'Day',\n                        week: 'Week',\n                        month: 'Month',\n                        year: 'Year',\n                        start: 'Start',\n                        end: 'End'\n                    }\n                },\n                snap: true,\n                selectable: true,\n                editable: true\n            },\n            destroy: function () {\n                Widget.fn.destroy.call(this);\n                clearTimeout(this._tooltipTimeout);\n                if (this._currentTimeUpdateTimer) {\n                    clearInterval(this._currentTimeUpdateTimer);\n                }\n                this._unbindView(this._selectedView);\n                if (this._moveDraggable) {\n                    this._moveDraggable.destroy();\n                }\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n                if (this._percentDraggable) {\n                    this._percentDraggable.destroy();\n                }\n                if (this._dependencyDraggable) {\n                    this._dependencyDraggable.destroy();\n                }\n                if (this.touch) {\n                    this.touch.destroy();\n                }\n                this._headerTree = null;\n                this._taskTree = null;\n                this._dependencyTree = null;\n                this.wrapper.off(NS);\n                kendo.destroy(this.wrapper);\n            },\n            _wrapper: function () {\n                var styles = GanttTimeline.styles;\n                var that = this;\n                var options = this.options;\n                var calculateSize = function () {\n                    var rowHeight = typeof options.rowHeight === STRING ? options.rowHeight : options.rowHeight + 'px';\n                    var table = $(kendo.format(SIZE_CALCULATION_TEMPLATE, rowHeight));\n                    var calculatedRowHeight;\n                    var calculatedCellHeight;\n                    var content = that.wrapper.find(DOT + styles.tasksWrapper);\n                    content.append(table);\n                    calculatedRowHeight = outerHeight(table.find('tr'));\n                    calculatedCellHeight = table.find('td').height();\n                    table.remove();\n                    return {\n                        'row': calculatedRowHeight,\n                        'cell': calculatedCellHeight\n                    };\n                };\n                this.wrapper = this.element.addClass(styles.wrapper).append('<div class=\\'' + styles.gridHeader + '\\'><div class=\\'' + styles.gridHeaderWrap + '\\'></div></div>').append('<div class=\\'' + styles.gridContentWrap + '\\'><div class=\\'' + styles.tasksWrapper + '\\'></div><div class=\\'' + styles.dependenciesWrapper + '\\'></div></div>');\n                if (options.rowHeight) {\n                    this._calculatedSize = calculateSize();\n                }\n            },\n            _domTrees: function () {\n                var styles = GanttTimeline.styles;\n                var tree = kendo.dom.Tree;\n                var wrapper = this.wrapper;\n                this._headerTree = new tree(wrapper.find(DOT + styles.gridHeaderWrap)[0]);\n                this._taskTree = new tree(wrapper.find(DOT + styles.tasksWrapper)[0]);\n                this._dependencyTree = new tree(wrapper.find(DOT + styles.dependenciesWrapper)[0]);\n            },\n            _views: function () {\n                var views = this.options.views;\n                var view;\n                var isSettings;\n                var name;\n                var defaultView;\n                var selected;\n                this.views = {};\n                for (var i = 0, l = views.length; i < l; i++) {\n                    view = views[i];\n                    isSettings = isPlainObject(view);\n                    if (isSettings && view.selectable === false) {\n                        continue;\n                    }\n                    name = isSettings ? typeof view.type !== 'string' ? view.title : view.type : view;\n                    defaultView = defaultViews[name];\n                    if (defaultView) {\n                        if (isSettings) {\n                            view.type = defaultView.type;\n                        }\n                        defaultView.title = this.options.messages.views[name];\n                    }\n                    view = extend({ title: name }, defaultView, isSettings ? view : {});\n                    if (name) {\n                        this.views[name] = view;\n                        if (!selected || view.selected) {\n                            selected = name;\n                        }\n                    }\n                }\n                if (selected) {\n                    this._selectedViewName = selected;\n                }\n            },\n            view: function (name) {\n                if (name) {\n                    this._selectView(name);\n                    this.trigger('navigate', {\n                        view: name,\n                        action: 'changeView'\n                    });\n                }\n                return this._selectedView;\n            },\n            _selectView: function (name) {\n                if (name && this.views[name]) {\n                    if (this._selectedView) {\n                        this._unbindView(this._selectedView);\n                    }\n                    this._selectedView = this._initializeView(name);\n                    this._selectedViewName = name;\n                }\n            },\n            _viewByIndex: function (index) {\n                var view;\n                var views = this.views;\n                for (view in views) {\n                    if (!index) {\n                        return view;\n                    }\n                    index--;\n                }\n            },\n            _initializeView: function (name) {\n                var view = this.views[name];\n                if (view) {\n                    var type = view.type;\n                    if (typeof type === 'string') {\n                        type = kendo.getter(view.type)(window);\n                    }\n                    if (type) {\n                        var newRange = {};\n                        extend(newRange, this.options.range, view.range);\n                        var newDate = view.date || this.options.date;\n                        view = new type(this.wrapper, trimOptions(extend(true, {\n                            headerTree: this._headerTree,\n                            taskTree: this._taskTree,\n                            dependencyTree: this._dependencyTree,\n                            calculatedSize: this._calculatedSize\n                        }, view, this.options, {\n                            date: newDate,\n                            range: newRange\n                        })));\n                    } else {\n                        throw new Error('There is no such view');\n                    }\n                }\n                return view;\n            },\n            _unbindView: function (view) {\n                if (view) {\n                    view.destroy();\n                }\n            },\n            _range: function (tasks) {\n                var startOrder = {\n                    field: 'start',\n                    dir: 'asc'\n                };\n                var endOrder = {\n                    field: 'end',\n                    dir: 'desc'\n                };\n                if (!tasks || !tasks.length) {\n                    return {\n                        start: new Date(),\n                        end: new Date()\n                    };\n                }\n                var start = new Query(tasks).sort(startOrder).toArray()[0].start || new Date();\n                var end = new Query(tasks).sort(endOrder).toArray()[0].end || new Date();\n                return {\n                    start: new Date(start),\n                    end: new Date(end)\n                };\n            },\n            _render: function (tasks) {\n                var view = this.view();\n                var range = this._range(tasks);\n                var date = view.options.date;\n                this._tasks = tasks;\n                view.range(range);\n                view.renderLayout();\n                view.render(tasks);\n                if (date) {\n                    view._scrollToDate(date);\n                }\n            },\n            _renderDependencies: function (dependencies) {\n                this.view()._renderDependencies(dependencies);\n            },\n            _taskByUid: function (uid) {\n                var tasks = this._tasks;\n                var length = tasks.length;\n                var task;\n                for (var i = 0; i < length; i++) {\n                    task = tasks[i];\n                    if (task.uid === uid) {\n                        return task;\n                    }\n                }\n            },\n            _draggable: function () {\n                var that = this;\n                var element;\n                var task;\n                var currentStart;\n                var startOffset;\n                var snap = this.options.snap;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n                var cleanUp = function () {\n                    that.view()._removeDragHint();\n                    if (element) {\n                        element.css('opacity', 1);\n                    }\n                    element = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n                if (!editable || editable.move === false || editable.update === false) {\n                    return;\n                }\n                this._moveDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.task + ',' + DOT + styles.taskOffset,\n                    holdToDrag: kendo.support.mobileOS,\n                    ignore: DOT + styles.taskResizeHandle\n                });\n                this._moveDraggable.bind('dragstart', function (e) {\n                    var view = that.view();\n                    element = e.currentTarget.closest(DOT + styles.taskWrap);\n                    task = that._taskByUid(e.currentTarget.parent().find(DOT + styles.task).attr('data-uid'));\n                    if (that.trigger('moveStart', { task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    currentStart = task.start;\n                    startOffset = view._timeByPosition(e.x.location, snap) - currentStart;\n                    view._createDragHint(element);\n                    element.css('opacity', 0.5);\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                }).bind('drag', kendo.throttle(function (e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n                    var view = that.view();\n                    var date = new Date(view._timeByPosition(e.x.location, snap) - startOffset);\n                    var updateHintDate = date;\n                    if (!that.trigger('move', {\n                            task: task,\n                            start: date\n                        })) {\n                        currentStart = date;\n                        if (isRtl) {\n                            updateHintDate = new Date(currentStart.getTime() + task.duration());\n                        }\n                        view._updateDragHint(updateHintDate);\n                    }\n                }, 15)).bind('dragend', function () {\n                    that.trigger('moveEnd', {\n                        task: task,\n                        start: currentStart\n                    });\n                    cleanUp();\n                }).bind('dragcancel', function () {\n                    cleanUp();\n                }).userEvents.bind('select', function () {\n                    blurActiveElement();\n                });\n            },\n            _resizable: function () {\n                var that = this;\n                var element;\n                var task;\n                var currentStart;\n                var currentEnd;\n                var resizeStart;\n                var snap = this.options.snap;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n                var cleanUp = function () {\n                    that.view()._removeResizeHint();\n                    element = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n                if (!editable || editable.resize === false || editable.update === false) {\n                    return;\n                }\n                this._resizeDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskResizeHandle,\n                    holdToDrag: false\n                });\n                this._resizeDraggable.bind('dragstart', function (e) {\n                    resizeStart = e.currentTarget.hasClass(styles.taskResizeHandleWest);\n                    if (isRtl) {\n                        resizeStart = !resizeStart;\n                    }\n                    element = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                    task = that._taskByUid(element.attr('data-uid'));\n                    if (that.trigger('resizeStart', { task: task })) {\n                        e.preventDefault();\n                        return;\n                    }\n                    currentStart = task.start;\n                    currentEnd = task.end;\n                    that.view()._createResizeHint(task);\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                }).bind('drag', kendo.throttle(function (e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n                    var view = that.view();\n                    var date = view._timeByPosition(e.x.location, snap, !resizeStart);\n                    if (resizeStart) {\n                        if (date < currentEnd) {\n                            currentStart = date;\n                        } else {\n                            currentStart = currentEnd;\n                        }\n                    } else {\n                        if (date > currentStart) {\n                            currentEnd = date;\n                        } else {\n                            currentEnd = currentStart;\n                        }\n                    }\n                    if (!that.trigger('resize', {\n                            task: task,\n                            start: currentStart,\n                            end: currentEnd\n                        })) {\n                        view._updateResizeHint(currentStart, currentEnd, resizeStart);\n                    }\n                }, 15)).bind('dragend', function () {\n                    that.trigger('resizeEnd', {\n                        task: task,\n                        resizeStart: resizeStart,\n                        start: currentStart,\n                        end: currentEnd\n                    });\n                    cleanUp();\n                }).bind('dragcancel', function () {\n                    cleanUp();\n                }).userEvents.bind('select', function () {\n                    blurActiveElement();\n                });\n            },\n            _percentResizeDraggable: function () {\n                var that = this;\n                var task;\n                var taskElement;\n                var taskElementOffset;\n                var timelineOffset;\n                var originalPercentWidth;\n                var maxPercentWidth;\n                var currentPercentComplete;\n                var tooltipTop;\n                var tooltipLeft;\n                var styles = GanttTimeline.styles;\n                var delta;\n                var editable = this.options.editable;\n                var cleanUp = function () {\n                    that.view()._removePercentCompleteTooltip();\n                    taskElement = null;\n                    task = null;\n                    that.dragInProgress = false;\n                };\n                var updateElement = function (width) {\n                    var taskDragHandle = taskElement.siblings(DOT + styles.taskDragHandle);\n                    if (!taskDragHandle.length) {\n                        taskDragHandle = taskElement.closest(DOT + styles.taskWrap).find(DOT + styles.taskDragHandle);\n                    }\n                    taskDragHandle.css(isRtl ? 'right' : 'left', width);\n                    taskElement.find(DOT + styles.taskComplete).width(width);\n                };\n                if (!editable || editable.dragPercentComplete === false || editable.update === false) {\n                    return;\n                }\n                this._percentDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskDragHandle,\n                    holdToDrag: false\n                });\n                this._percentDraggable.bind('dragstart', function (e) {\n                    if (that.trigger('percentResizeStart')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    taskElement = e.currentTarget.siblings(DOT + styles.task);\n                    if (!taskElement.length) {\n                        taskElement = e.currentTarget.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                    }\n                    task = that._taskByUid(taskElement.attr('data-uid'));\n                    currentPercentComplete = task.percentComplete;\n                    taskElementOffset = taskElement.offset();\n                    timelineOffset = this.element.offset();\n                    originalPercentWidth = taskElement.find(DOT + styles.taskComplete).width();\n                    maxPercentWidth = outerWidth(taskElement);\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                }).bind('drag', kendo.throttle(function (e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n                    delta = isRtl ? -e.x.initialDelta : e.x.initialDelta;\n                    var currentWidth = Math.max(0, Math.min(maxPercentWidth, originalPercentWidth + delta));\n                    currentPercentComplete = Math.round(currentWidth / maxPercentWidth * 100);\n                    updateElement(currentWidth);\n                    tooltipTop = taskElementOffset.top - timelineOffset.top;\n                    tooltipLeft = taskElementOffset.left + currentWidth - timelineOffset.left;\n                    if (isRtl) {\n                        tooltipLeft += maxPercentWidth - 2 * currentWidth;\n                    }\n                    that.view()._updatePercentCompleteTooltip(tooltipTop, tooltipLeft, currentPercentComplete);\n                }, 15)).bind('dragend', function () {\n                    that.trigger('percentResizeEnd', {\n                        task: task,\n                        percentComplete: currentPercentComplete / 100\n                    });\n                    cleanUp();\n                }).bind('dragcancel', function () {\n                    updateElement(originalPercentWidth);\n                    cleanUp();\n                }).userEvents.bind('select', function () {\n                    blurActiveElement();\n                });\n            },\n            _createDependencyDraggable: function () {\n                var that = this;\n                var originalHandle;\n                var hoveredHandle = $();\n                var hoveredTask = $();\n                var startX;\n                var startY;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n                var cleanUp = function () {\n                    originalHandle.css('display', '').removeClass(styles.hovered);\n                    originalHandle.parent().removeClass(styles.origin);\n                    originalHandle = null;\n                    toggleHandles(false);\n                    hoveredTask = $();\n                    hoveredHandle = $();\n                    that.view()._removeDependencyDragHint();\n                    that.dragInProgress = false;\n                };\n                var toggleHandles = function (value) {\n                    if (!hoveredTask.hasClass(styles.origin)) {\n                        hoveredTask.find(DOT + styles.taskDot).css('display', value ? 'block' : '');\n                        hoveredHandle.toggleClass(styles.hovered, value);\n                    }\n                };\n                if (!editable || editable.dependencyCreate === false) {\n                    return;\n                }\n                this._dependencyDraggable = new kendo.ui.Draggable(this.wrapper, {\n                    distance: 0,\n                    filter: DOT + styles.taskDot,\n                    holdToDrag: false\n                });\n                this._dependencyDraggable.bind('dragstart', function (e) {\n                    if (that.trigger('dependencyDragStart')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    originalHandle = e.currentTarget.css('display', 'block').addClass(styles.hovered);\n                    originalHandle.parent().addClass(styles.origin);\n                    var elementOffset = originalHandle.offset();\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n                    startX = Math.round(elementOffset.left - tablesOffset.left + outerHeight(originalHandle) / 2);\n                    startY = Math.round(elementOffset.top - tablesOffset.top + outerWidth(originalHandle) / 2);\n                    clearTimeout(that._tooltipTimeout);\n                    that.dragInProgress = true;\n                }).bind('drag', kendo.throttle(function (e) {\n                    if (!that.dragInProgress) {\n                        return;\n                    }\n                    that.view()._removeDependencyDragHint();\n                    var target = $(kendo.elementUnderCursor(e));\n                    var tablesOffset = that.wrapper.find(DOT + styles.tasksWrapper).offset();\n                    var currentX = e.x.location - tablesOffset.left;\n                    var currentY = e.y.location - tablesOffset.top;\n                    that.view()._updateDependencyDragHint({\n                        x: startX,\n                        y: startY\n                    }, {\n                        x: currentX,\n                        y: currentY\n                    });\n                    toggleHandles(false);\n                    hoveredHandle = target.hasClass(styles.taskDot) ? target : $();\n                    hoveredTask = target.closest(DOT + styles.taskWrap);\n                    toggleHandles(true);\n                }, 15)).bind('dragend', function () {\n                    if (hoveredHandle.length) {\n                        var fromStart = originalHandle.hasClass(styles.taskDotStart);\n                        var toStart = hoveredHandle.hasClass(styles.taskDotStart);\n                        var type = fromStart ? toStart ? 3 : 2 : toStart ? 1 : 0;\n                        var predecessorElement = originalHandle.siblings(DOT + styles.task);\n                        if (!predecessorElement.length) {\n                            predecessorElement = originalHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        }\n                        var predecessor = that._taskByUid(predecessorElement.attr('data-uid'));\n                        var successorElement = hoveredHandle.siblings(DOT + styles.task);\n                        if (!successorElement.length) {\n                            successorElement = hoveredHandle.closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        }\n                        var successor = that._taskByUid(successorElement.attr('data-uid'));\n                        if (predecessor !== successor) {\n                            that.trigger('dependencyDragEnd', {\n                                type: type,\n                                predecessor: predecessor,\n                                successor: successor\n                            });\n                        }\n                    }\n                    cleanUp();\n                }).bind('dragcancel', function () {\n                    cleanUp();\n                }).userEvents.bind('select', function () {\n                    blurActiveElement();\n                });\n            },\n            _selectable: function () {\n                var that = this;\n                var styles = GanttTimeline.styles;\n                if (this.options.selectable) {\n                    this.wrapper.on(CLICK + NS, DOT + styles.task + ',' + DOT + styles.taskOffset, function (e) {\n                        e.stopPropagation();\n                        var uid = $(this).attr('data-uid');\n                        if (!uid) {\n                            uid = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).data('uid');\n                        }\n                        if (!e.ctrlKey) {\n                            that.trigger('select', { uid: uid });\n                        } else {\n                            that.trigger('clear');\n                        }\n                    }).on(CLICK + NS, DOT + styles.taskWrap, function (e) {\n                        e.stopPropagation();\n                        $(this).css('z-index', '0');\n                        var target = $(document.elementFromPoint(e.clientX, e.clientY));\n                        if (target.hasClass(styles.line)) {\n                            target.click();\n                        }\n                        $(this).css('z-index', '');\n                    }).on(CLICK + NS, DOT + styles.tasksWrapper, function () {\n                        if (that.selectDependency().length > 0) {\n                            that.clearSelection();\n                        } else {\n                            that.trigger('clear');\n                        }\n                    }).on(CLICK + NS, DOT + styles.line, function (e) {\n                        e.stopPropagation();\n                        that.selectDependency(this);\n                    });\n                }\n            },\n            select: function (value) {\n                var element = this.wrapper.find(value);\n                var styles = GanttTimeline.styles;\n                if (element.length) {\n                    this.clearSelection();\n                    element.addClass(styles.selected);\n                    if (kendo.support.mobileOS) {\n                        element.parent().addClass(styles.taskWrapActive);\n                    }\n                    return;\n                }\n                return this.wrapper.find(DOT + styles.task + DOT + styles.selected);\n            },\n            selectDependency: function (value) {\n                var element = this.wrapper.find(value);\n                var uid;\n                var styles = GanttTimeline.styles;\n                if (element.length) {\n                    this.clearSelection();\n                    this.trigger('clear');\n                    uid = $(element).attr('data-uid');\n                    this.wrapper.find(DOT + styles.line + '[data-uid=\\'' + uid + '\\']').addClass(styles.selected);\n                    return;\n                }\n                return this.wrapper.find(DOT + styles.line + DOT + styles.selected);\n            },\n            clearSelection: function () {\n                var styles = GanttTimeline.styles;\n                this.wrapper.find(DOT + styles.selected).removeClass(styles.selected);\n                if (kendo.support.mobileOS) {\n                    this.wrapper.find(DOT + styles.taskWrapActive).removeClass(styles.taskWrapActive);\n                }\n            },\n            _attachEvents: function () {\n                var that = this;\n                var styles = GanttTimeline.styles;\n                var editable = this.options.editable;\n                if (editable) {\n                    this._tabindex();\n                    this.wrapper.on(CLICK + NS, DOT + styles.taskDelete, function (e) {\n                        that.trigger('removeTask', { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr('data-uid') });\n                        e.stopPropagation();\n                        e.preventDefault();\n                    }).on(KEYDOWN + NS, function (e) {\n                        var selectedDependency;\n                        var editable = that.options.editable;\n                        if (e.keyCode === keys.DELETE && editable && editable.dependencyDestroy !== false) {\n                            selectedDependency = that.selectDependency();\n                            if (selectedDependency.length) {\n                                that.trigger('removeDependency', { uid: selectedDependency.attr('data-uid') });\n                                that.clearSelection();\n                            }\n                        }\n                    });\n                    if (!kendo.support.mobileOS) {\n                        this.wrapper.on(DBLCLICK + NS, DOT + styles.task + ',' + DOT + styles.taskOffset, function (e) {\n                            if (that.options.editable.update !== false) {\n                                that.trigger('editTask', { uid: $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr('data-uid') });\n                                e.stopPropagation();\n                                e.preventDefault();\n                            }\n                        });\n                    } else {\n                        this.touch = this.wrapper.kendoTouch({\n                            filter: DOT + styles.task + ',' + DOT + styles.taskOffset,\n                            doubletap: function (e) {\n                                if (that.options.editable.update !== false) {\n                                    that.trigger('editTask', { uid: $(e.touch.currentTarget).closest(DOT + styles.taskWrap).find(DOT + styles.task).attr('data-uid') });\n                                }\n                            }\n                        }).data('kendoTouch');\n                    }\n                }\n            },\n            _tooltip: function () {\n                var that = this;\n                var tooltipOptions = this.options.tooltip;\n                var styles = GanttTimeline.styles;\n                var currentMousePosition;\n                var mouseMoveHandler = function (e) {\n                    currentMousePosition = e.clientX;\n                };\n                if (tooltipOptions && tooltipOptions.visible === false) {\n                    return;\n                }\n                if (!kendo.support.mobileOS) {\n                    this.wrapper.on(MOUSEENTER + NS, DOT + styles.task, function () {\n                        var element = this;\n                        var task = that._taskByUid($(this).attr('data-uid'));\n                        if (that.dragInProgress) {\n                            return;\n                        }\n                        that._tooltipTimeout = setTimeout(function () {\n                            that.view()._createTaskTooltip(task, element, currentMousePosition);\n                        }, 800);\n                        $(this).on(MOUSEMOVE, mouseMoveHandler);\n                    }).on(MOUSELEAVE + NS, DOT + styles.task, function () {\n                        clearTimeout(that._tooltipTimeout);\n                        that.view()._removeTaskTooltip();\n                        $(this).off(MOUSEMOVE, mouseMoveHandler);\n                    }).on(MOUSEENTER + NS, DOT + styles.taskOffset, function () {\n                        var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        var task = that._taskByUid(taskElement.attr('data-uid'));\n                        if (that.dragInProgress) {\n                            return;\n                        }\n                        that._offsetTooltipTimeout = setTimeout(function () {\n                            that.view()._createOffsetTooltip(task, taskElement, currentMousePosition);\n                        }, 800);\n                        $(this).on(MOUSEMOVE, mouseMoveHandler);\n                    }).on(MOUSELEAVE + NS, DOT + styles.taskOffset, function () {\n                        clearTimeout(that._offsetTooltipTimeout);\n                        that.view()._removeOffsetTooltip();\n                        $(this).off(MOUSEMOVE, mouseMoveHandler);\n                    }).on(MOUSEENTER + NS, DOT + styles.taskPlanned, function () {\n                        var taskElement = $(this).closest(DOT + styles.taskWrap).find(DOT + styles.task);\n                        var task = that._taskByUid(taskElement.attr('data-uid'));\n                        that._plannedTooltipTimeout = setTimeout(function () {\n                            that.view()._createPlannedTooltip(task, taskElement, currentMousePosition);\n                        }, 800);\n                        $(this).on(MOUSEMOVE, mouseMoveHandler);\n                    }).on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function () {\n                        clearTimeout(that._plannedTooltipTimeout);\n                        that.view()._removePlannedTooltip();\n                        $(this).off(MOUSEMOVE, mouseMoveHandler);\n                    });\n                } else {\n                    this.wrapper.on(CLICK + NS, DOT + styles.taskDelete, function (e) {\n                        e.stopPropagation();\n                        that.view()._removeTaskTooltip();\n                    }).on(MOUSELEAVE + NS, DOT + styles.task, function (e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n                        if (parents.length === 0) {\n                            that.view()._removeTaskTooltip();\n                        }\n                    }).on(MOUSELEAVE + NS, DOT + styles.taskOffset, function (e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n                        if (parents.length === 0) {\n                            that.view()._removeOffsetTooltip();\n                        }\n                    }).on(MOUSELEAVE + NS, DOT + styles.taskPlanned, function (e) {\n                        var parents = $(e.relatedTarget).parents(DOT + styles.taskWrap, DOT + styles.task);\n                        if (parents.length === 0) {\n                            that.view()._removePlannedTooltip();\n                        }\n                    });\n                    if (this.touch) {\n                        this.touch.bind('tap', function (e) {\n                            var element = $(e.touch.target);\n                            var currentPosition = e.touch.x.client;\n                            var task;\n                            if (!element.hasClass(styles.task)) {\n                                task = that._taskByUid(element.closest(DOT + styles.taskWrap).find(DOT + styles.task).attr('data-uid'));\n                                if (that.view()._offsetTooltip) {\n                                    that.view()._removeOffsetTooltip();\n                                }\n                                that.view()._createOffsetTooltip(task, element, currentPosition);\n                            } else {\n                                task = that._taskByUid(element.attr('data-uid'));\n                                if (that.view()._taskTooltip) {\n                                    that.view()._removeTaskTooltip();\n                                }\n                                that.view()._createTaskTooltip(task, element, currentPosition);\n                            }\n                        }).bind('doubletap', function () {\n                            that.view()._removeTaskTooltip();\n                            that.view()._removeOffsetTooltip();\n                        });\n                    }\n                }\n            },\n            _setPlanned: function (value) {\n                this.options.showPlannedTasks = value;\n                this.view().options.showPlannedTasks = value;\n            }\n        });\n        extend(true, GanttTimeline, { styles: timelineStyles });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}