/** 
 * Kendo UI v2022.1.119 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2022 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.upload.min",["kendo.core.min"],e)}(function(){return function(e,t){function a(t){return e.map(n(t),function(e){return e.name}).join(", ")}function n(e){var t=e[0];return t.files?o(t.files):[{name:r(t.value),extension:s(t.value),size:null}]}function o(t){return e.map(t,function(e){return i(e)})}function i(e){var t=e.name||e.fileName;return{name:b.htmlEncode(t),extension:s(t),size:"number"==typeof e.size?e.size:e.fileSize,rawFile:e}}function s(e){var t=e.match(E);return t?t[0]:""}function r(e){var t=e.lastIndexOf("\\");return t!=-1?e.substr(t+1):e}function l(t,a){var n=b.guid();return e.map(t,function(e){return e.uid=a?b.guid():n,e})}function p(e,t){var a,n=d(t.allowedExtensions),o=t.maxFileSize,i=t.minFileSize;for(a=0;a<e.length;a++)u(e[a],n),c(e[a],i,o)}function d(t){var a=e.map(t,function(e){var t="."===e.substring(0,1)?e:"."+e;return t.toLowerCase()});return a}function u(t,a){a.length>0&&a.indexOf(t.extension.toLowerCase())<0&&(t.validationErrors=t.validationErrors||[],e.inArray(j,t.validationErrors)===-1&&t.validationErrors.push(j))}function c(t,a,n){0!==a&&t.size<a&&(t.validationErrors=t.validationErrors||[],e.inArray(Z,t.validationErrors)===-1&&t.validationErrors.push(Z)),0!==n&&t.size>n&&(t.validationErrors=t.validationErrors||[],e.inArray(O,t.validationErrors)===-1&&t.validationErrors.push(O))}function f(e){var t,a=0;if("number"!=typeof e[0].size)return"";for(t=0;t<e.length;t++)e[t].size&&(a+=e[t].size);return a/=1024,a<1024?a.toFixed(2)+" KB":(a/1024).toFixed(2)+" MB"}function h(t){return!t.multiple&&e(".k-file",t.wrapper).length>1}function m(a,n,o,i){var s,r;return n._supportsRemove()?(s=a.data("fileNames"),r=e.map(s,function(e){return e.name}),i===!1?(n._removeFileEntry(a),t):(n._submitRemove(r,o,function(e,t,o){var i=n.trigger(R,{operation:"remove",files:s,response:e,XMLHttpRequest:o});i||n._removeFileEntry(a)},function(e){h(n)&&n._removeFileEntry(a),n.trigger(P,{operation:"remove",files:s,XMLHttpRequest:e}),U("Server response: "+e.responseText)}),t)):(!h(n)&&i||n._removeFileEntry(a),t)}function k(e,t,a){var n=!1,o="";try{o=JSON.parse(v(e)),n=!0}catch(i){a()}n&&t(o)}function v(e){return t!==e&&""!==e||(e="{}"),e}function g(e){e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),e.stopPropagation(),e.preventDefault()}function _(e,t,a,n){var o,i;e.on("dragenter"+t,function(e){a(e),i=new Date,o||(o=setInterval(function(){var e=new Date-i;e>100&&(n(),clearInterval(o),o=null)},100))}).on("dragover"+t,function(){i=new Date})}function y(e){return e.is(".k-file-progress, .k-file-success, .k-file-error")}function F(t){return e(t.target).closest(".k-file")}var w,C,b=window.kendo,S=b.ui.Widget,z=b.antiForgeryTokens,U=b.logToConsole,E=/\.([^\.]+)$/,x=".kendoUpload",A="select",D="upload",R="success",P="error",N="complete",T="cancel",I="clear",B="pause",H="resume",q="progress",M="remove",L="validationErrors",O="invalidMaxFileSize",Z="invalidMinFileSize",j="invalidFileExtension",V=1e3,K=2e3,W="k-state-focused",X="tabindex",G={loading:"k-i-upload",warning:"k-i-warning",success:"k-i-check"},J=S.extend({init:function(t,a){var n,o,i=this;S.fn.init.call(i,t,a),i.name=t.name,i.multiple=i.options.multiple,i.directory=i.options.directory,i.localization=i.options.localization,n=i.element,i.wrapper=n.closest(".k-upload"),0===i.wrapper.length&&(i.wrapper=i._wrapInput(n)),i._activeInput(n),i.toggle(i.options.enabled),o=i._ns=x+"-"+b.guid(),n.closest("form").on("submit"+o,e.proxy(i._onParentFormSubmit,i)).on("reset"+o,e.proxy(i._onParentFormReset,i)),i._initUploadModule(),i._toggleDropZone(),i.wrapper.on("click",".k-upload-action",e.proxy(i._onFileAction,i)).on("click",".k-clear-selected",e.proxy(i._onClearSelected,i)).on("click",".k-upload-selected",e.proxy(i._onUploadSelected,i)).on("keydown",e.proxy(i._onKeyDown,i)).on("focusout",e.proxy(i._focusout,i)),i.element.val()&&i._onInputChange({target:i.element})},events:[A,D,R,P,N,T,I,q,M,B,H],options:{name:"Upload",enabled:!0,multiple:!0,directory:!1,showFileList:!0,template:"",files:[],async:{autoRetryAfter:0,bufferChunkSize:1e7,maxAutoRetries:1,removeVerb:"POST",autoUpload:!0,withCredentials:!0,accept:"*/*; q=0.5, application/json",useArrayBuffer:!1},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",pause:"Pause",resume:"Resume",clearSelectedFiles:"Clear",uploadSelectedFiles:"Upload",dropFilesHere:"Drop files here to upload",invalidFiles:"Invalid file(s). Please check file upload requirements.",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusPaused:"Paused",headerStatusUploaded:"Done",uploadSuccess:"File(s) uploaded successfully.",uploadFail:"File(s) failed to upload.",invalidMaxFileSize:"File size too large.",invalidMinFileSize:"File size too small.",invalidFileExtension:"File type not allowed."},validation:{allowedExtensions:[],maxFileSize:0,minFileSize:0},dropZone:""},_initUploadModule:function(){var e,t=this,a=t.options;a.async.saveUrl?(t._module=t._supportsFormData()?new C(t):new w(t),t._async=!0,e=a.files,e.length>0&&t._renderInitialFiles(e)):t._module=new Q(t)},setOptions:function(t){var a=this,n=a.element;e(a.options.dropZone).off(a._ns),S.fn.setOptions.call(a,t),a.multiple=a.options.multiple,a.directory=a.options.directory,n.attr("multiple",!!a._supportsMultiple()&&a.multiple),a.directory&&(n.attr("webkitdirectory",a.directory),n.attr("directory",a.directory)),a.toggle(a.options.enabled),a._initUploadModule(),a._toggleDropZone()},enable:function(e){e=t===e||e,this.toggle(e)},disable:function(){this.toggle(!1)},toggle:function(e){e=t===e?e:!e,this.wrapper.toggleClass("k-state-disabled",e),this.element.prop("disabled",e)},focus:function(){this.element.trigger("focus")},destroy:function(){var t=this,a=e(t.options.dropZone);e(document).add(e(".k-dropzone",t.wrapper)).add(t.wrapper.closest("form")).off(t._ns),a.length>0&&a.off(t._ns),e(t.element).off(x),S.fn.destroy.call(t)},pause:function(t){this._module.onPause({target:e(t,this.wrapper)});var a=t.find(".k-i-pause-sm");a.removeClass("k-i-pause-sm").addClass("k-i-play-sm").attr("title",this.localization.resume),e(a).parent().attr("aria-label",this.localization.resume)},resume:function(t){this._module.onResume({target:e(t,this.wrapper)});var a=t.find(".k-i-play-sm");a.removeClass("k-i-play-sm").addClass("k-i-pause-sm").attr("title",this.localization.pause),e(a).parent().attr("aria-label",this.localization.pause)},upload:function(){var e=this;e._module.onSaveSelected()},getFiles:function(){var t,a,n,o=this,i=[],s=o.wrapper.find(".k-file");for(a=0;a<s.length;a++)if(t=e(s[a]).data("fileNames"))for(n=0;n<t.length;n++)i.push(t[n]);return i},clearAllFiles:function(){var e=this,t=e.wrapper.find(".k-file");t.each(function(t,a){e._removeFileByDomElement(a,!1)})},removeAllFiles:function(){var e=this,t=e.wrapper.find(".k-file");t.each(function(t,a){e._removeFileByDomElement(a,!0)})},removeFileByUid:function(e){this._removeFileByUid(e,!0)},clearFileByUid:function(e){this._removeFileByUid(e,!1)},_removeFileByUid:function(t,a){var n,o=this;"string"==typeof t&&(n=e(".k-file["+b.attr("uid")+'="'+t+'"]',o.wrapper),n.length>0&&o._removeFileByDomElement(n,a))},clearFile:function(e){this._removeFile(e,!1)},removeFile:function(e){this._removeFile(e,!0)},_removeFile:function(t,a){var n,o=this,i=o.wrapper.find(".k-file");"function"==typeof t&&i.each(function(i,s){n=e(s).data("fileNames"),t(n)&&o._removeFileByDomElement(s,a)})},_removeFileByDomElement:function(t,a){var n,o=this,i={target:e(t,o.wrapper)};o.options.async.saveUrl?(e(t).hasClass("k-file-progress")?o._module.onCancel(i):o._module.onRemove(i,{},a),n=e(".k-file",o.wrapper),0===n.length?o._hideHeaderUploadstatus():o._updateHeaderUploadStatus()):o._module.onRemove(i,{},a)},_addInput:function(t){if(t[0].nodeType){var a=this,n=t.clone().val("");n.insertAfter(a.element).data("kendo"+a.options.prefix+a.options.name,a),e(a.element).hide().attr(X,"-1").removeAttr("id").off(x),a._activeInput(n),a.element.trigger("focus")}},_activeInput:function(t){var a=this,n=a.wrapper;a.element=t,a.directory&&(t.attr("webkitdirectory",a.directory),t.attr("directory",a.directory)),t.attr("multiple",!!a._supportsMultiple()&&a.multiple).attr("autocomplete","off").on("click"+x,function(e){n.hasClass("k-state-disabled")&&e.preventDefault()}).on("focus"+x,function(){e(this).parent().addClass(W)}).on("blur"+x,function(){e(this).parent().removeClass(W)}).on("change"+x,e.proxy(a._onInputChange,a))},_adjustFocusState:function(e,t){e.removeClass(W),e.attr(X,-1),t.addClass(W),t.attr(X,0)},_arrowKeyNavigation:function(e,t,a){var n,o=this,i=b.keys;t===i.DOWN?(e.preventDefault(),e.stopPropagation(),n=o.wrapper.find(".k-upload-files .k-file").first(),a.length>0&&(a.hasClass("k-upload-action")&&(a.removeClass(W),a=a.closest(".k-file")),n=a.next()),o._adjustFocusState(a,n),n&&0!==n.length||(n=o.wrapper.find(".k-clear-selected"))):t===i.UP?(e.preventDefault(),e.stopPropagation(),n=o.wrapper.find(".k-upload-files .k-file:last"),a.length>0&&(a.hasClass("k-upload-action")&&(a.removeClass(W),a=a.closest(".k-file")),n=a.prev()),o._adjustFocusState(a,n)):t===i.RIGHT?(a.hasClass("k-upload-action")?(n=a.next(".k-upload-action"),n&&0!==n.length||(n=a.parent().find(".k-upload-action:first"))):a.length>0&&(n=a.find(".k-upload-action:first")),n&&n.length>0&&(a.removeClass(W),n.addClass(W))):t===i.LEFT&&(a.hasClass("k-upload-action")?(n=a.prev(".k-upload-action"),n&&0!==n.length||(n=a.parent().find(".k-upload-action:last"))):a.length>0&&(n=a.find(".k-upload-action:last")),n&&n.length>0&&(a.removeClass(W),n.addClass(W))),n&&0!==n.length||t!==i.UP&&t!==i.DOWN||(n=o.element),n&&n.length>0&&(o._preventFocusRemove=!0,n.trigger("focus"))},_asyncCommandKeyNavigation:function(t,a,n){var o=this,i=b.keys,s=e(a,o.wrapper);if(o._retryClicked=!1,t===i.ESC&&a.find(".k-i-cancel").length>0)o.trigger(T,n),o._module.onCancel({target:s}),o._checkAllComplete(),o._updateHeaderUploadStatus(),o._preventFocusRemove=!0,o.element.trigger("focus");else if(t===i.SPACEBAR)a.find(".k-i-pause-sm").length>0?(o.trigger(B,n),o.pause(a),o._updateHeaderUploadStatus()):a.find(".k-i-play-sm").length>0&&(o.trigger(H,n),o.resume(a));else if(t===i.ENTER&&!a.is(".k-file-progress, .k-file-success, .k-file-invalid")){if(o.options.async.chunkSize&&!o.options.async.concurrent&&e(".k-file-progress",o.wrapper).length>0)return;e(".k-i-warning",a).remove(),e(".k-progressbar",a).finish().show(),o._module.metaData[s.data("uid")]||o._module.prepareChunk(s),o._module.onRetry({target:s}),o._retryClicked=!0}},_commandKeyNavigation:function(t,a){var n=this,o=b.keys,i=a.data("fileNames"),s=n._filesContainValidationErrors(i),r={files:i,headers:{}};t===o.DELETE?n.trigger(M,r)||(n._module.onRemove({target:e(a,n.wrapper)},r,!s),n._preventFocusRemove=!0,n.element.trigger("focus")):t===o.TAB?(a.removeClass(W),a.attr(X,-1)):n.options.async.saveUrl&&n._asyncCommandKeyNavigation(t,a,r)},_focusout:function(){var e=this.wrapper.find(".k-upload-files .k-file."+W);this._preventFocusRemove?this._preventFocusRemove=!1:(e.removeClass(W),e.attr(X,-1))},_onKeyDown:function(e){var t=this,a=t.wrapper.find(".k-upload-files .k-file."+W+",.k-upload-action."+W),n=b.keys,o=[n.DELETE,n.ESC,n.ENTER,n.SPACEBAR,n.TAB],i=e.keyCode;i===n.DOWN||i===n.UP||i===n.LEFT||i===n.RIGHT?t._arrowKeyNavigation(e,i,a):a.length>0&&a.hasClass("k-file")&&o.indexOf(i)>-1&&!t.wrapper.hasClass("k-state-disabled")&&(i===n.SPACEBAR&&(e.preventDefault(),e.stopPropagation()),t._commandKeyNavigation(i,a))},_onInputChange:function(t){var a,n=this,o=e(t.target),i=l(n._inputFiles(o),n._isAsyncNonBatch());p(i,n.options.validation),a=n.trigger(A,{files:i}),a?(n._addInput(o),o.remove()):n._module.onSelect({target:o},i)},_readDirectory:function(t){var a=new e.Deferred,n=t.createReader(),o=[],i=function(){n.readEntries(function(e){e.length?(o=o.concat(e),i()):a.resolve(o)},a.reject)};return i(),a.promise()},_readFile:function(e){var t=this,a=e.fullPath;e.file(function(e){e.relativePath=a.slice(1),t.droppedFolderFiles.push(e),t.droppedFolderCounter--,0===t.droppedFolderCounter&&setTimeout(function(){0===t.droppedFolderCounter&&t.droppedFolderFiles.length&&(t._proceedDroppedItems(t.droppedFolderFiles),t.droppedFolderFiles=[])},0)},function(){U("File error.")})},_traverseFileTree:function(e,t){var a=this;t||a.droppedFolderCounter--,this._readDirectory(e).then(function(e){a.droppedFolderCounter+=e.length;for(var t=0;t<e.length;t++)e[t].isFile?a._readFile(e[t]):e[t].isDirectory&&a._traverseFileTree(e[t])})},_onDrop:function(e){var t,a,n,o=e.originalEvent.dataTransfer,i=this,s=o.files;if(g(e),i.options.directoryDrop&&o.items)for(t=o.items.length,i.droppedFolderCounter=0,i.droppedFolderFiles=[],a=0;a<t;a++)o.items[a].webkitGetAsEntry?(n=o.items[a].webkitGetAsEntry(),n.isDirectory?i._traverseFileTree(n,!0):n.isFile&&i.droppedFolderFiles.push(o.files[a])):i._proceedDroppedItems(s);else i._proceedDroppedItems(s)},_proceedDroppedItems:function(t){var a,n=this,i=l(o(t),n._isAsyncNonBatch());t.length>0&&!n.wrapper.hasClass("k-state-disabled")&&(!n.multiple&&i.length>1&&i.splice(1,i.length-1),p(i,n.options.validation),a=n.trigger(A,{files:i}),a||n._module.onSelect({target:e(".k-dropzone",n.wrapper)},i))},_filesContainValidationErrors:function(t){var a=!1;return e(t).each(function(e,t){if(t[L]&&t[L].length>0)return a=!0,!1}),a},_isAsyncNonBatch:function(){return this._async&&!this.options.async.batch||!1},_renderInitialFiles:function(e){var t,a,n=this,o=0;for(e=l(e,!0),o=0;o<e.length;o++)t=e[o],a=n._enqueueFile(t.name,{fileNames:[t]}),a.addClass("k-file-success").data("files",[e[o]]),n._supportsRemove()&&n._fileAction(a,M)},_prepareTemplateData:function(e,t){var a=t.fileNames,n={},o=0,i=0;for(i=0;i<a.length;i++)o+=a[i].size;return n.name=e,n.size=o,n.files=t.fileNames,n},_prepareDefaultSingleFileEntryTemplate:function(t){var a=this,n=t.fileNames[0],o=f(t.fileNames),i=b.getFileGroup(n.extension,!0),s=n[L],r="";return r+=s&&s.length>0?"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-file-invalid-group-wrapper'><span class='k-file-group k-icon k-i-"+i+"'></span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name k-file-name-invalid' title='"+n.name+"'>"+n.name+"</span><span class='k-file-validation-message k-text-error'>"+a.localization[s[0]]+"</span></span>":"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-file-group-wrapper'><span class='k-file-group k-icon k-i-"+i+"'></span><span class='k-file-state'></span></span><span class='k-file-name-size-wrapper'><span class='k-file-name' title='"+n.name+"'>"+n.name+"</span><span class='k-file-size'>"+o+"</span></span>",r+="<strong class='k-upload-status'></strong>",e(r)},_prepareDefaultMultipleFileEntriesTemplate:function(t){var a,n,o,i=this,s=t.fileNames,r=i._filesContainValidationErrors(s),l=f(s),p="";for(p+=r?"<li class='k-file k-file-invalid'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-multiple-files-invalid-group-wrapper'><span class='k-file-group k-icon k-i-files'></span>":"<li class='k-file'><div class='k-progressbar k-hidden'><span class='k-progress'></span></div><span class='k-multiple-files-group-wrapper'><span class='k-file-group k-icon k-i-files'></span>",p+="<span class='k-file-state'></span></span>",s.sort(function(e,t){return e[L]?-1:t[L]?1:0}),p+="<span class='k-multiple-files-wrapper'>",a=0;a<s.length;a++)n=s[a],o=f([n]),p+="<span class='k-file-name-size-wrapper'>",p+=n[L]&&n[L].length>0?"<span class='k-file-name k-file-name-invalid' title='"+n.name+"'>"+n.name+"</span>":"<span class='k-file-name' title='"+n.name+"'>"+n.name+"</span>",p+="<span class='k-file-size'>"+o+"</span></span>";return p+=r?"<span class='k-file-validation-message k-text-error'>"+i.localization.invalidFiles+"</span>":"<span class='k-file-information'>Total: "+s.length+" files, "+l+"</span>",p+="</span><strong class='k-upload-status'></strong>",e(p)},_enqueueFile:function(t,a){var n,o,i,s,r=this,l=a.fileNames[0].uid,p=e(".k-upload-files",r.wrapper),d=r.options,u=d.template;return 0===p.length&&(p=e("<ul class='k-upload-files k-reset'></ul>").appendTo(r.wrapper),r.options.showFileList||p.hide(),r.wrapper.removeClass("k-upload-empty")),n=e(".k-file",p),u?(i=r._prepareTemplateData(t,a),u=b.template(u),o=e("<li class='k-file'>"+u(i)+"</li>"),o.find(".k-upload-action").addClass("k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base"),r.angular("compile",function(){return{elements:o,data:[i]}})):o=1===a.fileNames.length?r._prepareDefaultSingleFileEntryTemplate(a):r._prepareDefaultMultipleFileEntriesTemplate(a),o.attr(b.attr("uid"),l).appendTo(p).data(a),r._async||e(".k-progress",o).width("100%"),!r.multiple&&n.length>0&&(s={files:n.data("fileNames"),headers:{}},r.trigger(M,s)||r._module.onRemove({target:e(n,r.wrapper)},s)),o},_removeFileEntry:function(t){var a,n,o,i=this,s=t.closest(".k-upload-files");t.remove(),a=e(".k-file",s),n=e(".k-file-success, .k-file-error",s),o=e(".k-file-invalid",s),n.length!==a.length&&o.length!==a.length||this._hideActionButtons(),0===a.length?(s.remove(),i.wrapper.addClass("k-upload-empty"),i._hideHeaderUploadstatus()):i._updateHeaderUploadStatus()},_fileAction:function(e,t,a){var n,o={remove:"k-i-x",cancel:"k-i-cancel",retry:"k-i-retry",pause:"k-i-pause-sm"},i={remove:"k-i-close",cancel:"k-i-cancel",retry:"k-i-reload-sm",pause:"k-i-pause-sm"};o.hasOwnProperty(t)&&(a||this._clearFileAction(e),this.options.template?(n=e.find(".k-upload-action").first(),n.find(".k-icon").length?n.next(".k-upload-action").length&&n.next(".k-upload-action").addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+i[t]+" "+o[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show():n.addClass("k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button").append("<span class='k-button-icon k-icon "+i[t]+" "+o[t]+"' title='"+this.localization[t]+"'aria-label='"+this.localization[t]+"'></span>").show()):(a||e.find(".k-upload-status .k-upload-action").remove(),e.find(".k-upload-status").append(this._renderAction(o[t],this.localization[t],i[t]))))},_fileState:function(t,a){var n=this.localization,o={uploading:{text:n.statusUploading},uploaded:{text:n.statusUploaded},failed:{text:n.statusFailed}},i=o[a];i&&e("span.k-file-state",t).text(i.text)},_renderAction:function(t,a,n){return""!==t?e("<button type='button' class='k-button k-icon-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-upload-action' aria-label='"+a+"' tabindex='-1'><span class='k-button-icon k-icon "+n+" "+t+"' title='"+a+"'></span></button>").on("focus",function(){e(this).addClass(W)}).on("blur",function(){e(this).removeClass(W)}):e("<button type='button' class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base'><span class=\"k-button-text\">"+a+"</span></button>")},_clearFileAction:function(t){e(".k-upload-action",t).empty().hide()},_onFileAction:function(t){var a,n,o,i,s,r,l=this;return l.wrapper.hasClass("k-state-disabled")||(a=e(t.target).closest(".k-upload-action"),n=a.find(".k-icon"),o=a.closest(".k-file"),i=o.data("fileNames"),s=l._filesContainValidationErrors(i),r={files:i,headers:{}},l._retryClicked=!1,n.hasClass("k-i-x")?l.trigger(M,r)||(l._module.onRemove({target:e(o,l.wrapper)},r,!s),l.element.trigger("focus")):n.hasClass("k-i-cancel")?(l.trigger(T,r),l._module.onCancel({target:e(o,l.wrapper)}),l._checkAllComplete(),l._updateHeaderUploadStatus(),l.element.trigger("focus")):n.hasClass("k-i-pause-sm")?(l.trigger(B,r),l.pause(o),l._updateHeaderUploadStatus()):n.hasClass("k-i-play-sm")?(l.trigger(H,r),l.resume(o)):n.hasClass("k-i-retry")&&(e(".k-i-warning",o).remove(),e(".k-progressbar",o).finish().show(),l._module.onRetry({target:e(o,l.wrapper)}),l._retryClicked=!0),o.addClass(W)),!1},_onUploadSelected:function(){var e=this,t=e.wrapper;return t.hasClass("k-state-disabled")||this._module.onSaveSelected(),!1},_onClearSelected:function(){var e=this,t=e.wrapper,a={};return t.hasClass("k-state-disabled")||e.trigger(I,a)||e.clearAllFiles(),!1},_onFileProgress:function(t,a){var n;a>100&&(a=100),e(".k-progressbar",t.target).removeClass("k-hidden"),this.options.template?e(".k-progress",t.target).width(a+"%"):(n=e(".k-upload-pct",t.target),0===n.length&&e(".k-upload-status",t.target).prepend("<span class='k-upload-pct'></span>"),100!==a?e(".k-upload-pct",t.target).text(a+"%"):e(".k-upload-pct",t.target).remove(),e(".k-progress",t.target).width(a+"%")),this.trigger(q,{files:F(t).data("fileNames"),percentComplete:a})},_onUploadSuccess:function(e,t,a){var n=this,o=F(e),i=o.data("fileNames"),s=o.find(".k-file-information"),r=o.find(".k-file-size"),l=n.trigger(R,{files:o.data("fileNames"),response:t,operation:"upload",XMLHttpRequest:a});l?n._setUploadErrorState(o):(n._fileState(o,"uploaded"),o.removeClass("k-file-progress").addClass("k-file-success"),s.length>0?s.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+i.length+" "+n.localization.uploadSuccess+"</span>"):r.length>0&&r.addClass("k-hidden").after('<span class="k-file-validation-message k-text-success">'+n.localization.uploadSuccess+"</span>"),n._updateHeaderUploadStatus(),n._supportsRemove()?n._fileAction(o,M):n._clearFileAction(o)),n._hideUploadProgress(o),n._checkAllComplete()},_onUploadError:function(e,t){var a=this,n=a._module,o=F(e),i=o.data("uid");a._setUploadErrorState(o),a.trigger(P,{operation:"upload",files:o.data("fileNames"),XMLHttpRequest:t}),U("Server response: "+t.responseText),a.options.async.chunkSize?n._decreasePosition&&n._decreasePosition(i):a._hideUploadProgress(o),a._checkAllComplete(),this.options.async.autoRetryAfter&&this._autoRetryAfter(o)},_autoRetryAfter:function(e){var t=this,a=this._module.retries;a&&(a[e.data("uid")]||(a[e.data("uid")]=1),a[e.data("uid")]<=this.options.async.maxAutoRetries&&(a[e.data("uid")]++,setTimeout(function(){t._module.performUpload(e)},this.options.async.autoRetryAfter)))},_setUploadErrorState:function(t){var a,n=this,o=t.data("fileNames"),i=t.find(".k-file-information"),s=t.find(".k-file-size");n._fileState(t,"failed"),t.removeClass("k-file-progress").addClass("k-file-error"),i.length>0?i.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+o.length+" "+n.localization.uploadFail+"</span>"):s.length>0&&s.addClass("k-hidden").after('<span class="k-file-validation-message k-text-error">'+n.localization.uploadFail+"</span>"),n._updateUploadProgress(t),a=e(".k-upload-pct",t),a.length>0&&a.remove(),this._updateHeaderUploadStatus(),this._fileAction(t,"retry"),this._fileAction(t,M,!0),n._retryClicked&&t.trigger("focus")},_updateUploadProgress:function(t){var a,n,o,i=this;i.options.async.chunkSize?(a=t.data("uid"),i._module.metaData&&(n=i._module.metaData[a],n&&(o=n.totalChunks?Math.round(n.chunkIndex/n.totalChunks*100):100,i._onFileProgress({target:e(t,i.wrapper)},o)))):e(".k-progress",t).width("100%")},_hideUploadProgress:function(t){e(".k-progressbar",t).delay(V).fadeOut(K,function(){e(this).find(".k-progress").css("width","0%")})},_showActionButtons:function(){var t=this,a=e(".k-action-buttons",t.wrapper),n=e(".k-upload-selected",t.wrapper),o=e(".k-clear-selected",t.wrapper);0===n.length&&(n=t._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected").addClass("k-button-solid-primary").removeClass("k-button-solid-base"),o=t._renderAction("",this.localization.clearSelectedFiles).addClass("k-clear-selected")),a.length||(a=e("<div />").addClass("k-action-buttons").append(o,n)),this.wrapper.append(a)},_hideActionButtons:function(){e(".k-action-buttons",this.wrapper).remove()},_showHeaderUploadStatus:function(t){var a=this,n=a.localization,o=e(".k-dropzone",a.wrapper),i=e(".k-upload-status-total",a.wrapper);0!==i.length&&i.remove(),e(".k-dropzone-hint",a.wrapper).addClass("k-hidden"),i='<strong class="k-upload-status k-upload-status-total"><span class="k-icon"></span></strong>',t?(i=e(i).append(n.headerStatusUploading),i.find(".k-icon").addClass(G.loading)):(i=e(i).append(n.headerStatusUploaded),i.find(".k-icon").addClass(G.warning)),o.length>0?o.append(i):e(".k-upload-button",a.wrapper).after(i)},_updateHeaderUploadStatus:function(){var t,a,n=this,o=e(".k-upload-status-total",this.wrapper),i=e(".k-file",n.wrapper).not(".k-file-success, .k-file-error, .k-file-invalid"),s=e(".k-file-invalid",n.wrapper),r=e(".k-file-error",n.wrapper),l=e(".k-file",n.wrapper).find(".k-i-play-sm");!l.length||l.length!==i.length&&n.options.async.concurrent?(0===i.length||s.length>0||r.length>0)&&(t=e(".k-file.k-file-error, .k-file.k-file-invalid",n.wrapper),o=e(".k-upload-status-total",n.wrapper),a=e(".k-icon",o).removeClass().addClass("k-icon").addClass(0!==t.length?G.warning:G.success),o.html(a).append(n.localization.headerStatusUploaded)):(a=e(".k-icon",o).removeClass().addClass("k-icon").addClass("k-i-pause-sm"),o.html(a).append(n.localization.headerStatusPaused))},_hideHeaderUploadstatus:function(){var t=this,a=t.options.dropZone;e(".k-upload-status-total",this.wrapper).remove(),""===a&&e(".k-dropzone-hint",t.wrapper).removeClass("k-hidden")},_onParentFormSubmit:function(){var a,n=this,o=n.element;t!==this._module.onAbort&&this._module.onAbort(),o.value||(a=e(o),a.attr("disabled","disabled"),window.setTimeout(function(){a.prop("disabled",!1)},0))},_onParentFormReset:function(){e(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var e=this._userAgent().indexOf("Windows")>-1;return!(b.support.browser.opera||b.support.browser.safari&&e)},_supportsDrop:function(){var e=this._userAgent().toLowerCase(),t=/chrome/.test(e),a=!t&&/safari/.test(e),n=a&&/windows/.test(e);return!n&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var t=this,a=t._ns,n=e(".k-dropzone",t.wrapper).on("dragenter"+a,g).on("dragover"+a,function(e){e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),e.preventDefault()}).on("drop"+a,e.proxy(t._onDrop,t));n.find(".k-dropzone-hint").length||n.append(e("<em class='k-dropzone-hint'>"+t.localization.dropFilesHere+"</em>")),_(n,a,function(){n.closest(".k-upload").hasClass("k-state-disabled")||n.addClass("k-dropzone-hovered")},function(){n.removeClass("k-dropzone-hovered")}),t._bindDocumentDragEventWrappers(n)},_setupCustomDropZone:function(){var t,a=this,n=e(a.options.dropZone);a.wrapper.find(".k-dropzone-hint").length?e(".k-dropzone-hint",a.wrapper).addClass("k-hidden"):e(".k-dropzone",a.wrapper).append(e("<em class='k-dropzone-hint k-hidden'>"+a.localization.dropFilesHere+"</em>")),t=a._ns,n.on("dragenter"+t,g).on("dragover"+t,function(e){e.originalEvent&&(e.originalEvent.dataTransfer.dropEffect="copy"),e.preventDefault()}).on("drop"+t,e.proxy(a._onDrop,a)),_(n,t,function(t){a.wrapper.hasClass("k-state-disabled")||(n.removeClass("k-dropzone-hovered"),n.addClass("k-dropzone-hovered"),e(t.target).addClass("k-dropzone-hovered"))},function(){n.removeClass("k-dropzone-hovered"),n.find(".k-dropzone-hovered").removeClass("k-dropzone-hovered")}),a._bindDocumentDragEventWrappers(n)},_bindDocumentDragEventWrappers:function(t){var a=this,n=a._ns;_(e(document),n,function(){a.wrapper.hasClass("k-state-disabled")||(t.addClass("k-dropzone-active"),t.closest(".k-upload").removeClass("k-upload-empty"),t.find(".k-dropzone-hint").removeClass("k-hidden"))},function(){t.removeClass("k-dropzone-active"),t.find(".k-dropzone-hint").addClass("k-hidden"),0===e("li.k-file",t.closest(".k-upload")).length&&t.closest(".k-upload").addClass("k-upload-empty")})},_toggleDropZone:function(){var t=this,a=t.options.dropZone;t._supportsDrop()&&(e(a).off(t._ns),e(".k-dropzone",t.wrapper).off(t._ns),""!==a?t._setupCustomDropZone():t._setupDropZone())},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(t,a,n,o){var i=this,s=i.options.async.removeField||"fileNames",r=e.extend(a.data,z());r[s]=t,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:v,url:this.options.async.removeUrl,traditional:!0,data:r,headers:a.headers,success:n,error:o,xhrFields:{withCredentials:this.options.async.withCredentials}})},_wrapInput:function(t){var a=this,n=a.options,o=!!t.attr("id")&&e("[for='"+t.attr("id")+"']").length>0;return t.wrap("<div class='k-widget k-upload'><div class='k-dropzone'><div class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-upload-button'></div></div></div>"),n.async.saveUrl?t.closest(".k-upload").addClass("k-upload-async"):t.closest(".k-upload").addClass("k-upload-sync"),t.closest(".k-upload").addClass("k-upload-empty"),t.closest(".k-button").append("<span>"+a.localization.select+"</span>"),o||t.attr("aria-label")||t.attr("aria-label",a.localization.select),t.closest(".k-upload")},_checkAllComplete:function(){0===e(".k-file.k-file-progress",this.wrapper).length&&this.trigger(N)},_inputFiles:function(e){return n(e)}}),Q=function(e){this.name="syncUploadModule",this.element=e.wrapper,this.upload=e,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};Q.prototype={onSelect:function(t,n){var o,i,s=this.upload,r=e(t.target),l=s._filesContainValidationErrors(n);s._addInput(r),o={fileNames:n},l?r.remove():o.relatedInput=r,i=s._enqueueFile(a(r),o),l&&s._hideUploadProgress(i),s._fileAction(i,M)},onRemove:function(e){var t=F(e),a=t.data("relatedInput");a&&a.remove(),this.upload._removeFileEntry(t)}},w=function(e){this.name="iframeUploadModule",this.element=e.wrapper,this.upload=e,this.iframes=[]},J._frameId=0,w.prototype={onSelect:function(t,a){var n=this.upload,o=e(t.target),i=n._filesContainValidationErrors(a),s=this.prepareUpload(o,a,i);n.options.async.autoUpload?i?(n._fileAction(s,M),n._showHeaderUploadStatus(!1)):this.performUpload(s):(n._fileAction(s,M),i?n._updateHeaderUploadStatus():n._showActionButtons()),i&&n._hideUploadProgress(s)},prepareUpload:function(t,n,o){var i,s,r,l,p=this.upload,d=e(p.element),u=p.options.async.saveField||t.attr("name");return p._addInput(t),t.attr("name",u),o?(t.remove(),s={fileNames:n}):(r=this.createFrame(p.name+"_"+J._frameId++),this.registerFrame(r),l=this.createForm(p.options.async.saveUrl,r.attr("name")).append(d),s={frame:r,relatedInput:d,fileNames:n}),i=p._enqueueFile(a(t),s),r&&r.data({form:l,file:i}),i},performUpload:function(t){var a,n,o,i={files:t.data("fileNames")},s=t.data("frame"),r=this.upload,l=t.find(".k-file-validation-message"),p=t.find(".k-file-information"),d=t.find(".k-file-size");if(r.trigger(D,i))r._removeFileEntry(s.data("file")),this.cleanupFrame(s),this.unregisterFrame(s);else{r._hideActionButtons(),r._showHeaderUploadStatus(!0),s.appendTo(document.body),a=s.data("form").attr("action",r.options.async.saveUrl).appendTo(document.body),i.data=e.extend({},i.data,z());for(n in i.data)o=a.find("input[name='"+n+"']"),0===o.length&&(o=e("<input>",{type:"hidden",name:n}).prependTo(a)),o.val(i.data[n]);r._fileAction(t,T),r._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),l.length>0&&l.remove(),p.length>0?p.removeClass("k-hidden"):d.length>0&&d.removeClass("k-hidden"),s.one("load",e.proxy(this.onIframeLoad,this)),a[0].submit()}},onSaveSelected:function(){var t=this,a=t.upload;e(".k-file",this.element).each(function(){var n=e(this),o=y(n),i=a._filesContainValidationErrors(n.data("fileNames"));o||i||t.performUpload(n)})},onIframeLoad:function(t){var a,n=e(t.target);try{a=n.contents().text()}catch(o){a="Error trying to get server response: "+o}this.processResponse(n,a)},processResponse:function(t,a){var n=t.data("file"),o=this,i={
responseText:a};k(a,function(a){e.extend(i,{statusText:"OK",status:"200"}),o.upload._onFileProgress({target:e(n,o.upload.wrapper)},100),o.upload._onUploadSuccess({target:e(n,o.upload.wrapper)},a,i),o.cleanupFrame(t),o.unregisterFrame(t)},function(){e.extend(i,{statusText:"error",status:"500"}),o.upload._onUploadError({target:e(n,o.upload.wrapper)},i)})},onCancel:function(t){var a=e(t.target).data("frame");this.stopFrameSubmit(a),this.cleanupFrame(a),this.unregisterFrame(a),this.upload._removeFileEntry(a.data("file"))},onRetry:function(e){var t=F(e);this.performUpload(t)},onRemove:function(e,t,a){var n=this,o=n.upload,i=F(e),s=i.data("frame");s?(n.unregisterFrame(s),o._removeFileEntry(i),n.cleanupFrame(s)):i.hasClass("k-file-success")?m(i,o,t,a):o._removeFileEntry(i)},onAbort:function(){var t=this.element,a=this;e.each(this.iframes,function(){e("input",this.data("form")).appendTo(t),a.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(t){return e("<iframe name='"+t+"' id='"+t+"' style='display:none;' />")},createForm:function(t,a){return e("<form enctype='multipart/form-data' method='POST' action='"+t+"' target='"+a+"'/>")},stopFrameSubmit:function(e){t!==e.stop?e.stop():e.document&&e.document.execCommand("Stop")},registerFrame:function(e){this.iframes.push(e)},unregisterFrame:function(t){this.iframes=e.grep(this.iframes,function(e){return e.attr("name")!=t.attr("name")})},cleanupFrame:function(e){var t=e.data("form");e.data("file").data("frame",null),setTimeout(function(){t.remove(),e.remove()},1)}},C=function(e){this.name="formDataUploadModule",this.element=e.wrapper,this.upload=e,this.position={},this.metaData={},this.cancelled={},this.resume={},this.paused={},this.retries={}},C.prototype={onSelect:function(t,a){var n,o,i=this.upload,s=this,r=e(t.target),l=this.prepareUpload(r,a);e.each(l,function(t){n=i._filesContainValidationErrors(e(this.data("fileNames"))),i.options.async.autoUpload?n?(i._fileAction(this,M),i._showHeaderUploadStatus(!1)):i.options.async.chunkSize?(s.prepareChunk(this),o=this.prev(),(i.options.async.concurrent||0===t&&!o.length||0===t&&o.hasClass("k-file-success"))&&s.performUpload(this)):s.performUpload(this):(i._fileAction(this,M),n?i._updateHeaderUploadStatus():(i._showActionButtons(),this.addClass("k-toupload"))),n&&i._hideUploadProgress(this)})},prepareUpload:function(t,a){var n=this.enqueueFiles(a);return t.is("input")&&(e.each(n,function(){e(this).data("relatedInput",t)}),t.data("relatedFileEntries",n),this.upload._addInput(t)),n},enqueueFiles:function(t){var a,n,o,i,s=this.upload,r=t.length,l=[];if(s.options.async.batch===!0)a=e.map(t,function(e){return e.name}).join(", "),(s.directory||s.options.directoryDrop)&&e(t).each(function(){(this.rawFile.webkitRelativePath||this.rawFile.relativePath)&&(this.name=this.rawFile.webkitRelativePath||this.rawFile.relativePath)}),i=s._enqueueFile(a,{fileNames:t}),i.data("files",t),l.push(i);else for(n=0;n<r;n++)o=t[n],a=o.name,(s.directory||s.options.directoryDrop)&&(o.rawFile.webkitRelativePath||o.rawFile.relativePath)&&(o.name=o.rawFile.webkitRelativePath||o.rawFile.relativePath),i=s._enqueueFile(a,{fileNames:[o]}),i.data("files",[o]),l.push(i);return l},performUpload:function(t){var a,n,o=this.upload,i=this.createFormData(),s=this.createXHR(),r={files:t.data("fileNames"),XMLHttpRequest:s},l=t.find(".k-file-validation-message"),p=t.find(".k-file-information"),d=t.find(".k-file-size");if(o.trigger(D,r))this.removeFileEntry(t);else{if(0===t.find(".k-i-cancel").length&&(o.options.async.chunkSize&&o._fileAction(t,B),o._fileAction(t,T,o.options.async.chunkSize)),o.wrapper.find(".k-toupload").length||o._hideActionButtons(),o._showHeaderUploadStatus(!0),r.formData)i=r.formData;else{r.data=e.extend({},r.data,z());for(n in r.data)i.append(n,r.data[n]);a=t.data("files"),a&&this.populateFormData(i,a)}o._fileState(t,"uploading"),e(t).removeClass("k-file-error").addClass("k-file-progress"),l.length>0&&l.remove(),p.length>0?p.removeClass("k-hidden"):d.length>0&&d.removeClass("k-hidden"),o.options.async.useArrayBuffer&&window.FileReader?this._readFile(o.options.async.saveUrl,i,t,s):this.postFormData(o.options.async.saveUrl,i,t,s)}},_readFile:function(a,n,o,i){var s=this,r=s.upload,l=o.data("files")[0],p=new FileReader;p.onload=function(p){try{s.fileArrayBuffer=s.fileArrayBuffer?s._appendBuffer(s.fileArrayBuffer,p.target.result):p.target.result}catch(d){return r._onUploadError({target:e(o,r.wrapper)},i),t}s.position[l.uid]>l.size?(s.postFormData(r.options.async.saveUrl,s.fileArrayBuffer,o,i),s.fileArrayBuffer=null):s._readFile(a,n,o,i)},p.onerror=function(){r._onUploadError({target:e(o,r.wrapper)},i)},p.readAsArrayBuffer(s._getCurrentChunk(l.rawFile,l.uid))},_appendBuffer:function(e,t){var a=new Uint8Array(e.byteLength+t.byteLength);return a.set(new Uint8Array(e),0),a.set(new Uint8Array(t),e.byteLength),a.buffer},onSaveSelected:function(){var t=this,a=t.upload;e(".k-toupload",this.element).filter(function(){var t=e(this),n=y(t),o=a._filesContainValidationErrors(t.data("fileNames"));return!n&&!o}).each(function(n){var o=e(this),i=o.prev();o.removeClass("k-toupload"),a.options.async.chunkSize?(t.prepareChunk(o),(a.options.async.concurrent||0===n&&!i.length||0===n&&i.hasClass("k-file-success")||i.hasClass("k-file-error"))&&t.performUpload(o)):t.performUpload(o)})},onCancel:function(e){var t=F(e);this.upload.options.async.chunkSize&&(this.cancelled[t.data("uid")]=!0),this.stopUploadRequest(t),this.removeFileEntry(t)},onPause:function(e){var t=F(e),a=t.data("uid"),n=this.upload.options.async;n.chunkSize&&(this.retries[a]=n.maxAutoRetries+1,this.paused[a]=!0,this.resume[a]=!1)},onResume:function(e){var t=F(e),a=t.data("uid");this.upload.options.async.chunkSize&&(delete this.paused[a],this.resume[a]=!0,this.retries[t.data("uid")]=1,this._increaseChunkIndex(a),this.performUpload(t))},onRetry:function(e){var t=F(e),a=this.upload.options.async;a.chunkSize&&(this.retries[t.data("uid")]=a.maxAutoRetries+1,delete this.paused[t.data("uid")]),this.performUpload(t)},onRemove:function(e,t,a){var n=this,o=n.upload,i=F(e),s=this.upload.options.async;s.chunkSize&&(this.retries[i.data("uid")]=s.maxAutoRetries+1),i.hasClass("k-file-success")?m(i,o,t,a):n.removeFileEntry(i)},createXHR:function(){return new XMLHttpRequest},postFormData:function(e,t,a,n){var o,i=this;a.data("request",n),n.addEventListener("load",function(e){i.onRequestSuccess.call(i,e,a)},!1),n.addEventListener(P,function(e){i.onRequestError.call(i,e,a)},!1),n.upload.addEventListener("progress",function(e){i.onRequestProgress.call(i,e,a)},!1),n.open("POST",e,!0),n.withCredentials=this.upload.options.async.withCredentials,o=this.upload.options.async.accept,o&&n.setRequestHeader("Accept",o),n.send(t)},createFormData:function(){return new FormData},populateFormData:function(e,t){var a,n,o,i,s=t.length,r=this.upload;if(r.options.async.chunkSize)o=t[0].uid,a=this._getCurrentChunk(t[0].rawFile,o),e.append(r.options.async.saveField||r.name,a),i=JSON.stringify(this.metaData[o]),e.append("metadata",i);else for(n=0;n<s;n++)e.append(r.options.async.saveField||r.name,t[n].rawFile);return e},onRequestSuccess:function(t,a){function n(){s.upload._onUploadError({target:e(a,s.upload.wrapper)},i)}function o(t){var n=s.upload.options.async.batch,o=s.upload.options.async.chunkSize,r=s.upload.options.async.concurrent,l=t.fileUid;s.paused[l]||s.cancelled[l]||(delete s.retries[l],!o||n||t.uploaded?!o||n||r||!a.next().length||a.next().hasClass("k-toupload")?(s.upload._onFileProgress({target:e(a,s.upload.wrapper)},100),s.upload._onUploadSuccess({target:e(a,s.upload.wrapper)},t,i),s.cleanupFileEntry(a)):(s.upload._onFileProgress({target:e(a,s.upload.wrapper)},100),s._resetChunkIndex(l),s.upload._onUploadSuccess({target:e(a,s.upload.wrapper)},t,i),s.performUpload(a.next())):(s._increaseChunkIndex(l),s.performUpload(a)))}var i=t.target,s=this;i.status>=200&&i.status<=299?k(i.responseText,o,n):n()},onRequestError:function(t,a){var n=t.target;this.upload._onUploadError({target:e(a,this.upload.wrapper)},n)},cleanupFileEntry:function(t){var a=t.data("relatedInput"),n=!0;a&&(e.each(a.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=t[0]&&(n=n&&this.hasClass("k-file-success"))}),n&&a.remove())},removeFileEntry:function(e){var t=this.upload.options.async.chunkSize,a=this.upload.options.async.concurrent,n=this.upload.wrapper.find(".k-upload-selected").length>0;this.cleanupFileEntry(e),!t||a||n||e.next().length&&this.performUpload(e.next()),this.upload._removeFileEntry(e)},onRequestProgress:function(t,a){var n,o=Math.round(100*t.loaded/t.total),i=a.data("uid");this.upload.options.async.chunkSize&&(n=this.metaData[i],o=n&&n.totalChunks?Math.round(n.chunkIndex/n.totalChunks*100):100),this.upload._onFileProgress({target:e(a,this.upload.wrapper)},o)},stopUploadRequest:function(e){e.data("request")&&e.data("request").abort()},prepareChunk:function(e){var t=e.data("files")[0],a=t.rawFile,n=t.uid,o=this.upload.options.async.chunkSize;this.position[n]=0,this.metaData[n]={chunkIndex:0,contentType:a.type,fileName:a.name,relativePath:t.name,totalFileSize:a.size,totalChunks:Math.ceil(a.size/o),uploadUid:n}},_decreaseChunkIndex:function(e){this.metaData[e].chunkIndex--},_increaseChunkIndex:function(e){this.metaData[e].chunkIndex++},_resetChunkIndex:function(e){this.metaData[e].chunkIndex=0},_decreasePosition:function(e){this.position[e]-=this.upload.options.async.chunkSize},_getCurrentChunk:function(e,t){var a,n=this.position[t],o=this.upload.options.async,i=o.chunkSize||o.bufferChunkSize;return this.position[t]||(this.position[t]=0),this.position[t]+=i,(a=this._getChunker(e))?e[a](n,this.position[t]):e},_getChunker:function(e){return e.slice?"slice":e.mozSlice?"mozSlice":e.webkitSlice?"webkitSlice":null}},b.ui.plugin(J)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.upload.min.js.map
