{"version":3,"sources":["kendo.reorderable.js"],"names":["f","define","$","undefined","kendo","window","outerWidth","_outerWidth","outerHeight","_outerHeight","getOffset","Widget","ui","CHANGE","KREORDERABLE","Reorderable","extend","init","element","options","draggable","that","this","group","guid","fn","call","addClass","Draggable","autoScroll","filter","hint","dropFilter","reorderDropCue","find","kendoDropTarget","dragenter","e","dropTarget","offset","denied","cueOffset","isHorizontal","externalDraggableInstance","_externalDraggable","_draggable","_handleExternalDraggable","_isPartOfSortable","_dropTargetAllowed","_isLastDraggable","toggleHintClass","top","left","orientation","smartPosition","inSameContainer","source","target","sourceIndex","_index","targetIndex","_dropTarget","css","height","appendTo","document","body","positionDropCue","dragleave","remove","drop","dropIndex","isAfter","trigger","oldIndex","newIndex","position","bind","dragcancel","proxy","_dragcancel","dragend","_dragend","dragstart","_dragstart","drag","_drag","name","deniedIcon","allowIcon","events","removeClass","_dragcancelHandler","_dragendHandler","_dragstartHandler","_dragHandler","currentTarget","closest","_draggableInstance","_elements","unbind","is","dropStartOffset","width","dropStartTop","sender","hasClass","pageX","pageY","dragOverContainers","index","externalDraggable","item","elements","get","found","length","pop","destroy","each","data","plugin","jQuery","amd","a1","a2","a3"],"mappings":"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","file":"kendo.reorderable.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('kendo.reorderable', [\n        'kendo.core',\n        'kendo.draganddrop'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'reorderable',\n        name: 'Reorderable',\n        category: 'framework',\n        depends: [\n            'core',\n            'draganddrop'\n        ],\n        advanced: true\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, outerWidth = kendo._outerWidth, outerHeight = kendo._outerHeight, getOffset = kendo.getOffset, Widget = kendo.ui.Widget, CHANGE = 'change', KREORDERABLE = 'k-reorderable';\n        var Reorderable = Widget.extend({\n            init: function (element, options) {\n                var that = this, draggable, group = kendo.guid() + '-reorderable';\n                Widget.fn.init.call(that, element, options);\n                element = that.element.addClass(KREORDERABLE);\n                options = that.options;\n                that.draggable = draggable = options.draggable || new kendo.ui.Draggable(element, {\n                    group: group,\n                    autoScroll: true,\n                    filter: options.filter,\n                    hint: options.hint\n                });\n                if (!that.options.dropFilter) {\n                    that.options.dropFilter = draggable.options.filter;\n                }\n                that.reorderDropCue = that.options.reorderDropCue;\n                element.find(options.dropFilter).kendoDropTarget({\n                    group: draggable.options.group,\n                    dragenter: function (e) {\n                        var externalDraggableInstance = that._externalDraggable(e);\n                        if (!that._draggable && !externalDraggableInstance) {\n                            return;\n                        }\n                        if (externalDraggableInstance) {\n                            that._handleExternalDraggable(externalDraggableInstance);\n                        }\n                        var dropTarget = this.element, offset;\n                        var denied = that._isPartOfSortable(that._draggable) ? !that._dropTargetAllowed(dropTarget) || that._isLastDraggable() : false;\n                        that.toggleHintClass(e.draggable.hint, denied);\n                        if (!denied) {\n                            offset = getOffset(dropTarget);\n                            var cueOffset = {\n                                top: offset.top,\n                                left: offset.left\n                            };\n                            var isHorizontal = options.orientation === 'horizontal';\n                            if (!options.smartPosition || options.inSameContainer && !options.inSameContainer({\n                                    source: dropTarget,\n                                    target: that._draggable,\n                                    sourceIndex: that._index(dropTarget),\n                                    targetIndex: that._index(that._draggable)\n                                })) {\n                                that._dropTarget = dropTarget;\n                            } else {\n                                if (that._index(dropTarget) > that._index(that._draggable) && options.smartPosition) {\n                                    cueOffset[isHorizontal ? 'left' : 'top'] += isHorizontal ? outerWidth(dropTarget) : outerHeight(dropTarget);\n                                }\n                            }\n                            that.reorderDropCue.css({\n                                height: outerHeight(dropTarget),\n                                top: cueOffset.top,\n                                left: cueOffset.left\n                            }).appendTo(document.body);\n                            if (options.positionDropCue) {\n                                options.positionDropCue(that.reorderDropCue, dropTarget);\n                            }\n                        }\n                    },\n                    dragleave: function (e) {\n                        that.toggleHintClass(e.draggable.hint, true);\n                        that.reorderDropCue.remove();\n                        that._dropTarget = null;\n                    },\n                    drop: function () {\n                        that._dropTarget = null;\n                        if (!that._draggable) {\n                            return;\n                        }\n                        var dropTarget = this.element;\n                        var draggable = that._draggable;\n                        var dropIndex = that._index(dropTarget);\n                        var isAfter = that.options.orientation === 'horizontal' ? getOffset(that.reorderDropCue).left > getOffset(dropTarget).left : getOffset(that.reorderDropCue).top > getOffset(dropTarget).top;\n                        dropIndex = isAfter ? dropIndex + 1 : dropIndex;\n                        if (that._dropTargetAllowed(dropTarget) && !that._isLastDraggable() && that._index(draggable) !== dropIndex) {\n                            that.trigger(CHANGE, {\n                                element: that._draggable,\n                                target: dropTarget,\n                                oldIndex: that._index(draggable),\n                                newIndex: that._index(dropTarget),\n                                position: isAfter ? 'after' : 'before'\n                            });\n                        }\n                        if (that.reorderDropCue) {\n                            that.reorderDropCue.remove();\n                        }\n                    }\n                });\n                draggable.bind([\n                    'dragcancel',\n                    'dragend',\n                    'dragstart',\n                    'drag'\n                ], {\n                    dragcancel: $.proxy(that._dragcancel, that),\n                    dragend: $.proxy(that._dragend, that),\n                    dragstart: $.proxy(that._dragstart, that),\n                    drag: $.proxy(that._drag, that)\n                });\n            },\n            options: {\n                name: 'Reorderable',\n                filter: '*',\n                orientation: 'horizontal',\n                deniedIcon: 'k-i-cancel',\n                allowIcon: 'k-i-plus',\n                reorderDropCue: $('<div class=\"k-reorder-cue\"></div></div>'),\n                smartPosition: true\n            },\n            events: [CHANGE],\n            toggleHintClass: function (hint, denied) {\n                var that = this, options = that.options;\n                hint = $(hint);\n                if (denied) {\n                    hint.find('.k-drag-status').removeClass(options.allowIcon).addClass(options.deniedIcon);\n                } else {\n                    hint.find('.k-drag-status').removeClass(options.deniedIcon).addClass(options.allowIcon);\n                }\n            },\n            _handleExternalDraggable: function (draggable) {\n                var that = this;\n                that._dragcancelHandler = $.proxy(that._dragcancel, that);\n                that._dragendHandler = $.proxy(that._dragend, that);\n                that._dragstartHandler = $.proxy(that._dragstart, that);\n                that._dragHandler = $.proxy(that._drag, that);\n                that._draggable = draggable.currentTarget.closest(that.options.dropFilter);\n                that._draggableInstance = draggable;\n                that._elements = that.element.find(that.options.dropFilter);\n                draggable.bind([\n                    'dragcancel',\n                    'dragend',\n                    'dragstart',\n                    'drag'\n                ], {\n                    dragcancel: that._dragcancelHandler,\n                    dragend: that._dragendHandler,\n                    dragstart: that._dragstartHandler,\n                    drag: that._dragHandler\n                });\n            },\n            _dragcancel: function () {\n                var that = this;\n                if (that._draggableInstance && (that._dragcancelHandler || that._dragendHandler || that._dragstartHandler || that._dragHandler)) {\n                    that._draggableInstance.unbind({\n                        dragcancel: that._dragcancelHandler,\n                        dragend: that._dragendHandler,\n                        dragstart: that._dragstartHandler,\n                        drag: that._dragHandler\n                    });\n                }\n                if (that.reorderDropCue) {\n                    that.reorderDropCue.remove();\n                }\n                that._draggable = null;\n                that._elements = null;\n            },\n            _dragend: function () {\n                var that = this;\n                if (that._draggableInstance && (that._dragcancelHandler || that._dragendHandler || that._dragstartHandler || that._dragHandler)) {\n                    that._draggableInstance.unbind({\n                        dragcancel: that._dragcancelHandler,\n                        dragend: that._dragendHandler,\n                        dragstart: that._dragstartHandler,\n                        drag: that._dragHandler\n                    });\n                }\n                if (that.reorderDropCue) {\n                    that.reorderDropCue.remove();\n                }\n                that._draggable = null;\n                that._elements = null;\n            },\n            _dragstart: function (e) {\n                var that = this;\n                var target = $(e.currentTarget);\n                that._draggable = target.is(that.options.dropFilter) ? target : target.closest(that.options.dropFilter);\n                that._elements = that.element.find(that.options.dropFilter);\n            },\n            _drag: function (e) {\n                var that = this, dropIndex, sourceIndex, denied, offset = {}, target = $(e.currentTarget).closest(that.options.dropFilter);\n                if (!that._dropTarget || that.options.smartPosition && e.sender.hint.find('.k-drag-status').hasClass('k-i-cancel')) {\n                    return;\n                }\n                dropIndex = that._index(that._dropTarget);\n                sourceIndex = that._index(target);\n                sourceIndex = dropIndex > sourceIndex ? sourceIndex + 1 : sourceIndex;\n                if (that.options.orientation === 'horizontal') {\n                    var dropStartOffset = getOffset(that._dropTarget).left;\n                    var width = outerWidth(that._dropTarget);\n                    if (e.pageX > dropStartOffset + width / 2) {\n                        offset.left = dropStartOffset + width;\n                        dropIndex += 1;\n                    } else {\n                        offset.left = dropStartOffset;\n                    }\n                } else {\n                    var dropStartTop = getOffset(that._dropTarget).top;\n                    var height = outerHeight(that._dropTarget);\n                    if (e.pageY > dropStartTop + height / 2) {\n                        offset.top = dropStartTop + height;\n                        dropIndex += 1;\n                    } else {\n                        offset.top = dropStartTop;\n                    }\n                }\n                that.reorderDropCue.css(offset);\n                if (that.options.positionDropCue) {\n                    that.options.positionDropCue(that.reorderDropCue, that._dropTarget);\n                }\n                if (that._isPartOfSortable(target)) {\n                    denied = sourceIndex === dropIndex || that.options.dragOverContainers && !that.options.dragOverContainers(sourceIndex, dropIndex);\n                    that.toggleHintClass(e.sender.hint, denied);\n                }\n            },\n            _isPartOfSortable: function (draggable) {\n                var that = this;\n                return that._elements.index(draggable) >= 0;\n            },\n            _externalDraggable: function (e) {\n                var that = this, options = that.options;\n                if (!that._draggable && options.externalDraggable) {\n                    return options.externalDraggable(e);\n                }\n                return null;\n            },\n            _isLastDraggable: function () {\n                var inSameContainer = this.options.inSameContainer, draggable = this._draggable[0], elements = this._elements.get(), found = false, item;\n                if (!inSameContainer) {\n                    return false;\n                }\n                while (!found && elements.length > 0) {\n                    item = elements.pop();\n                    found = draggable !== item && inSameContainer({\n                        source: draggable,\n                        target: item,\n                        sourceIndex: this._index(draggable),\n                        targetIndex: this._index(item)\n                    });\n                }\n                return !found;\n            },\n            _dropTargetAllowed: function (dropTarget) {\n                var inSameContainer = this.options.inSameContainer, dragOverContainers = this.options.dragOverContainers, draggable = this._draggable;\n                if (draggable[0] === dropTarget[0]) {\n                    return false;\n                }\n                if (!inSameContainer || !dragOverContainers) {\n                    return true;\n                }\n                if (inSameContainer({\n                        source: draggable,\n                        target: dropTarget,\n                        sourceIndex: this._index(draggable),\n                        targetIndex: this._index(dropTarget)\n                    })) {\n                    return true;\n                }\n                return dragOverContainers(this._index(draggable), this._index(dropTarget));\n            },\n            _index: function (element) {\n                return this._elements.index(element);\n            },\n            destroy: function () {\n                var that = this;\n                Widget.fn.destroy.call(that);\n                that.element.find(that.options.dropFilter).each(function () {\n                    var item = $(this);\n                    if (item.data('kendoDropTarget')) {\n                        item.data('kendoDropTarget').destroy();\n                    }\n                });\n                if (that.draggable) {\n                    that.draggable.destroy();\n                    that.draggable.element = that.draggable = null;\n                }\n                that.reorderDropCue.remove();\n                that.elements = that.reorderDropCue = that._elements = that._draggable = null;\n            }\n        });\n        kendo.ui.plugin(Reorderable);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}